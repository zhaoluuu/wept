!function(require, directRequire){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.updateContactBase64=exports.updateLaunchBase64=void 0;const tslib_1=require("tslib"),originalcontactbase64_1=tslib_1.__importDefault(require("./originalcontactbase64")),originallaunchbase64_1=tslib_1.__importDefault(require("./originallaunchbase64")),protobuf=require("protobufjs");async function updateLaunchBase64(){const{root:e}=protobuf.parse("\n    package launchresponse;\n\n    message LaunchWxaAppResponse\n    {\n        required BaseResponse BaseResponse = 1;\n\n        optional LaunchAction Launch = 2;\n        optional CheckJsApiInfo CheckJsApi = 3;\n        optional PublicLibUpdateInfo PublicLibUpdate = 5;\n        optional ActionSheetInfo ActionSheet = 6;\n        optional WxaOperationInfo Operation = 7;\n        optional string appid = 8;\n        optional string username = 9;\n        optional string opConfig = 10; // 透传给基础库\n        optional WxaRuntimeInfo runtime_info = 11;// 小程序sdk专用\n    }\n\n    message WxaRuntimeInfo\n    {\n      optional uint32 block_reason = 1;// 拦截原因，返回给宿主app\n      optional bool can_show_start_wording = 2; // 控制小程序sdk是否展示启动wording\n    }\n\n    message WxaOperationInfo\n    {\n        optional string JsonInfo = 1; //运营的权限位都放到这个json里，透传给客户端\n    }\n\n    message PublicLibUpdateInfo\n    {\n        optional bool need_update = 1;\n        optional string url = 2;\n        optional string md5 = 3;\n        optional uint32 version = 4;\n        optional uint32 force_update = 5;\n        optional string patch_url = 6;\n        optional bool rely_update = 7;\n    }\n\n    message ActionSheetInfo\n    {\n        optional bool OpenComment = 1;\n        optional bool ShouldPopEvaluate = 2; //关闭小程序时是否可以弹评价\n        optional uint32 PopEvaluateLeastStayTime= 3; //弹评价最小停留时间\n        optional bytes control_bytes = 5; //控制字段，control_bytes[0]菜单显示和封禁，0：显示 1：不显示 2：封禁\n    }\n\n    message BaseResponse {\n      required int32 Ret = 1;\n      required SKBuiltinString_t ErrMsg = 2;\n    }\n\n    message LaunchAction\n    {\n        optional uint32 ActionCode = 1;\n        optional string OpenUrl = 2;\n        optional bool NeedHistoryList = 3;\n        optional string AlertMsg = 4;\n        optional string AlertTitle = 5;\n    }\n\n    message SKBuiltinString_t {\n      optional string String = 1;\n    }\n\n    message CheckJsApiInfo\n    {\n        optional bytes jsapi_control_bytes = 1;\n        repeated bytes state_jsapi_bytes = 2;\n    }\n  ",{keepCase:!0}),n=originallaunchbase64_1.default,t=Buffer.from(n,"base64"),a=e.lookupType("launchresponse.LaunchWxaAppResponse"),o=a.decode(t);return a.encode(o).finish().toString("base64")}async function updateContactBase64(e){const{appid:n,version:t,nickName:a,brandIconURL:o,fullPkg:i}=e,s=originalcontactbase64_1.default,r=Buffer.from(s,"base64"),{root:p}=protobuf.parse("\n  package attrresponse;\n\n  message WxaAttrSyncResponse\n  {\n    optional BaseResponse BaseResponse = 1;\n    optional bytes LastAttrVersion = 2;\n    repeated WxaAttrSyncResp_KeyValue UpdateInfoList = 3;\n    optional string WxaUserName = 4;\n    optional bytes RespBuffer = 5; \n  }\n\n  message BaseResponse {\n    required int32 Ret = 1;\n    required SKBuiltinString_t ErrMsg = 2;\n  }\n\n  message WxaAttrSyncResp_KeyValue\n  {\n    optional string Key = 1;\n    optional string Value = 2;\n  }\n\n  message SKBuiltinString_t {\n    optional string String = 1;\n  }\n  ",{keepCase:!0}),l=n,d=p.lookupType("attrresponse.WxaAttrSyncResponse"),u=d.decode(r);u.WxaUserName=l,modifyUpdateInfoListItem(u,"Signature",""),modifyUpdateInfoListItem(u,"VerifyInfo",""),modifyUpdateInfoListItem(u,"NickName",a),modifyUpdateInfoListItem(u,"QuanPin",""),modifyUpdateInfoListItem(u,"PYInitial",""),modifyUpdateInfoListItem(u,"UserName",l),modifyUpdateInfoListItem(u,"Alias",""),modifyUpdateInfoListItem(u,"BrandIconURL",o),modifyUpdateInfoListItem(u,"BigHeadImgUrl",o),modifyUpdateInfoListItem(u,"SmallHeadImgUrl",o),modifyUpdateInfoListItem(u,"WxaAppInfo",{Appid:n,Network:{},PluginInfo:{plugin_list:[]},TcbCdnDomain:{},CanPreFetchData:0}),modifyUpdateInfoListItem(u,"WxaAppVersionInfo",{AppVersion:t,UsePreloadRule:!1,module_list:[],widget_list:[i],UseModule:!1,EntranceModule:"__FULL__",Last_Version_Categories:[],client_js_ext_info:{}}),modifyUpdateInfoListItem(u,"WxaAppDynamic",{NewCategories:[],NewSetting:{MaxLocalstorageSize:10,MaxCodeSize:2,MaxWebviewDepth:5,MaxBackgroundLifespan:300,MaxRequestConcurrent:10,MaxUploadConcurrent:10,MaxDownloadConcurrent:10,MaxFileStorageSize:200,ExpiresAtList:432e3,BackgroundNetworkInterruptedTimeout:300,CanKeepAliveByAudioPlay:1,LifeSpanBeforeSuspend:5,LifeSpanAfterSuspend:1800,MaxWebsocketConnect:5,ExpendedMaxWebviewDepth:10,ActualWebviewDepth:5,WebsocketSkipPortCheck:1,MaxSubpackageSubCodeSize:2,MaxSubpackageFullCodeSize:20,MaxWorkerConcurrent:1,ScanCodeEnableZZM:0,MaxPluginSdkReadmeSize:2,CanPreFetchData:0,CanPeriodFetchData:0,PeriodFetchData:12,TLSSkipHostnameCheck:0,NavigateMiniprogramLimit:999999,OpendataMaxLocalstorageSize:10,OpendataMaxFileStorageSize:10,MaxTempFileStorageSize:2048,OpenWxaIap:1,GuaranteeFlag:1,CanShowLoadingAdvert:0,MaxSubPackageLimit:100,PeriodFetchDataDay:7,OpenWxaWaitUpdateMaxMicSec:13e3,OpenWxaWaitUpdateMaxMicSecForWeakNet:13e3,MinTempFileStorageSize:2048,Uint32MaxLocalstorageSizeInMB:10,Uint32OpendataMaxLocalstorageSizeInMB:10,Uint32MaxFileStorageSizeInMB:200,Uint32OpendataMaxFileStorageSizeInMB:10,Uint32MaxTempFileStorageSizeInMB:4096,Uint32MinTempFileStorageSizeInMB:2048,OpenProductFlag:0,UsePackageConfirmSubDescScopeList:[],PreCgiCallByteBeforeLaunch:"",CanShowGameLoadingAdvert:0}});return d.encode(u).finish().toString("base64")}function modifyUpdateInfoListItem(e,n,t){const a=e.UpdateInfoList.find(e=>e.Key===n);if(a)if("object"==typeof t){const e=JSON.parse(a.Value);for(const n in t)e[n]=t[n];a.Value=JSON.stringify(e)}else a.Value=t}exports.updateLaunchBase64=updateLaunchBase64,exports.updateContactBase64=updateContactBase64;
}(require("licia/lazyImport")(require), require)