!function(require, directRequire){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const handleError_1=require("../utils/handleerror/handleError"),transwxmltojs_1=require("../trans/transwxmltojs"),transwxsstojs_1=require("../trans/transwxsstojs"),utils_1=require("../utils"),getwxappcode_1=require("./getwxappcode");async function getPageFrameCore(e,t,a){const n=[];!0!==a.multi&&n.push('\n       <!DOCTYPE html>\n\t\t <html lang="zh-CN">\n\t\t\t <head>\n\t\t\t     <meta charset="UTF-8" />\n\t\t\t\t\t <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, viewport-fit=cover" />\n\t\t\t\t\t <meta http-equiv="Content-Security-Policy" content="script-src \'self\' \'unsafe-inline\' \'unsafe-eval\'">\n\t\t\t\t\t <link rel="icon" href="data:image/ico;base64,aWNv">\n\t\t    \t<script>'),n.push("var __mainPageFrameReady__ = window.__mainPageFrameReady__ || function(){};              var __pageFrameStartTime__ = __pageFrameStartTime__ || Date.now();              var __webviewId__ = __webviewId__;\n            var __wxAppCode__ = __wxAppCode__ || {};              var __WXML_GLOBAL__ = __WXML_GLOBAL__ || {entrys:{},defines:{},modules:{},ops:[],wxs_nf_init:undefined,total_ops:0};              var __vd_version_info__=__vd_version_info__||{};     \n  ");const r=await(0,transwxmltojs_1.transWXMLToJS)(e,t,{app:!0});n.push(r.code);const _=await(0,transwxsstojs_1.transWXSSToJS)(e,t,{app:!0});n.push((0,utils_1.escapeByEval)(_.comm));const s=await(0,getwxappcode_1.getPageFrameWxAppCode)(e,t,{app:!0,noJson:!0});return n.push(`;(window.eval || __global.__hackEval)(\`${s}\`)`),n.push(";__mainPageFrameReady__()             ;var __pageFrameEndTime__ = Date.now();"),!0!==a.multi&&n.push("<\/script>      </head>            <body>          <div></div>      </body>            </html>"),n.join("\n\n")}async function getPageFrame(e,t,a){try{return{success:!0,content:await getPageFrameCore(e,t,a)}}catch(a){return{success:!1,content:await(0,handleError_1.handleError)(e,t,a)}}}exports.default=getPageFrame;
}(require("licia/lazyImport")(require), require)