!function(require, directRequire){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.spawnSyncExecShell=exports.spawnSync=void 0;const tslib_1=require("tslib"),child_process=tslib_1.__importStar(require("child_process")),env_1=require("../utils/env");function spawnSync(e,n,o,s){return new Promise((c,t)=>{null==s||s.progress(`Run command: ${e} ${n.join(" ")}...`);const r=child_process.spawn(e,n,Object.assign({env:(0,env_1.getProcessEnv)()},o));r.stdout.on("data",e=>{null==s||s.progress(e.toString("utf-8"))}),r.stderr.on("data",e=>{null==s||s.progress(e.toString("utf-8"))}),r.on("close",o=>{0!==o?(null==s||s.message("fail",`Failed to exec command: ${e} ${n.join(" ")}`),t(`Failed to exec command: ${e} ${n.join(" ")}`)):(null==s||s.message("done",`Successful to exec command: ${e} ${n.join(" ")}`),c({}))}),r.on("error",o=>{null==s||s.message("fail",`Failed to exec command: ${e} ${n.join(" ")} becasue ${o}`),t(`Failed to exec command: ${e} ${n.join(" ")}`)})})}function spawnSyncExecShell(e,n,o,s){return new Promise((c,t)=>{null==s||s.progress(`Run command: ${e} ${n.join(" ")}...`);const r=child_process.spawn(e,n,Object.assign({env:(0,env_1.getProcessEnv)()},o));r.stdout.on("data",e=>{null==s||s.progress(e.toString("utf-8"))}),r.stderr.on("data",e=>{null==s||s.message("fail",e.toString("utf-8"))}),r.on("close",o=>{0!==o?t(`Failed to exec command: ${e} ${n.join(" ")}`):(null==s||s.progress(`Successful to exec command: ${e} ${n.join(" ")}`),c({}))}),r.on("error",o=>{t(`Failed to exec command: ${e} ${n.join(" ")} becasue ${o}`)})})}exports.spawnSync=spawnSync,exports.spawnSyncExecShell=spawnSyncExecShell;
}(require("licia/lazyImport")(require), require)