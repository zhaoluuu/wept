export class Cookie{constructor(t,e,i,r){this._name=t,this._value=e,this._type=i,this._attributes={},this._size=0,this._priority=r||"Medium",this._cookieLine=null}static fromProtocolCookie(t){const e=new Cookie(t.name,t.value,null,t.priority);return e.addAttribute("domain",t.domain),e.addAttribute("path",t.path),t.expires&&e.addAttribute("expires",1e3*t.expires),t.httpOnly&&e.addAttribute("httpOnly"),t.secure&&e.addAttribute("secure"),t.sameSite&&e.addAttribute("sameSite",t.sameSite),e.setSize(t.size),e}key(){return(this.domain()||"-")+" "+this.name()+" "+(this.path()||"-")}name(){return this._name}value(){return this._value}type(){return this._type}httpOnly(){return"httponly"in this._attributes}secure(){return"secure"in this._attributes}sameSite(){return this._attributes.samesite}priority(){return this._priority}session(){return!("expires"in this._attributes||"max-age"in this._attributes)}path(){return this._attributes.path}domain(){return this._attributes.domain}expires(){return this._attributes.expires}maxAge(){return this._attributes["max-age"]}size(){return this._size}url(){return this.domain()&&this.path()?(this.secure()?"https://":"http://")+this.domain()+this.path():null}setSize(t){this._size=t}expiresDate(t){return this.maxAge()?new Date(t.getTime()+1e3*this.maxAge()):this.expires()?new Date(this.expires()):null}addAttribute(t,e){const i=t.toLowerCase();switch(i){case"priority":this._priority=e;break;default:this._attributes[i]=e}}setCookieLine(t){this._cookieLine=t}getCookieLine(){return this._cookieLine}}export const Type={Request:0,Response:1};export const Attributes={Name:"name",Value:"value",Size:"size",Domain:"domain",Path:"path",Expires:"expires",HttpOnly:"httpOnly",Secure:"secure",SameSite:"sameSite",Priority:"priority"};export class CookieReference{constructor(t,e,i,r){this._name=t,this._domain=e,this._path=i,this._contextUrl=r}domain(){return this._domain}contextUrl(){return this._contextUrl}}