import*as Common from"../common/common.js";import*as TextUtils from"../text_utils/text_utils.js";import{PageResourceLoader,PageResourceLoadInitiator}from"./PageResourceLoader.js";export class CompilerSourceMappingContentProvider{constructor(t,e,o){this._sourceURL=t,this._contentType=e,this._initiator=o}contentURL(){return this._sourceURL}contentType(){return this._contentType}contentEncoded(){return Promise.resolve(!1)}async requestContent(){try{const{content:t}=await PageResourceLoader.instance().loadResource(this._sourceURL,this._initiator);return{content:t,isEncoded:!1}}catch(t){const e=ls`Could not load content for ${this._sourceURL} (${t.message})`;return console.error(e),{content:null,error:e,isEncoded:!1}}}async searchInContent(t,e,o){const{content:n}=await this.requestContent();return"string"!=typeof n?[]:TextUtils.TextUtils.performSearchInContent(n,t,e,o)}}