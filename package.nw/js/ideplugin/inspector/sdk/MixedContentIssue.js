import{ls}from"../common/common.js";import{Issue,IssueCategory,IssueDescription,IssueKind}from"./Issue.js";export class MixedContentIssue extends Issue{constructor(e){super(Protocol.Audits.InspectorIssueCode.MixedContentIssue),this._issueDetails=e}static translateStatus(e){return mixedContentStatus.get(e)||e}requests(){return this._issueDetails.request?[this._issueDetails.request]:[]}mixedContents(){return[this._issueDetails]}getCategory(){return IssueCategory.MixedContent}getDescription(){return{title:ls`Mixed content: load all resources via HTTPS to improve the security of your site`,message:()=>paragraphedMessage([ls`Even though the initial HTML page is loaded over a secure HTTPS connection, some resources like images, stylesheets or scripts are being accessed over an insecure HTTP connection. Usage of insecure resources is restricted to strengthen the security of your entire site.`,ls`To resolve this issue load all resources over a secure HTTPS connection.`]),issueKind:IssueKind.BreakingChange,links:[{link:"https://developers.google.com/web/fundamentals/security/prevent-mixed-content/fixing-mixed-content",linkTitle:ls`Preventing mixed content`}]}}primaryKey(){return JSON.stringify(this._issueDetails)}}function paragraphedMessage(e){const s=document.createElement("div");s.classList.add("message");for(const t of e){const e=document.createElement("p");e.textContent=t,s.appendChild(e)}return s}const mixedContentStatus=new Map([["MixedContentBlocked",ls`blocked`],["MixedContentAutomaticallyUpgraded",ls`automatically upgraded`],["MixedContentWarning",ls`warned`]]);