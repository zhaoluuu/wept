import*as Workspace from"../workspace/workspace.js";export class LiveLocation{update(){throw new Error("not implemented")}uiLocation(){throw new Error("not implemented")}dispose(){}isBlackboxed(){throw new Error("not implemented")}}export class LiveLocationWithPool{constructor(t,e){this._updateDelegate=t,this._locationPool=e,this._locationPool._add(this),this._updatePromise=null}async update(){this._updateDelegate&&(this._updatePromise?await this._updatePromise.then(()=>this.update()):(this._updatePromise=this._updateDelegate(this),await this._updatePromise,this._updatePromise=null))}async uiLocation(){throw"Not implemented"}dispose(){this._locationPool._delete(this),this._updateDelegate=null}async isBlackboxed(){throw"Not implemented"}}export class LiveLocationPool{constructor(){this._locations=new Set}_add(t){this._locations.add(t)}_delete(t){this._locations.delete(t)}disposeAll(){for(const t of this._locations)t.dispose()}}