import*as Common from"../common/common.js";import*as UI from"../ui/ui.js";export class StorageItemsView extends UI.Widget.VBox{constructor(e,t){super(!1),this._filterRegex=null,this._refreshButton=this._addButton(Common.UIString.UIString("Refresh"),"largeicon-refresh",this.refreshItems),this._mainToolbar=new UI.Toolbar.Toolbar("top-resources-toolbar",this.element),this._filterItem=new UI.Toolbar.ToolbarInput(Common.UIString.UIString("Filter"),"",.4),this._filterItem.addEventListener(UI.Toolbar.ToolbarInput.Event.TextChanged,this._filterChanged,this);const o=new UI.Toolbar.ToolbarSeparator;this._deleteAllButton=this._addButton(Common.UIString.UIString("Clear All"),"largeicon-clear",this.deleteAllItems),this._deleteSelectedButton=this._addButton(Common.UIString.UIString("Delete Selected"),"largeicon-delete",this.deleteSelectedItem);const r=[this._refreshButton,this._filterItem,o,this._deleteAllButton,this._deleteSelectedButton];for(const e of r)this._mainToolbar.appendToolbarItem(e)}appendToolbarItem(e){this._mainToolbar.appendToolbarItem(e)}_addButton(e,t,o){const r=new UI.Toolbar.ToolbarButton(e,t);return r.addEventListener(UI.Toolbar.ToolbarButton.Events.Click,o,this),r}_filterChanged(e){const t=e.data;this._filterRegex=t?new RegExp(t.escapeForRegExp(),"i"):null,this.refreshItems()}filter(e,t){if(this._filterRegex){const o=this._filterRegex;return e.filter(e=>o.test(t(e)))}return e}wasShown(){this.refreshItems()}setCanDeleteAll(e){this._deleteAllButton.setEnabled(e)}setCanDeleteSelected(e){this._deleteSelectedButton.setEnabled(e)}setCanRefresh(e){this._refreshButton.setEnabled(e)}setCanFilter(e){this._filterItem.setEnabled(e)}deleteAllItems(){}deleteSelectedItem(){}refreshItems(){}}