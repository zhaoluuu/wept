import*as Host from"../host/host.js";import*as UI from"../ui/ui.js";import{latestReleaseNote,ReleaseNote,releaseNoteViewId}from"./HelpImpl.js";export class ReleaseNoteView extends UI.Widget.VBox{constructor(){super(!0),this.registerRequiredCSS("help/releaseNote.css"),this._releaseNoteElement=this._createReleaseNoteElement(latestReleaseNote());this.contentElement.createChild("div","release-note-top-section").textContent=ls`${latestReleaseNote().header}`,this.contentElement.appendChild(this._releaseNoteElement)}elementsToRestoreScrollPositionsFor(){return[this._releaseNoteElement]}_createReleaseNoteElement(e){const t=document.createElement("div");t.classList.add("hbox");const s=t.createChild("div","release-note-container"),l=s.createChild("ul");UI.ARIAUtils.setAccessibleName(l,ls`${latestReleaseNote().header}`);let i=1;for(const t of e.highlights){const s=l.createChild("li"),n=UI.XLink.XLink.create(t.link,"","release-note-link");n.textContent="",UI.ARIAUtils.markAsLink(n),UI.ARIAUtils.setAccessibleName(n,`${t.title}: ${t.subtitle} ${i} of ${e.highlights.length}`);n.createChild("div","release-note-title").textContent=t.title;n.createChild("div","release-note-subtitle").textContent=t.subtitle,s.appendChild(n),i++}const n=s.createChild("div","release-note-action-container"),o=UI.UIUtils.createTextButton(ls`Learn more`,t=>{t.consume(!0),Host.InspectorFrontendHost.InspectorFrontendHostInstance.openInNewTab(e.link)});UI.ARIAUtils.markAsLink(o),n.appendChild(o),n.appendChild(UI.UIUtils.createTextButton(ls`Close`,e=>{e.consume(!0),self.UI.inspectorView.closeDrawerTab(releaseNoteViewId,!0)},"close-release-note"));const a=UI.XLink.XLink.create(e.link," ");a.classList.add("release-note-image"),a.title=ls`${latestReleaseNote().header}`,t.appendChild(a);const r=a.createChild("img");return r.src="Images/whatsnew.png",r.title=a.title,r.alt=r.title,t}}