import*as Common from"../common/common.js";import{InspectorFrontendHostInstance}from"./InspectorFrontendHost.js";import{EnumeratedHistogram}from"./InspectorFrontendHostAPI.js";export class UserMetrics{constructor(){this._panelChangedSinceLaunch=!1,this._firedLaunchHistogram=!1,this._launchPanelName=""}colorFixed(e){const t=ContrastThresholds[e];if(void 0===t)return void console.error("Unknown contrast threshold: "+e);const o=Object.keys(ContrastThresholds).length+1;InspectorFrontendHostInstance.recordEnumeratedHistogram(EnumeratedHistogram.ColorPickerFixedColor,t,o),Common.EventTarget.fireEvent(EnumeratedHistogram.ColorPickerFixedColor,{value:t})}panelShown(e){const t=PanelCodes[e]||0,o=Object.keys(PanelCodes).length+1;InspectorFrontendHostInstance.recordEnumeratedHistogram(EnumeratedHistogram.PanelShown,t,o),Common.EventTarget.fireEvent(EnumeratedHistogram.PanelShown,{value:t}),this._panelChangedSinceLaunch=!0}panelClosed(e){const t=PanelCodes[e]||0,o=Object.keys(PanelCodes).length+1;InspectorFrontendHostInstance.recordEnumeratedHistogram(EnumeratedHistogram.PanelClosed,t,o),Common.EventTarget.fireEvent(EnumeratedHistogram.PanelClosed,{value:t}),this._panelChangedSinceLaunch=!0}settingsPanelShown(e){this.panelShown("settings-"+e)}actionTaken(e){const t=Object.keys(Action).length+1;InspectorFrontendHostInstance.recordEnumeratedHistogram(EnumeratedHistogram.ActionTaken,e,t),Common.EventTarget.fireEvent(EnumeratedHistogram.ActionTaken,{value:e})}panelLoaded(e,t){this._firedLaunchHistogram||e!==this._launchPanelName||(this._firedLaunchHistogram=!0,requestAnimationFrame(()=>{setTimeout(()=>{performance.mark(t),this._panelChangedSinceLaunch||(InspectorFrontendHostInstance.recordPerformanceHistogram(t,performance.now()),Common.EventTarget.fireEvent("DevTools.PanelLoaded",{value:{panelName:e,histogramName:t}}))},0)}))}setLaunchPanel(e){this._launchPanelName=e}keybindSetSettingChanged(e){const t=Object.keys(KeybindSetSettings).length+1,o=KeybindSetSettings[e]||0;InspectorFrontendHostInstance.recordEnumeratedHistogram(EnumeratedHistogram.KeybindSetSettingChanged,o,t),Common.EventTarget.fireEvent(EnumeratedHistogram.KeybindSetSettingChanged,{value:o})}keyboardShortcutFired(e){const t=Object.keys(KeyboardShortcutAction).length+1,o=KeyboardShortcutAction[e]||KeyboardShortcutAction.OtherShortcut;InspectorFrontendHostInstance.recordEnumeratedHistogram(EnumeratedHistogram.KeyboardShortcutFired,o,t),Common.EventTarget.fireEvent(EnumeratedHistogram.KeyboardShortcutFired,{value:o})}issuesPanelOpenedFrom(e){const t=Object.keys(IssueOpener).length+1;InspectorFrontendHostInstance.recordEnumeratedHistogram(EnumeratedHistogram.IssuesPanelOpenedFrom,e,t),Common.EventTarget.fireEvent(EnumeratedHistogram.IssuesPanelOpenedFrom,{value:e})}dualScreenDeviceEmulated(e){const t=Object.keys(DualScreenDeviceEmulated).length+1;InspectorFrontendHostInstance.recordEnumeratedHistogram(EnumeratedHistogram.DualScreenDeviceEmulated,e,t),Common.EventTarget.fireEvent(EnumeratedHistogram.DualScreenDeviceEmulated,{value:e})}cssGridSettings(e){const t=Object.keys(CSSGridSettings).length+1,o=CSSGridSettings[e];void 0!==o&&(InspectorFrontendHostInstance.recordEnumeratedHistogram(EnumeratedHistogram.CSSGridSettings,o,t),Common.EventTarget.fireEvent(EnumeratedHistogram.CSSGridSettings,{value:o}))}experimentEnabledAtLaunch(e){const t=DevtoolsExperiments.__lastValidEnumPosition+1,o=DevtoolsExperiments[e];void 0!==o&&(InspectorFrontendHostInstance.recordEnumeratedHistogram(EnumeratedHistogram.ExperimentEnabledAtLaunch,o,t),Common.EventTarget.fireEvent(EnumeratedHistogram.ExperimentEnabledAtLaunch,{value:o}))}experimentChanged(e,t){const o=DevtoolsExperiments.__lastValidEnumPosition+1,n=DevtoolsExperiments[e];if(void 0===n)return;const r=t?EnumeratedHistogram.ExperimentEnabled:EnumeratedHistogram.ExperimentDisabled;InspectorFrontendHostInstance.recordEnumeratedHistogram(r,n,o),Common.EventTarget.fireEvent(r,{value:n})}}export const Action={WindowDocked:1,WindowUndocked:2,ScriptsBreakpointSet:3,TimelineStarted:4,ProfilesCPUProfileTaken:5,ProfilesHeapProfileTaken:6,"LegacyAuditsStarted-deprecated":7,ConsoleEvaluated:8,FileSavedInWorkspace:9,DeviceModeEnabled:10,AnimationsPlaybackRateChanged:11,RevisionApplied:12,FileSystemDirectoryContentReceived:13,StyleRuleEdited:14,CommandEvaluatedInConsolePanel:15,DOMPropertiesExpanded:16,ResizedViewInResponsiveMode:17,TimelinePageReloadStarted:18,ConnectToNodeJSFromFrontend:19,ConnectToNodeJSDirectly:20,CpuThrottlingEnabled:21,CpuProfileNodeFocused:22,CpuProfileNodeExcluded:23,SelectFileFromFilePicker:24,SelectCommandFromCommandMenu:25,ChangeInspectedNodeInElementsPanel:26,StyleRuleCopied:27,CoverageStarted:28,LighthouseStarted:29,LighthouseFinished:30,ShowedThirdPartyBadges:31,LighthouseViewTrace:32,FilmStripStartedRecording:33,CoverageReportFiltered:34,CoverageStartedPerBlock:35,SettingsOpenedFromGear:36,SettingsOpenedFromMenu:37,SettingsOpenedFromCommandMenu:38,TabMovedToDrawer:39,TabMovedToMainPanel:40,CaptureCssOverviewClicked:41,VirtualAuthenticatorEnvironmentEnabled:42,SourceOrderViewActivated:43};export const ContrastThresholds={aa:0,aaa:1};export const PanelCodes={elements:1,resources:2,network:3,sources:4,timeline:5,heap_profiler:6,"legacy-audits-deprecated":7,console:8,layers:9,"console-view":10,animations:11,"network.config":12,rendering:13,sensors:14,"sources.search":15,security:16,js_profiler:17,lighthouse:18,coverage:19,"protocol-monitor":20,"remote-devices":21,"web-audio":22,"changes.changes":23,"performance.monitor":24,"release-note":25,live_heap_profile:26,"sources.quick":27,"network.blocked-urls":28,"settings-preferences":29,"settings-workspace":30,"settings-experiments":31,"settings-blackbox":32,"settings-devices":33,"settings-throttling-conditions":34,"settings-emulation-locations":35,"settings-shortcuts":36,"issues-pane":37,"settings-keybinds":38,cssoverview:39};export const KeybindSetSettings={devToolsDefault:0,vsCode:1};export const KeyboardShortcutAction={OtherShortcut:0,"commandMenu.show":1,"console.clear":2,"console.show":3,"debugger.step":4,"debugger.step-into":5,"debugger.step-out":6,"debugger.step-over":7,"debugger.toggle-breakpoint":8,"debugger.toggle-breakpoint-enabled":9,"debugger.toggle-pause":10,"elements.edit-as-html":11,"elements.hide-element":12,"elements.redo":13,"elements.toggle-element-search":14,"elements.undo":15,"main.search-in-panel.find":16,"main.toggle-drawer":17,"network.hide-request-details":18,"network.search":19,"network.toggle-recording":20,"quickOpen.show":21,"settings.show":22,"sources.search":23,"background-service.toggle-recording":24,"components.collect-garbage":25,"console.clear.history":26,"console.create-pin":27,"coverage.start-with-reload":28,"coverage.toggle-recording":29,"debugger.breakpoint-input-window":30,"debugger.evaluate-selection":31,"debugger.next-call-frame":32,"debugger.previous-call-frame":33,"debugger.run-snippet":34,"debugger.toggle-breakpoints-active":35,"elements.capture-area-screenshot":36,"emulation.capture-full-height-screenshot":37,"emulation.capture-node-screenshot":38,"emulation.capture-screenshot":39,"emulation.show-sensors":40,"emulation.toggle-device-mode":41,"help.release-notes":42,"help.report-issue":43,"input.start-replaying":44,"input.toggle-pause":45,"input.toggle-recording":46,"inspector_main.focus-debuggee":47,"inspector_main.hard-reload":48,"inspector_main.reload":49,"live-heap-profile.start-with-reload":50,"live-heap-profile.toggle-recording":51,"main.debug-reload":52,"main.next-tab":53,"main.previous-tab":54,"main.search-in-panel.cancel":55,"main.search-in-panel.find-next":56,"main.search-in-panel.find-previous":57,"main.toggle-dock":58,"main.zoom-in":59,"main.zoom-out":60,"main.zoom-reset":61,"network-conditions.network-low-end-mobile":62,"network-conditions.network-mid-tier-mobile":63,"network-conditions.network-offline":64,"network-conditions.network-online":65,"profiler.heap-toggle-recording":66,"profiler.js-toggle-recording":67,"resources.clear":68,"settings.documentation":69,"settings.shortcuts":70,"sources.add-folder-to-workspace":71,"sources.add-to-watch":72,"sources.close-all":73,"sources.close-editor-tab":74,"sources.create-snippet":75,"sources.go-to-line":76,"sources.go-to-member":77,"sources.jump-to-next-location":78,"sources.jump-to-previous-location":79,"sources.rename":80,"sources.save":81,"sources.save-all":82,"sources.switch-file":83,"timeline.jump-to-next-frame":84,"timeline.jump-to-previous-frame":85,"timeline.load-from-file":86,"timeline.next-recording":87,"timeline.previous-recording":88,"timeline.record-reload":89,"timeline.save-to-file":90,"timeline.show-history":91,"timeline.toggle-recording":92};export const IssueOpener={ConsoleInfoBar:0,LearnMoreLinkCOEP:1,StatusBarIssuesCounter:2,HamburgerMenu:3,Adorner:4};export const DualScreenDeviceEmulated={DualScreenDeviceSelected:0,SpanButtonClicked:1,PlatformSupportUsed:2};export const CSSGridSettings={"showGridBorder.none":0,"showGridBorder.dashed":1,"showGridBorder.solid":2,"showGridLines.none":3,"showGridLines.dashed":4,"showGridLines.solid":5,"showGridLines.extended-dashed":6,"showGridLines.extended-solid":7,"showGridLineNumbers.none":8,"showGridLineNumbers.positive":9,"showGridLineNumbers.negative":10,"showGridLineNumbers.both":11,"showGridGaps.none":12,"showGridGaps.row-gaps":13,"showGridGaps.column-gaps":14,"showGridGaps.both":15,"showGridAreas.false":16,"showGridAreas.true":17,"showGridLineNumbers.names":18,"showGridTrackSizes.false":19,"showGridTrackSizes.true":20};export const DevtoolsExperiments={applyCustomStylesheet:0,captureNodeCreationStacks:1,sourcesPrettyPrint:2,backgroundServices:3,backgroundServicesNotifications:4,backgroundServicesPaymentHandler:5,backgroundServicesPushMessaging:6,blackboxJSFramesOnTimeline:7,cssOverview:8,emptySourceMapAutoStepping:9,inputEventsOnTimelineOverview:10,liveHeapProfile:11,nativeHeapProfiler:12,protocolMonitor:13,issuesPane:14,developerResourcesView:15,recordCoverageWithPerformanceTracing:16,samplingHeapProfilerTimeline:17,showOptionToNotTreatGlobalObjectsAsRoots:18,sourceDiff:19,sourceOrderViewer:20,spotlight:21,webauthnPane:22,customKeyboardShortcuts:23,timelineEventInitiators:24,timelineFlowEvents:25,timelineInvalidationTracking:26,timelineShowAllEvents:27,timelineV8RuntimeCallStats:28,timelineWebGL:29,timelineReplayEvent:30,wasmDWARFDebugging:31,dualScreenSupport:32,cssGridFeatures:33,movableTabs:34,__lastValidEnumPosition:34};