import{Trie}from"./Trie.js";export class TextDictionary{constructor(){this._words=new Map,this._index=new Trie}addWord(r){let e=this._words.get(r)||0;++e,this._words.set(r,e),this._index.add(r)}removeWord(r){let e=this._words.get(r)||0;if(e){if(1===e)return this._words.delete(r),void this._index.remove(r);--e,this._words.set(r,e)}}wordsWithPrefix(r){return this._index.words(r)}hasWord(r){return this._words.has(r)}wordCount(r){return this._words.get(r)||0}reset(){this._words.clear(),this._index.clear()}}