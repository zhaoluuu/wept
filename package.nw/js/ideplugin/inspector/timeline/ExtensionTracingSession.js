import*as Extensions from"../extensions/extensions.js";import*as SDK from"../sdk/sdk.js";import{PerformanceModel}from"./PerformanceModel.js";import{Client,TimelineLoader}from"./TimelineLoader.js";export class ExtensionTracingSession{constructor(e,o){this._provider=e,this._performanceModel=o,this._completionCallback,this._completionPromise=new Promise(e=>{this._completionCallback=e}),this._timeOffset=0}loadingStarted(){}processingStarted(){}loadingProgress(e){}loadingComplete(e){e&&(this._performanceModel.addExtensionEvents(this._provider.longDisplayName(),e,this._timeOffset),this._completionCallback())}complete(e,o){e?(this._timeOffset=o,TimelineLoader.loadFromURL(e,this)):this._completionCallback()}start(){this._provider.start(this)}stop(){return this._provider.stop(),this._completionPromise}}