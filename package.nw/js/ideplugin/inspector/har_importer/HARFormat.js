class HARBase{constructor(e){if(!e||"object"!=typeof e)throw"First parameter is expected to be an object"}static _safeDate(e){const t=new Date(e);if(!Number.isNaN(t.getTime()))return t;throw"Invalid date format"}static _safeNumber(e){const t=Number(e);if(!Number.isNaN(t))return t;throw"Casting to number results in NaN"}static _optionalNumber(e){return void 0!==e?HARBase._safeNumber(e):void 0}static _optionalString(e){return void 0!==e?String(e):void 0}customAsString(e){const t=this["_"+e];return void 0!==t?String(t):void 0}customAsNumber(e){let t=this["_"+e];if(void 0!==t&&(t=Number(t),!Number.isNaN(t)))return t}customAsArray(e){const t=this["_"+e];return Array.isArray(t)?t:void 0}}export class HARRoot extends HARBase{constructor(e){super(e),this.log=new HARLog(e.log)}}export class HARLog extends HARBase{constructor(e){if(super(e),this.version=String(e.version),this.creator=new HARCreator(e.creator),this.browser=e.browser?new HARCreator(e.browser):void 0,this.pages=Array.isArray(e.pages)?e.pages.map(e=>new HARPage(e)):[],!Array.isArray(e.entries))throw"log.entries is expected to be an array";this.entries=e.entries.map(e=>new HAREntry(e)),this.comment=HARBase._optionalString(e.comment)}}class HARCreator extends HARBase{constructor(e){super(e),this.name=String(e.name),this.version=String(e.version),this.comment=HARBase._optionalString(e.comment)}}export class HARPage extends HARBase{constructor(e){super(e),this.startedDateTime=HARBase._safeDate(e.startedDateTime),this.id=String(e.id),this.title=String(e.title),this.pageTimings=new HARPageTimings(e.pageTimings),this.comment=HARBase._optionalString(e.comment)}}class HARPageTimings extends HARBase{constructor(e){super(e),this.onContentLoad=HARBase._optionalNumber(e.onContentLoad),this.onLoad=HARBase._optionalNumber(e.onLoad),this.comment=HARBase._optionalString(e.comment)}}export class HAREntry extends HARBase{constructor(e){super(e),this.pageref=HARBase._optionalString(e.pageref),this.startedDateTime=HARBase._safeDate(e.startedDateTime),this.time=HARBase._safeNumber(e.time),this.request=new HARRequest(e.request),this.response=new HARResponse(e.response),this.cache={},this.timings=new HARTimings(e.timings),this.serverIPAddress=HARBase._optionalString(e.serverIPAddress),this.connection=HARBase._optionalString(e.connection),this.comment=HARBase._optionalString(e.comment),this._fromCache=HARBase._optionalString(e._fromCache),this._initiator=this._importInitiator(e._initiator),this._priority=HARBase._optionalString(e._priority),this._resourceType=HARBase._optionalString(e._resourceType),this._webSocketMessages=this._importWebSocketMessages(e._webSocketMessages)}_importInitiator(e){if("object"==typeof e)return new HARInitiator(e)}_importWebSocketMessages(e){if(!Array.isArray(e))return;const t=[];for(const s of e){if("object"!=typeof s)return;t.push(new HARWebSocketMessage(s))}return t}}class HARRequest extends HARBase{constructor(e){super(e),this.method=String(e.method),this.url=String(e.url),this.httpVersion=String(e.httpVersion),this.cookies=Array.isArray(e.cookies)?e.cookies.map(e=>new HARCookie(e)):[],this.headers=Array.isArray(e.headers)?e.headers.map(e=>new HARHeader(e)):[],this.queryString=Array.isArray(e.queryString)?e.queryString.map(e=>new HARQueryString(e)):[],this.postData=e.postData?new HARPostData(e.postData):void 0,this.headersSize=HARBase._safeNumber(e.headersSize),this.bodySize=HARBase._safeNumber(e.bodySize),this.comment=HARBase._optionalString(e.comment)}}class HARResponse extends HARBase{constructor(e){super(e),this.status=HARBase._safeNumber(e.status),this.statusText=String(e.statusText),this.httpVersion=String(e.httpVersion),this.cookies=Array.isArray(e.cookies)?e.cookies.map(e=>new HARCookie(e)):[],this.headers=Array.isArray(e.headers)?e.headers.map(e=>new HARHeader(e)):[],this.content=new HARContent(e.content),this.redirectURL=String(e.redirectURL),this.headersSize=HARBase._safeNumber(e.headersSize),this.bodySize=HARBase._safeNumber(e.bodySize),this.comment=HARBase._optionalString(e.comment),this._transferSize=HARBase._optionalNumber(e._transferSize),this._error=HARBase._optionalString(e._error)}}class HARCookie extends HARBase{constructor(e){super(e),this.name=String(e.name),this.value=String(e.value),this.path=HARBase._optionalString(e.path),this.domain=HARBase._optionalString(e.domain),this.expires=e.expires?HARBase._safeDate(e.expires):void 0,this.httpOnly=void 0!==e.httpOnly?!!e.httpOnly:void 0,this.secure=void 0!==e.secure?!!e.secure:void 0,this.comment=HARBase._optionalString(e.comment)}}class HARHeader extends HARBase{constructor(e){super(e),this.name=String(e.name),this.value=String(e.value),this.comment=HARBase._optionalString(e.comment)}}class HARQueryString extends HARBase{constructor(e){super(e),this.name=String(e.name),this.value=String(e.value),this.comment=HARBase._optionalString(e.comment)}}class HARPostData extends HARBase{constructor(e){super(e),this.mimeType=String(e.mimeType),this.params=Array.isArray(e.params)?e.params.map(e=>new HARParam(e)):[],this.text=String(e.text),this.comment=HARBase._optionalString(e.comment)}}export class HARParam extends HARBase{constructor(e){super(e),this.name=String(e.name),this.value=HARBase._optionalString(e.value),this.fileName=HARBase._optionalString(e.fileName),this.contentType=HARBase._optionalString(e.contentType),this.comment=HARBase._optionalString(e.comment)}}class HARContent extends HARBase{constructor(e){super(e),this.size=HARBase._safeNumber(e.size),this.compression=HARBase._optionalNumber(e.compression),this.mimeType=String(e.mimeType),this.text=HARBase._optionalString(e.text),this.encoding=HARBase._optionalString(e.encoding),this.comment=HARBase._optionalString(e.comment)}}export class HARTimings extends HARBase{constructor(e){super(e),this.blocked=HARBase._optionalNumber(e.blocked),this.dns=HARBase._optionalNumber(e.dns),this.connect=HARBase._optionalNumber(e.connect),this.send=HARBase._safeNumber(e.send),this.wait=HARBase._safeNumber(e.wait),this.receive=HARBase._safeNumber(e.receive),this.ssl=HARBase._optionalNumber(e.ssl),this.comment=HARBase._optionalString(e.comment),this._blocked_queueing=HARBase._optionalNumber(e._blocked_queueing),this._blocked_proxy=HARBase._optionalNumber(e._blocked_proxy)}}export class HARInitiator extends HARBase{constructor(e){super(e),this.type=HARBase._optionalString(e.type),this.url=HARBase._optionalString(e.url),this.lineNumber=HARBase._optionalNumber(e.lineNumber)}}class HARWebSocketMessage extends HARBase{constructor(e){super(e),this.time=HARBase._optionalNumber(e.time),this.opcode=HARBase._optionalNumber(e.opcode),this.data=HARBase._optionalString(e.data),this.type=HARBase._optionalString(e.type)}}