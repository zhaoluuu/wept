import{NodeParamConnectionData,NodesConnectionData}from"./GraphStyle.js";import{generateInputPortId,generateOutputPortId,generateParamPortId}from"./NodeView.js";export class EdgeView{constructor(e,t){const{edgeId:o,sourcePortId:r,destinationPortId:d}=generateEdgePortIdsByData(e,t);this.id=o,this.type=t,this.sourceId=e.sourceId,this.destinationId=e.destinationId,this.sourcePortId=r,this.destinationPortId=d}}export const generateEdgePortIdsByData=(e,t)=>{if(!e.sourceId||!e.destinationId)return console.error("Undefined node message: "+JSON.stringify(e)),null;const o=generateOutputPortId(e.sourceId,e.sourceOutputIndex),r=function(e,t){if(t===EdgeTypes.NodeToNode)return generateInputPortId(e.destinationId,e.destinationInputIndex);if(t===EdgeTypes.NodeToParam)return generateParamPortId(e.destinationId,e.destinationParamId);return console.error("Unknown edge type: "+t),""}(e,t);return{edgeId:`${o}->${r}`,sourcePortId:o,destinationPortId:r}};export const EdgeTypes={NodeToNode:Symbol("NodeToNode"),NodeToParam:Symbol("NodeToParam")};