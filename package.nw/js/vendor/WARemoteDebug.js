(()=>{var e={2267:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tagProperty=t.tagParameter=t.decorate=void 0;var r=n(4515),i=n(680);function o(e,t,n,i,o){var a={},s="number"==typeof o,u=void 0!==o&&s?o.toString():n;if(s&&void 0!==n)throw new Error(r.INVALID_DECORATOR_OPERATION);Reflect.hasOwnMetadata(e,t)&&(a=Reflect.getMetadata(e,t));var d=a[u];if(Array.isArray(d))for(var l=0,c=d;l<c.length;l++){var h=c[l];if(h.key===i.key)throw new Error(r.DUPLICATED_METADATA+" "+h.key.toString())}else d=[];d.push(i),a[u]=d,Reflect.defineMetadata(e,a,t)}function a(e,t){Reflect.decorate(e,t)}function s(e,t){return function(n,r){t(n,r,e)}}t.tagParameter=function(e,t,n,r){o(i.TAGGED,e,t,r,n)},t.tagProperty=function(e,t,n){o(i.TAGGED_PROP,e.constructor,t,n)},t.decorate=function(e,t,n){"number"==typeof n?a([s(n,e)],t):"string"==typeof n?Reflect.decorate([e],t,n):a([e],t)}},2145:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inject=t.LazyServiceIdentifer=void 0;var r=n(4515),i=n(680),o=n(7980),a=n(2267),s=function(){function e(e){this._cb=e}return e.prototype.unwrap=function(){return this._cb()},e}();t.LazyServiceIdentifer=s,t.inject=function(e){return function(t,n,s){if(void 0===e)throw new Error(r.UNDEFINED_INJECT_ANNOTATION(t.name));var u=new o.Metadata(i.INJECT_TAG,e);"number"==typeof s?a.tagParameter(t,n,s,u):a.tagProperty(t,n,u)}}},6954:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectable=void 0;var r=n(4515),i=n(680);t.injectable=function(){return function(e){if(Reflect.hasOwnMetadata(i.PARAM_TYPES,e))throw new Error(r.DUPLICATED_INJECTABLE_DECORATOR);var t=Reflect.getMetadata(i.DESIGN_PARAM_TYPES,e)||[];return Reflect.defineMetadata(i.PARAM_TYPES,t,e),e}}},1930:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiInject=void 0;var r=n(680),i=n(7980),o=n(2267);t.multiInject=function(e){return function(t,n,a){var s=new i.Metadata(r.MULTI_INJECT_TAG,e);"number"==typeof a?o.tagParameter(t,n,a,s):o.tagProperty(t,n,s)}}},7151:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.named=void 0;var r=n(680),i=n(7980),o=n(2267);t.named=function(e){return function(t,n,a){var s=new i.Metadata(r.NAMED_TAG,e);"number"==typeof a?o.tagParameter(t,n,a,s):o.tagProperty(t,n,s)}}},2796:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.optional=void 0;var r=n(680),i=n(7980),o=n(2267);t.optional=function(){return function(e,t,n){var a=new i.Metadata(r.OPTIONAL_TAG,!0);"number"==typeof n?o.tagParameter(e,t,n,a):o.tagProperty(e,t,a)}}},7596:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.postConstruct=void 0;var r=n(4515),i=n(680),o=n(7980);t.postConstruct=function(){return function(e,t,n){var a=new o.Metadata(i.POST_CONSTRUCT,t);if(Reflect.hasOwnMetadata(i.POST_CONSTRUCT,e.constructor))throw new Error(r.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.defineMetadata(i.POST_CONSTRUCT,a,e.constructor)}}},5242:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tagged=void 0;var r=n(7980),i=n(2267);t.tagged=function(e,t){return function(n,o,a){var s=new r.Metadata(e,t);"number"==typeof a?i.tagParameter(n,o,a,s):i.tagProperty(n,o,s)}}},3263:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.targetName=void 0;var r=n(680),i=n(7980),o=n(2267);t.targetName=function(e){return function(t,n,a){var s=new i.Metadata(r.NAME_TAG,e);o.tagParameter(t,n,a,s)}}},132:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unmanaged=void 0;var r=n(680),i=n(7980),o=n(2267);t.unmanaged=function(){return function(e,t,n){var a=new i.Metadata(r.UNMANAGED_TAG,!0);o.tagParameter(e,t,n,a)}}},6915:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Binding=void 0;var r=n(4654),i=n(9892),o=function(){function e(e,t){this.id=i.id(),this.activated=!1,this.serviceIdentifier=e,this.scope=t,this.type=r.BindingTypeEnum.Invalid,this.constraint=function(e){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return e.prototype.clone=function(){var t=new e(this.serviceIdentifier,this.scope);return t.activated=t.scope===r.BindingScopeEnum.Singleton&&this.activated,t.implementationType=this.implementationType,t.dynamicValue=this.dynamicValue,t.scope=this.scope,t.type=this.type,t.factory=this.factory,t.provider=this.provider,t.constraint=this.constraint,t.onActivation=this.onActivation,t.cache=this.cache,t},e}();t.Binding=o},4850:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingCount=void 0;t.BindingCount={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1}},4515:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STACK_OVERFLOW=t.CIRCULAR_DEPENDENCY_IN_FACTORY=t.POST_CONSTRUCT_ERROR=t.MULTIPLE_POST_CONSTRUCT_METHODS=t.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK=t.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE=t.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE=t.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT=t.ARGUMENTS_LENGTH_MISMATCH=t.INVALID_DECORATOR_OPERATION=t.INVALID_TO_SELF_VALUE=t.INVALID_FUNCTION_BINDING=t.INVALID_MIDDLEWARE_RETURN=t.NO_MORE_SNAPSHOTS_AVAILABLE=t.INVALID_BINDING_TYPE=t.NOT_IMPLEMENTED=t.CIRCULAR_DEPENDENCY=t.UNDEFINED_INJECT_ANNOTATION=t.MISSING_INJECT_ANNOTATION=t.MISSING_INJECTABLE_ANNOTATION=t.NOT_REGISTERED=t.CANNOT_UNBIND=t.AMBIGUOUS_MATCH=t.KEY_NOT_FOUND=t.NULL_ARGUMENT=t.DUPLICATED_METADATA=t.DUPLICATED_INJECTABLE_DECORATOR=void 0,t.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",t.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",t.NULL_ARGUMENT="NULL argument",t.KEY_NOT_FOUND="Key Not Found",t.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",t.CANNOT_UNBIND="Could not unbind serviceIdentifier:",t.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",t.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",t.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:";t.UNDEFINED_INJECT_ANNOTATION=function(e){return"@inject called with undefined this could mean that the class "+e+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."},t.CIRCULAR_DEPENDENCY="Circular dependency found:",t.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",t.INVALID_BINDING_TYPE="Invalid binding type:",t.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",t.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",t.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",t.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",t.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";t.ARGUMENTS_LENGTH_MISMATCH=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"The number of constructor arguments in the derived class "+e[0]+" must be >= than the number of constructor arguments of its base class."},t.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",t.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",t.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",t.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",t.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class";t.POST_CONSTRUCT_ERROR=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"@postConstruct error in class "+e[0]+": "+e[1]};t.CIRCULAR_DEPENDENCY_IN_FACTORY=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"It looks like there is a circular dependency in one of the '"+e[0]+"' bindings. Please investigate bindings withservice identifier '"+e[1]+"'."},t.STACK_OVERFLOW="Maximum call stack size exceeded"},4654:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TargetTypeEnum=t.BindingTypeEnum=t.BindingScopeEnum=void 0;t.BindingScopeEnum={Request:"Request",Singleton:"Singleton",Transient:"Transient"};t.BindingTypeEnum={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};t.TargetTypeEnum={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"}},680:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NON_CUSTOM_TAG_KEYS=t.POST_CONSTRUCT=t.DESIGN_PARAM_TYPES=t.PARAM_TYPES=t.TAGGED_PROP=t.TAGGED=t.MULTI_INJECT_TAG=t.INJECT_TAG=t.OPTIONAL_TAG=t.UNMANAGED_TAG=t.NAME_TAG=t.NAMED_TAG=void 0,t.NAMED_TAG="named",t.NAME_TAG="name",t.UNMANAGED_TAG="unmanaged",t.OPTIONAL_TAG="optional",t.INJECT_TAG="inject",t.MULTI_INJECT_TAG="multi_inject",t.TAGGED="inversify:tagged",t.TAGGED_PROP="inversify:tagged_props",t.PARAM_TYPES="inversify:paramtypes",t.DESIGN_PARAM_TYPES="design:paramtypes",t.POST_CONSTRUCT="post_construct",t.NON_CUSTOM_TAG_KEYS=[t.INJECT_TAG,t.MULTI_INJECT_TAG,t.NAME_TAG,t.UNMANAGED_TAG,t.NAMED_TAG,t.OPTIONAL_TAG]},7965:(e,t,n)=>{"use strict";var r=globalThis&&globalThis.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=globalThis&&globalThis.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=globalThis&&globalThis.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.Container=void 0;var a=n(6915),s=n(4515),u=n(4654),d=n(680),l=n(7189),c=n(9499),h=n(6772),p=n(872),f=n(9892),g=n(1456),v=n(2277),m=n(5186),y=function(){function e(e){this._appliedMiddleware=[];var t=e||{};if("object"!=typeof t)throw new Error(""+s.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(void 0===t.defaultScope)t.defaultScope=u.BindingScopeEnum.Transient;else if(t.defaultScope!==u.BindingScopeEnum.Singleton&&t.defaultScope!==u.BindingScopeEnum.Transient&&t.defaultScope!==u.BindingScopeEnum.Request)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(void 0===t.autoBindInjectable)t.autoBindInjectable=!1;else if("boolean"!=typeof t.autoBindInjectable)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(void 0===t.skipBaseClassChecks)t.skipBaseClassChecks=!1;else if("boolean"!=typeof t.skipBaseClassChecks)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:t.autoBindInjectable,defaultScope:t.defaultScope,skipBaseClassChecks:t.skipBaseClassChecks},this.id=f.id(),this._bindingDictionary=new m.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new l.MetadataReader}return e.merge=function(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var a=new e,s=o([t,n],r).map((function(e){return c.getBindingDictionary(e)})),u=c.getBindingDictionary(a);function d(e,t){e.traverse((function(e,n){n.forEach((function(e){t.add(e.serviceIdentifier,e.clone())}))}))}return s.forEach((function(e){d(e,u)})),a},e.prototype.load=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=this._getContainerModuleHelpersFactory(),r=0,i=e;r<i.length;r++){var o=i[r],a=n(o.id);o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)}},e.prototype.loadAsync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r(this,void 0,void 0,(function(){var t,n,r,o,a;return i(this,(function(i){switch(i.label){case 0:t=this._getContainerModuleHelpersFactory(),n=0,r=e,i.label=1;case 1:return n<r.length?(o=r[n],a=t(o.id),[4,o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)]):[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))},e.prototype.unload=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(e){return function(t){return t.moduleId===e}};t.forEach((function(t){var n=r(t.id);e._bindingDictionary.removeByCondition(n)}))},e.prototype.bind=function(e){var t=this.options.defaultScope||u.BindingScopeEnum.Transient,n=new a.Binding(e,t);return this._bindingDictionary.add(e,n),new p.BindingToSyntax(n)},e.prototype.rebind=function(e){return this.unbind(e),this.bind(e)},e.prototype.unbind=function(e){try{this._bindingDictionary.remove(e)}catch(t){throw new Error(s.CANNOT_UNBIND+" "+g.getServiceIdentifierAsString(e))}},e.prototype.unbindAll=function(){this._bindingDictionary=new m.Lookup},e.prototype.isBound=function(e){var t=this._bindingDictionary.hasKey(e);return!t&&this.parent&&(t=this.parent.isBound(e)),t},e.prototype.isBoundNamed=function(e,t){return this.isBoundTagged(e,d.NAMED_TAG,t)},e.prototype.isBoundTagged=function(e,t,n){var r=!1;if(this._bindingDictionary.hasKey(e)){var i=this._bindingDictionary.get(e),o=c.createMockRequest(this,e,t,n);r=i.some((function(e){return e.constraint(o)}))}return!r&&this.parent&&(r=this.parent.isBoundTagged(e,t,n)),r},e.prototype.snapshot=function(){this._snapshots.push(v.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},e.prototype.restore=function(){var e=this._snapshots.pop();if(void 0===e)throw new Error(s.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=e.bindings,this._middleware=e.middleware},e.prototype.createChild=function(t){var n=new e(t||this.options);return n.parent=this,n},e.prototype.applyMiddleware=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._appliedMiddleware=this._appliedMiddleware.concat(e);var n=this._middleware?this._middleware:this._planAndResolve();this._middleware=e.reduce((function(e,t){return t(e)}),n)},e.prototype.applyCustomMetadataReader=function(e){this._metadataReader=e},e.prototype.get=function(e){return this._get(!1,!1,u.TargetTypeEnum.Variable,e)},e.prototype.getTagged=function(e,t,n){return this._get(!1,!1,u.TargetTypeEnum.Variable,e,t,n)},e.prototype.getNamed=function(e,t){return this.getTagged(e,d.NAMED_TAG,t)},e.prototype.getAll=function(e){return this._get(!0,!0,u.TargetTypeEnum.Variable,e)},e.prototype.getAllTagged=function(e,t,n){return this._get(!1,!0,u.TargetTypeEnum.Variable,e,t,n)},e.prototype.getAllNamed=function(e,t){return this.getAllTagged(e,d.NAMED_TAG,t)},e.prototype.resolve=function(e){var t=this.createChild();return t.bind(e).toSelf(),this._appliedMiddleware.forEach((function(e){t.applyMiddleware(e)})),t.get(e)},e.prototype._getContainerModuleHelpersFactory=function(){var e=this,t=function(e,t){e._binding.moduleId=t},n=function(n){return function(r){var i=e.rebind.bind(e)(r);return t(i,n),i}};return function(r){return{bindFunction:(i=r,function(n){var r=e.bind.bind(e)(n);return t(r,i),r}),isboundFunction:function(t){return e.isBound.bind(e)(t)},rebindFunction:n(r),unbindFunction:function(t){e.unbind.bind(e)(t)}};var i}},e.prototype._get=function(e,t,n,r,i,o){var a=null,u={avoidConstraints:e,contextInterceptor:function(e){return e},isMultiInject:t,key:i,serviceIdentifier:r,targetType:n,value:o};if(this._middleware){if(null==(a=this._middleware(u)))throw new Error(s.INVALID_MIDDLEWARE_RETURN)}else a=this._planAndResolve()(u);return a},e.prototype._planAndResolve=function(){var e=this;return function(t){var n=c.plan(e._metadataReader,e,t.isMultiInject,t.targetType,t.serviceIdentifier,t.key,t.value,t.avoidConstraints);return n=t.contextInterceptor(n),h.resolve(n)}},e}();t.Container=y},2610:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncContainerModule=t.ContainerModule=void 0;var r=n(9892),i=function(e){this.id=r.id(),this.registry=e};t.ContainerModule=i;var o=function(e){this.id=r.id(),this.registry=e};t.AsyncContainerModule=o},2277:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContainerSnapshot=void 0;var n=function(){function e(){}return e.of=function(t,n){var r=new e;return r.bindings=t,r.middleware=n,r},e}();t.ContainerSnapshot=n},5186:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Lookup=void 0;var r=n(4515),i=function(){function e(){this._map=new Map}return e.prototype.getMap=function(){return this._map},e.prototype.add=function(e,t){if(null==e)throw new Error(r.NULL_ARGUMENT);if(null==t)throw new Error(r.NULL_ARGUMENT);var n=this._map.get(e);void 0!==n?(n.push(t),this._map.set(e,n)):this._map.set(e,[t])},e.prototype.get=function(e){if(null==e)throw new Error(r.NULL_ARGUMENT);var t=this._map.get(e);if(void 0!==t)return t;throw new Error(r.KEY_NOT_FOUND)},e.prototype.remove=function(e){if(null==e)throw new Error(r.NULL_ARGUMENT);if(!this._map.delete(e))throw new Error(r.KEY_NOT_FOUND)},e.prototype.removeByCondition=function(e){var t=this;this._map.forEach((function(n,r){var i=n.filter((function(t){return!e(t)}));i.length>0?t._map.set(r,i):t._map.delete(r)}))},e.prototype.hasKey=function(e){if(null==e)throw new Error(r.NULL_ARGUMENT);return this._map.has(e)},e.prototype.clone=function(){var t=new e;return this._map.forEach((function(e,n){e.forEach((function(e){return t.add(n,e.clone())}))})),t},e.prototype.traverse=function(e){this._map.forEach((function(t,n){e(n,t)}))},e}();t.Lookup=i},2547:(e,t,n)=>{"use strict";t.jt=t.f3=t.t6=t.b2=t.W2=void 0,n(680);var r=n(7965);Object.defineProperty(t,"W2",{enumerable:!0,get:function(){return r.Container}});var i=n(4654);var o=n(2610);var a=n(6954);Object.defineProperty(t,"b2",{enumerable:!0,get:function(){return a.injectable}});var s=n(5242);var u=n(7151);Object.defineProperty(t,"t6",{enumerable:!0,get:function(){return u.named}});var d=n(2145);Object.defineProperty(t,"f3",{enumerable:!0,get:function(){return d.inject}});var l=n(2796);Object.defineProperty(t,"jt",{enumerable:!0,get:function(){return l.optional}});var c=n(132);var h=n(1930);var p=n(3263);var f=n(7596);var g=n(7189);var v=n(9892);var m=n(2267);var y=n(9922);var _=n(1456);var b=n(4922)},3397:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Context=void 0;var r=n(9892),i=function(){function e(e){this.id=r.id(),this.container=e}return e.prototype.addPlan=function(e){this.plan=e},e.prototype.setCurrentRequest=function(e){this.currentRequest=e},e}();t.Context=i},7980:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var r=n(680),i=function(){function e(e,t){this.key=e,this.value=t}return e.prototype.toString=function(){return this.key===r.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},e}();t.Metadata=i},7189:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MetadataReader=void 0;var r=n(680),i=function(){function e(){}return e.prototype.getConstructorMetadata=function(e){return{compilerGeneratedMetadata:Reflect.getMetadata(r.PARAM_TYPES,e),userGeneratedMetadata:Reflect.getMetadata(r.TAGGED,e)||{}}},e.prototype.getPropertiesMetadata=function(e){return Reflect.getMetadata(r.TAGGED_PROP,e)||[]},e}();t.MetadataReader=i},1293:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Plan=void 0;var n=function(e,t){this.parentContext=e,this.rootRequest=t};t.Plan=n},9499:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBindingDictionary=t.createMockRequest=t.plan=void 0;var r=n(4850),i=n(4515),o=n(4654),a=n(680),s=n(5091),u=n(1456),d=n(3397),l=n(7980),c=n(1293),h=n(9014),p=n(4226),f=n(3182);function g(e){return e._bindingDictionary}function v(e,t,n,o,a){var s=y(n.container,a.serviceIdentifier),d=[];return s.length===r.BindingCount.NoBindingsAvailable&&n.container.options.autoBindInjectable&&"function"==typeof a.serviceIdentifier&&e.getConstructorMetadata(a.serviceIdentifier).compilerGeneratedMetadata&&(n.container.bind(a.serviceIdentifier).toSelf(),s=y(n.container,a.serviceIdentifier)),d=t?s:s.filter((function(e){var t=new p.Request(e.serviceIdentifier,n,o,e,a);return e.constraint(t)})),function(e,t,n,o){switch(t.length){case r.BindingCount.NoBindingsAvailable:if(n.isOptional())return t;var a=u.getServiceIdentifierAsString(e),s=i.NOT_REGISTERED;throw s+=u.listMetadataForTarget(a,n),s+=u.listRegisteredBindingsForServiceIdentifier(o,a,y),new Error(s);case r.BindingCount.OnlyOneBindingAvailable:if(!n.isArray())return t;case r.BindingCount.MultipleBindingsAvailable:default:if(n.isArray())return t;a=u.getServiceIdentifierAsString(e),s=i.AMBIGUOUS_MATCH+" "+a;throw s+=u.listRegisteredBindingsForServiceIdentifier(o,a,y),new Error(s)}}(a.serviceIdentifier,d,a,n.container),d}function m(e,t,n,r,a,s){var u,d;if(null===a){u=v(e,t,r,null,s),d=new p.Request(n,r,null,u,s);var l=new c.Plan(r,d);r.addPlan(l)}else u=v(e,t,r,a,s),d=a.addChildRequest(s.serviceIdentifier,u,s);u.forEach((function(t){var n=null;if(s.isArray())n=d.addChildRequest(t.serviceIdentifier,t,s);else{if(t.cache)return;n=d}if(t.type===o.BindingTypeEnum.Instance&&null!==t.implementationType){var a=h.getDependencies(e,t.implementationType);if(!r.container.options.skipBaseClassChecks){var u=h.getBaseClassDependencyCount(e,t.implementationType);if(a.length<u){var l=i.ARGUMENTS_LENGTH_MISMATCH(h.getFunctionName(t.implementationType));throw new Error(l)}}a.forEach((function(t){m(e,!1,t.serviceIdentifier,r,n,t)}))}}))}function y(e,t){var n=[],r=g(e);return r.hasKey(t)?n=r.get(t):null!==e.parent&&(n=y(e.parent,t)),n}t.getBindingDictionary=g,t.plan=function(e,t,n,r,i,o,c,h){void 0===h&&(h=!1);var p=new d.Context(t),g=function(e,t,n,r,i,o){var s=e?a.MULTI_INJECT_TAG:a.INJECT_TAG,u=new l.Metadata(s,n),d=new f.Target(t,r,n,u);if(void 0!==i){var c=new l.Metadata(i,o);d.metadata.push(c)}return d}(n,r,i,"",o,c);try{return m(e,h,i,p,null,g),p}catch(e){throw s.isStackOverflowExeption(e)&&p.plan&&u.circularDependencyToException(p.plan.rootRequest),e}},t.createMockRequest=function(e,t,n,r){var i=new f.Target(o.TargetTypeEnum.Variable,"",t,new l.Metadata(n,r)),a=new d.Context(e);return new p.Request(t,a,null,[],i)}},2448:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QueryableString=void 0;var n=function(){function e(e){this.str=e}return e.prototype.startsWith=function(e){return 0===this.str.indexOf(e)},e.prototype.endsWith=function(e){var t,n=e.split("").reverse().join("");return t=this.str.split("").reverse().join(""),this.startsWith.call({str:t},n)},e.prototype.contains=function(e){return-1!==this.str.indexOf(e)},e.prototype.equals=function(e){return this.str===e},e.prototype.value=function(){return this.str},e}();t.QueryableString=n},9014:(e,t,n)=>{"use strict";var r=globalThis&&globalThis.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.getFunctionName=t.getBaseClassDependencyCount=t.getDependencies=void 0;var i=n(2145),o=n(4515),a=n(4654),s=n(680),u=n(1456);Object.defineProperty(t,"getFunctionName",{enumerable:!0,get:function(){return u.getFunctionName}});var d=n(3182);function l(e,t,n,i){var a=e.getConstructorMetadata(n),s=a.compilerGeneratedMetadata;if(void 0===s){var u=o.MISSING_INJECTABLE_ANNOTATION+" "+t+".";throw new Error(u)}var d=a.userGeneratedMetadata,l=Object.keys(d),p=0===n.length&&l.length>0,f=l.length>n.length,g=function(e,t,n,r,i){for(var o=[],a=0;a<i;a++){var s=c(a,e,t,n,r);null!==s&&o.push(s)}return o}(i,t,s,d,p||f?l.length:n.length),v=h(e,n);return r(r([],g),v)}function c(e,t,n,r,s){var u=s[e.toString()]||[],l=p(u),c=!0!==l.unmanaged,h=r[e],f=l.inject||l.multiInject;if((h=f||h)instanceof i.LazyServiceIdentifer&&(h=h.unwrap()),c){if(!t&&(h===Object||h===Function||void 0===h)){var g=o.MISSING_INJECT_ANNOTATION+" argument "+e+" in class "+n+".";throw new Error(g)}var v=new d.Target(a.TargetTypeEnum.ConstructorArgument,l.targetName,h);return v.metadata=u,v}return null}function h(e,t){for(var n=e.getPropertiesMetadata(t),i=[],o=0,s=Object.keys(n);o<s.length;o++){var u=s[o],l=n[u],c=p(n[u]),f=c.targetName||u,g=c.inject||c.multiInject,v=new d.Target(a.TargetTypeEnum.ClassProperty,f,g);v.metadata=l,i.push(v)}var m=Object.getPrototypeOf(t.prototype).constructor;if(m!==Object){var y=h(e,m);i=r(r([],i),y)}return i}function p(e){var t={};return e.forEach((function(e){t[e.key.toString()]=e.value})),{inject:t[s.INJECT_TAG],multiInject:t[s.MULTI_INJECT_TAG],targetName:t[s.NAME_TAG],unmanaged:t[s.UNMANAGED_TAG]}}t.getDependencies=function(e,t){return l(e,u.getFunctionName(t),t,!1)},t.getBaseClassDependencyCount=function e(t,n){var r=Object.getPrototypeOf(n.prototype).constructor;if(r!==Object){var i=l(t,u.getFunctionName(r),r,!0),o=i.map((function(e){return e.metadata.filter((function(e){return e.key===s.UNMANAGED_TAG}))})),a=[].concat.apply([],o).length,d=i.length-a;return d>0?d:e(t,r)}return 0}},4226:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Request=void 0;var r=n(9892),i=function(){function e(e,t,n,i,o){this.id=r.id(),this.serviceIdentifier=e,this.parentContext=t,this.parentRequest=n,this.target=o,this.childRequests=[],this.bindings=Array.isArray(i)?i:[i],this.requestScope=null===n?new Map:null}return e.prototype.addChildRequest=function(t,n,r){var i=new e(t,this.parentContext,this,n,r);return this.childRequests.push(i),i},e}();t.Request=i},3182:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Target=void 0;var r=n(680),i=n(9892),o=n(7980),a=n(2448),s=function(){function e(e,t,n,s){this.id=i.id(),this.type=e,this.serviceIdentifier=n,this.name=new a.QueryableString(t||""),this.metadata=new Array;var u=null;"string"==typeof s?u=new o.Metadata(r.NAMED_TAG,s):s instanceof o.Metadata&&(u=s),null!==u&&this.metadata.push(u)}return e.prototype.hasTag=function(e){for(var t=0,n=this.metadata;t<n.length;t++){if(n[t].key===e)return!0}return!1},e.prototype.isArray=function(){return this.hasTag(r.MULTI_INJECT_TAG)},e.prototype.matchesArray=function(e){return this.matchesTag(r.MULTI_INJECT_TAG)(e)},e.prototype.isNamed=function(){return this.hasTag(r.NAMED_TAG)},e.prototype.isTagged=function(){return this.metadata.some((function(e){return r.NON_CUSTOM_TAG_KEYS.every((function(t){return e.key!==t}))}))},e.prototype.isOptional=function(){return this.matchesTag(r.OPTIONAL_TAG)(!0)},e.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter((function(e){return e.key===r.NAMED_TAG}))[0]:null},e.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter((function(e){return r.NON_CUSTOM_TAG_KEYS.every((function(t){return e.key!==t}))})):null},e.prototype.matchesNamedTag=function(e){return this.matchesTag(r.NAMED_TAG)(e)},e.prototype.matchesTag=function(e){var t=this;return function(n){for(var r=0,i=t.metadata;r<i.length;r++){var o=i[r];if(o.key===e&&o.value===n)return!0}return!1}},e}();t.Target=s},8786:(e,t,n)=>{"use strict";var r=globalThis&&globalThis.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.resolveInstance=void 0;var i=n(4515),o=n(4654),a=n(680);t.resolveInstance=function(e,t,n){var s,u,d=null;if(t.length>0){var l=t.filter((function(e){return null!==e.target&&e.target.type===o.TargetTypeEnum.ConstructorArgument})).map(n);u=l,d=function(e,t,n){var r=t.filter((function(e){return null!==e.target&&e.target.type===o.TargetTypeEnum.ClassProperty})),i=r.map(n);return r.forEach((function(t,n){var r;r=t.target.name.value();var o=i[n];e[r]=o})),e}(d=new((s=e).bind.apply(s,r([void 0],u))),t,n)}else d=new e;return function(e,t){if(Reflect.hasMetadata(a.POST_CONSTRUCT,e)){var n=Reflect.getMetadata(a.POST_CONSTRUCT,e);try{t[n.value]()}catch(t){throw new Error(i.POST_CONSTRUCT_ERROR(e.name,t.message))}}}(e,d),d}},6772:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolve=void 0;var r=n(4515),i=n(4654),o=n(5091),a=n(1456),s=n(8786),u=function(e,t,n){try{return n()}catch(n){throw o.isStackOverflowExeption(n)?new Error(r.CIRCULAR_DEPENDENCY_IN_FACTORY(e,t.toString())):n}},d=function(e){return function(t){t.parentContext.setCurrentRequest(t);var n=t.bindings,o=t.childRequests,l=t.target&&t.target.isArray(),c=!(t.parentRequest&&t.parentRequest.target&&t.target&&t.parentRequest.target.matchesArray(t.target.serviceIdentifier));if(l&&c)return o.map((function(t){return d(e)(t)}));var h=null;if(!t.target.isOptional()||0!==n.length){var p=n[0],f=p.scope===i.BindingScopeEnum.Singleton,g=p.scope===i.BindingScopeEnum.Request;if(f&&p.activated)return p.cache;if(g&&null!==e&&e.has(p.id))return e.get(p.id);if(p.type===i.BindingTypeEnum.ConstantValue)h=p.cache,p.activated=!0;else if(p.type===i.BindingTypeEnum.Function)h=p.cache,p.activated=!0;else if(p.type===i.BindingTypeEnum.Constructor)h=p.implementationType;else if(p.type===i.BindingTypeEnum.DynamicValue&&null!==p.dynamicValue)h=u("toDynamicValue",p.serviceIdentifier,(function(){return p.dynamicValue(t.parentContext)}));else if(p.type===i.BindingTypeEnum.Factory&&null!==p.factory)h=u("toFactory",p.serviceIdentifier,(function(){return p.factory(t.parentContext)}));else if(p.type===i.BindingTypeEnum.Provider&&null!==p.provider)h=u("toProvider",p.serviceIdentifier,(function(){return p.provider(t.parentContext)}));else{if(p.type!==i.BindingTypeEnum.Instance||null===p.implementationType){var v=a.getServiceIdentifierAsString(t.serviceIdentifier);throw new Error(r.INVALID_BINDING_TYPE+" "+v)}h=s.resolveInstance(p.implementationType,o,d(e))}return"function"==typeof p.onActivation&&(h=p.onActivation(t.parentContext,h)),f&&(p.cache=h,p.activated=!0),g&&null!==e&&!e.has(p.id)&&e.set(p.id,h),h}}};t.resolve=function(e){return d(e.plan.rootRequest.requestScope)(e.plan.rootRequest)}},8158:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingInSyntax=void 0;var r=n(4654),i=n(8135),o=function(){function e(e){this._binding=e}return e.prototype.inRequestScope=function(){return this._binding.scope=r.BindingScopeEnum.Request,new i.BindingWhenOnSyntax(this._binding)},e.prototype.inSingletonScope=function(){return this._binding.scope=r.BindingScopeEnum.Singleton,new i.BindingWhenOnSyntax(this._binding)},e.prototype.inTransientScope=function(){return this._binding.scope=r.BindingScopeEnum.Transient,new i.BindingWhenOnSyntax(this._binding)},e}();t.BindingInSyntax=o},2282:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingInWhenOnSyntax=void 0;var r=n(8158),i=n(2985),o=n(9937),a=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new o.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new i.BindingOnSyntax(this._binding),this._bindingInSyntax=new r.BindingInSyntax(e)}return e.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},e.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},e.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e}();t.BindingInWhenOnSyntax=a},2985:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingOnSyntax=void 0;var r=n(9937),i=function(){function e(e){this._binding=e}return e.prototype.onActivation=function(e){return this._binding.onActivation=e,new r.BindingWhenSyntax(this._binding)},e}();t.BindingOnSyntax=i},872:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingToSyntax=void 0;var r=n(4515),i=n(4654),o=n(2282),a=n(8135),s=function(){function e(e){this._binding=e}return e.prototype.to=function(e){return this._binding.type=i.BindingTypeEnum.Instance,this._binding.implementationType=e,new o.BindingInWhenOnSyntax(this._binding)},e.prototype.toSelf=function(){if("function"!=typeof this._binding.serviceIdentifier)throw new Error(""+r.INVALID_TO_SELF_VALUE);var e=this._binding.serviceIdentifier;return this.to(e)},e.prototype.toConstantValue=function(e){return this._binding.type=i.BindingTypeEnum.ConstantValue,this._binding.cache=e,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toDynamicValue=function(e){return this._binding.type=i.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=e,this._binding.implementationType=null,new o.BindingInWhenOnSyntax(this._binding)},e.prototype.toConstructor=function(e){return this._binding.type=i.BindingTypeEnum.Constructor,this._binding.implementationType=e,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toFactory=function(e){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=e,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toFunction=function(e){if("function"!=typeof e)throw new Error(r.INVALID_FUNCTION_BINDING);var t=this.toConstantValue(e);return this._binding.type=i.BindingTypeEnum.Function,this._binding.scope=i.BindingScopeEnum.Singleton,t},e.prototype.toAutoFactory=function(e){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=function(t){return function(){return t.container.get(e)}},this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toProvider=function(e){return this._binding.type=i.BindingTypeEnum.Provider,this._binding.provider=e,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toService=function(e){this.toDynamicValue((function(t){return t.container.get(e)}))},e}();t.BindingToSyntax=s},8135:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingWhenOnSyntax=void 0;var r=n(2985),i=n(9937),o=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new i.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new r.BindingOnSyntax(this._binding)}return e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e}();t.BindingWhenOnSyntax=o},9937:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingWhenSyntax=void 0;var r=n(2985),i=n(9922),o=function(){function e(e){this._binding=e}return e.prototype.when=function(e){return this._binding.constraint=e,new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetNamed=function(e){return this._binding.constraint=i.namedConstraint(e),new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(e){return null!==e.target&&!e.target.isNamed()&&!e.target.isTagged()},new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetTagged=function(e,t){return this._binding.constraint=i.taggedConstraint(e)(t),new r.BindingOnSyntax(this._binding)},e.prototype.whenInjectedInto=function(e){return this._binding.constraint=function(t){return i.typeConstraint(e)(t.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenParentNamed=function(e){return this._binding.constraint=function(t){return i.namedConstraint(e)(t.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenParentTagged=function(e,t){return this._binding.constraint=function(n){return i.taggedConstraint(e)(t)(n.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorIs=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,i.typeConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorIs=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,i.typeConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorNamed=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,i.namedConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorNamed=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,i.namedConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._binding.constraint=function(n){return i.traverseAncerstors(n,i.taggedConstraint(e)(t))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorTagged=function(e,t){return this._binding.constraint=function(n){return!i.traverseAncerstors(n,i.taggedConstraint(e)(t))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorMatches=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,e)},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorMatches=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,e)},new r.BindingOnSyntax(this._binding)},e}();t.BindingWhenSyntax=o},9922:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.typeConstraint=t.namedConstraint=t.taggedConstraint=t.traverseAncerstors=void 0;var r=n(680),i=n(7980),o=function(e,t){var n=e.parentRequest;return null!==n&&(!!t(n)||o(n,t))};t.traverseAncerstors=o;var a=function(e){return function(t){var n=function(n){return null!==n&&null!==n.target&&n.target.matchesTag(e)(t)};return n.metaData=new i.Metadata(e,t),n}};t.taggedConstraint=a;var s=a(r.NAMED_TAG);t.namedConstraint=s;t.typeConstraint=function(e){return function(t){var n=null;if(null!==t){if(n=t.bindings[0],"string"==typeof e)return n.serviceIdentifier===e;var r=t.bindings[0].implementationType;return e===r}return!1}}},4922:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiBindToService=void 0;t.multiBindToService=function(e){return function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.forEach((function(n){return e.bind(n).toService(t)}))}}}},5091:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isStackOverflowExeption=void 0;var r=n(4515);t.isStackOverflowExeption=function(e){return e instanceof RangeError||e.message===r.STACK_OVERFLOW}},9892:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.id=void 0;var n=0;t.id=function(){return n++}},1456:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.circularDependencyToException=t.listMetadataForTarget=t.listRegisteredBindingsForServiceIdentifier=t.getServiceIdentifierAsString=t.getFunctionName=void 0;var r=n(4515);function i(e){return"function"==typeof e?e.name:"symbol"==typeof e?e.toString():e}function o(e,t){return null!==e.parentRequest&&(e.parentRequest.serviceIdentifier===t||o(e.parentRequest,t))}function a(e){if(e.name)return e.name;var t=e.toString(),n=t.match(/^function\s*([^\s(]+)/);return n?n[1]:"Anonymous function: "+t}t.getServiceIdentifierAsString=i,t.listRegisteredBindingsForServiceIdentifier=function(e,t,n){var r="",i=n(e,t);return 0!==i.length&&(r="\nRegistered bindings:",i.forEach((function(e){var t="Object";null!==e.implementationType&&(t=a(e.implementationType)),r=r+"\n "+t,e.constraint.metaData&&(r=r+" - "+e.constraint.metaData)}))),r},t.circularDependencyToException=function e(t){t.childRequests.forEach((function(t){if(o(t,t.serviceIdentifier)){var n=function(e){return function e(t,n){void 0===n&&(n=[]);var r=i(t.serviceIdentifier);return n.push(r),null!==t.parentRequest?e(t.parentRequest,n):n}(e).reverse().join(" --\x3e ")}(t);throw new Error(r.CIRCULAR_DEPENDENCY+" "+n)}e(t)}))},t.listMetadataForTarget=function(e,t){if(t.isTagged()||t.isNamed()){var n="",r=t.getNamedTag(),i=t.getCustomTags();return null!==r&&(n+=r.toString()+"\n"),null!==i&&i.forEach((function(e){n+=e.toString()+"\n"}))," "+e+"\n "+e+" - "+n}return" "+e},t.getFunctionName=a},2224:(e,t,n)=>{var r;!function(e){!function(t){var r="object"==typeof n.g?n.g:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),i=o(e);function o(e,t){return function(n,r){"function"!=typeof e[n]&&Object.defineProperty(e,n,{configurable:!0,writable:!0,value:r}),t&&t(n,r)}}void 0===r.Reflect?r.Reflect=e:i=o(r.Reflect,i),function(e){var t=Object.prototype.hasOwnProperty,n="function"==typeof Symbol,r=n&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=n&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",o="function"==typeof Object.create,a={__proto__:[]}instanceof Array,s=!o&&!a,u={create:o?function(){return re(Object.create(null))}:a?function(){return re({__proto__:null})}:function(){return re({})},has:s?function(e,n){return t.call(e,n)}:function(e,t){return t in e},get:s?function(e,n){return t.call(e,n)?e[n]:void 0}:function(e,t){return e[t]}},d=Object.getPrototypeOf(Function),l="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,c=l||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?ee():Map,h=l||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?te():Set,p=new(l||"function"!=typeof WeakMap?ne():WeakMap);function f(e,t,n,r){if(k(n)){if(!z(e))throw new TypeError;if(!$(t))throw new TypeError;return A(e,t)}if(!z(e))throw new TypeError;if(!L(t))throw new TypeError;if(!L(r)&&!k(r)&&!B(r))throw new TypeError;return B(r)&&(r=void 0),E(e,t,n=W(n),r)}function g(e,t){function n(n,r){if(!L(n))throw new TypeError;if(!k(r)&&!q(r))throw new TypeError;O(e,t,n,r)}return n}function v(e,t,n,r){if(!L(n))throw new TypeError;return k(r)||(r=W(r)),O(e,t,n,r)}function m(e,t,n){if(!L(t))throw new TypeError;return k(n)||(n=W(n)),N(e,t,n)}function y(e,t,n){if(!L(t))throw new TypeError;return k(n)||(n=W(n)),I(e,t,n)}function _(e,t,n){if(!L(t))throw new TypeError;return k(n)||(n=W(n)),C(e,t,n)}function b(e,t,n){if(!L(t))throw new TypeError;return k(n)||(n=W(n)),M(e,t,n)}function w(e,t){if(!L(e))throw new TypeError;return k(t)||(t=W(t)),P(e,t)}function x(e,t){if(!L(e))throw new TypeError;return k(t)||(t=W(t)),R(e,t)}function T(e,t,n){if(!L(t))throw new TypeError;k(n)||(n=W(n));var r=S(t,n,!1);if(k(r))return!1;if(!r.delete(e))return!1;if(r.size>0)return!0;var i=p.get(t);return i.delete(n),i.size>0||p.delete(t),!0}function A(e,t){for(var n=e.length-1;n>=0;--n){var r=(0,e[n])(t);if(!k(r)&&!B(r)){if(!$(r))throw new TypeError;t=r}}return t}function E(e,t,n,r){for(var i=e.length-1;i>=0;--i){var o=(0,e[i])(t,n,r);if(!k(o)&&!B(o)){if(!L(o))throw new TypeError;r=o}}return r}function S(e,t,n){var r=p.get(e);if(k(r)){if(!n)return;r=new c,p.set(e,r)}var i=r.get(t);if(k(i)){if(!n)return;i=new c,r.set(t,i)}return i}function N(e,t,n){if(I(e,t,n))return!0;var r=Q(t);return!B(r)&&N(e,r,n)}function I(e,t,n){var r=S(t,n,!1);return!k(r)&&G(r.has(e))}function C(e,t,n){if(I(e,t,n))return M(e,t,n);var r=Q(t);return B(r)?void 0:C(e,r,n)}function M(e,t,n){var r=S(t,n,!1);if(!k(r))return r.get(e)}function O(e,t,n,r){S(n,r,!0).set(e,t)}function P(e,t){var n=R(e,t),r=Q(e);if(null===r)return n;var i=P(r,t);if(i.length<=0)return n;if(n.length<=0)return i;for(var o=new h,a=[],s=0,u=n;s<u.length;s++){var d=u[s];o.has(d)||(o.add(d),a.push(d))}for(var l=0,c=i;l<c.length;l++){d=c[l];o.has(d)||(o.add(d),a.push(d))}return a}function R(e,t){var n=[],r=S(e,t,!1);if(k(r))return n;for(var i=K(r.keys()),o=0;;){var a=X(i);if(!a)return n.length=o,n;var s=J(a);try{n[o]=s}catch(e){try{Z(i)}finally{throw e}}o++}}function D(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function k(e){return void 0===e}function B(e){return null===e}function j(e){return"symbol"==typeof e}function L(e){return"object"==typeof e?null!==e:"function"==typeof e}function F(e,t){switch(D(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n=3===t?"string":5===t?"number":"default",i=Y(e,r);if(void 0!==i){var o=i.call(e,n);if(L(o))throw new TypeError;return o}return U(e,"default"===n?"number":n)}function U(e,t){if("string"===t){var n=e.toString;if(H(n))if(!L(i=n.call(e)))return i;if(H(r=e.valueOf))if(!L(i=r.call(e)))return i}else{var r;if(H(r=e.valueOf))if(!L(i=r.call(e)))return i;var i,o=e.toString;if(H(o))if(!L(i=o.call(e)))return i}throw new TypeError}function G(e){return!!e}function V(e){return""+e}function W(e){var t=F(e,3);return j(t)?t:V(t)}function z(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function H(e){return"function"==typeof e}function $(e){return"function"==typeof e}function q(e){switch(D(e)){case 3:case 4:return!0;default:return!1}}function Y(e,t){var n=e[t];if(null!=n){if(!H(n))throw new TypeError;return n}}function K(e){var t=Y(e,i);if(!H(t))throw new TypeError;var n=t.call(e);if(!L(n))throw new TypeError;return n}function J(e){return e.value}function X(e){var t=e.next();return!t.done&&t}function Z(e){var t=e.return;t&&t.call(e)}function Q(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===d)return t;if(t!==d)return t;var n=e.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return t;var i=r.constructor;return"function"!=typeof i||i===e?t:i}function ee(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[i]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var r=this._keys.length,i=n+1;i<r;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,r)},t.prototype.values=function(){return new n(this._keys,this._values,o)},t.prototype.entries=function(){return new n(this._keys,this._values,a)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[i]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function r(e,t){return e}function o(e,t){return t}function a(e,t){return[e,t]}}function te(){return function(){function e(){this._map=new c}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[i]=function(){return this.keys()},e}()}function ne(){var e=16,n=u.create(),r=i();return function(){function e(){this._key=i()}return e.prototype.has=function(e){var t=o(e,!1);return void 0!==t&&u.has(t,this._key)},e.prototype.get=function(e){var t=o(e,!1);return void 0!==t?u.get(t,this._key):void 0},e.prototype.set=function(e,t){return o(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=o(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=i()},e}();function i(){var e;do{e="@@WeakMap@@"+d()}while(u.has(n,e));return n[e]=!0,e}function o(e,n){if(!t.call(e,r)){if(!n)return;Object.defineProperty(e,r,{value:u.create()})}return e[r]}function a(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function s(e){return"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):a(new Uint8Array(e),e):a(new Array(e),e)}function d(){var t=s(e);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var n="",r=0;r<e;++r){var i=t[r];4!==r&&6!==r&&8!==r||(n+="-"),i<16&&(n+="0"),n+=i.toString(16).toLowerCase()}return n}}function re(e){return e.__=void 0,delete e.__,e}e("decorate",f),e("metadata",g),e("defineMetadata",v),e("hasMetadata",m),e("hasOwnMetadata",y),e("getMetadata",_),e("getOwnMetadata",b),e("getMetadataKeys",w),e("getOwnMetadataKeys",x),e("deleteMetadata",T)}(i)}()}(r||(r={}))},4927:e=>{function t(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(i,o){var a=e.apply(n,r);function s(e){t(a,i,o,s,u,"next",e)}function u(e){t(a,i,o,s,u,"throw",e)}s(void 0)}))}},e.exports.default=e.exports,e.exports.__esModule=!0},1230:e=>{e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.default=e.exports,e.exports.__esModule=!0},9825:(e,t,n)=>{var r=n(1230);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.default=e.exports,e.exports.__esModule=!0},7094:(e,t,n)=>{"use strict";n.d(t,{A:()=>s,T:()=>r,_:()=>o,a:()=>a});var r,i=n(5185);function o(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function a(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}!function(e){e[e.Inspector=0]="Inspector",e[e.RendererInspectee=1]="RendererInspectee",e[e.ServiceInspectee=2]="ServiceInspectee",e[e.AllInspectee=3]="AllInspectee"}(r||(r={}));var s=class{constructor(e=r.AllInspectee){this.callbacks=new Map,this.type=e}get inited(){return this._inited}init(){this.initSubscription(this.handleCDPMessage.bind(this)),this._inited=!0}emit(e){this.send(e)}reply(e,t){this.send({id:e,result:t})}on(e,t){this.callbacks.has(e)||this.callbacks.set(e,[]),this.callbacks.get(e).push(t)}off(e,t){if(this.callbacks.has(e)){var n=this.callbacks.get(e);n=[...n.filter((e=>e!==t))]}}handleCDPMessage(e,t,n){var r,i,o,a,s;((a=this.type)===(s=t)||a&s)&&("id"in e?null===(r=this.callbacks.get("command"))||void 0===r||r.forEach((t=>t(e,n))):null===(i=this.callbacks.get("event"))||void 0===i||i.forEach((t=>t(e,n))),null===(o=this.callbacks.get("all"))||void 0===o||o.forEach((t=>t(e,n))))}};s=o([(0,i.b2)(),a("design:paramtypes",[Number])],s)},5982:(e,t,n)=>{"use strict";n.d(t,{DZ:()=>a});var r=n(7094),i=(n(7933),n(5185)),o={exports:{}};!function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new i(r,o||e,a),u=n?n+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],s]:e._events[u].push(s):(e._events[u]=s,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,o,a){var s=n?n+e:e;if(!this._events[s])return!1;var u,d,l=this._events[s],c=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),c){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,r),!0;case 4:return l.fn.call(l.context,t,r,i),!0;case 5:return l.fn.call(l.context,t,r,i,o),!0;case 6:return l.fn.call(l.context,t,r,i,o,a),!0}for(d=1,u=new Array(c-1);d<c;d++)u[d-1]=arguments[d];l.fn.apply(l.context,u)}else{var h,p=l.length;for(d=0;d<p;d++)switch(l[d].once&&this.removeListener(e,l[d].fn,void 0,!0),c){case 1:l[d].fn.call(l[d].context);break;case 2:l[d].fn.call(l[d].context,t);break;case 3:l[d].fn.call(l[d].context,t,r);break;case 4:l[d].fn.call(l[d].context,t,r,i);break;default:if(!u)for(h=1,u=new Array(c-1);h<c;h++)u[h-1]=arguments[h];l[d].fn.apply(l[d].context,u)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var u=0,d=[],l=s.length;u<l;u++)(s[u].fn!==t||i&&!s[u].once||r&&s[u].context!==r)&&d.push(s[u]);d.length?this._events[o]=1===d.length?d[0]:d:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s}(o);new o.exports.EventEmitter;var a=class extends r.A{constructor(e){super(e),this.eventBus=(()=>{var e=Reflect.get(globalThis,Symbol.for("defaultEventBus"));if(e)return e;var t=new o.exports.EventEmitter;return Reflect.set(globalThis,Symbol.for("defaultEventBus"),t),t})(),this.init()}initSubscription(e){var t=this.type===r.T.Inspector?"inspector":"inspectee";this.eventBus.addListener(t,e)}send(e,t=r.T.Inspector){var n=t===r.T.Inspector?"inspector":"inspectee";this.eventBus.emit(n,e,t,this.type)}};a=(0,r._)([(0,i.b2)(),(0,r.a)("design:paramtypes",[Number])],a)},7528:(e,t,n)=>{"use strict";n.d(t,{Lm:()=>r.T});n(7933);var r=n(7094);n(5185)},7547:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tagProperty=t.tagParameter=t.decorate=void 0;var r=n(9183),i=n(8415);function o(e,t,n,i,o){var a={},s="number"==typeof o,u=void 0!==o&&s?o.toString():n;if(s&&void 0!==n)throw new Error(r.INVALID_DECORATOR_OPERATION);Reflect.hasOwnMetadata(e,t)&&(a=Reflect.getMetadata(e,t));var d=a[u];if(Array.isArray(d))for(var l=0,c=d;l<c.length;l++){var h=c[l];if(h.key===i.key)throw new Error(r.DUPLICATED_METADATA+" "+h.key.toString())}else d=[];d.push(i),a[u]=d,Reflect.defineMetadata(e,a,t)}function a(e,t){Reflect.decorate(e,t)}function s(e,t){return function(n,r){t(n,r,e)}}t.tagParameter=function(e,t,n,r){o(i.TAGGED,e,t,r,n)},t.tagProperty=function(e,t,n){o(i.TAGGED_PROP,e.constructor,t,n)},t.decorate=function(e,t,n){"number"==typeof n?a([s(n,e)],t):"string"==typeof n?Reflect.decorate([e],t,n):a([e],t)}},390:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inject=t.LazyServiceIdentifer=void 0;var r=n(9183),i=n(8415),o=n(2750),a=n(7547),s=function(){function e(e){this._cb=e}return e.prototype.unwrap=function(){return this._cb()},e}();t.LazyServiceIdentifer=s,t.inject=function(e){return function(t,n,s){if(void 0===e)throw new Error(r.UNDEFINED_INJECT_ANNOTATION(t.name));var u=new o.Metadata(i.INJECT_TAG,e);"number"==typeof s?a.tagParameter(t,n,s,u):a.tagProperty(t,n,u)}}},7433:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectable=void 0;var r=n(9183),i=n(8415);t.injectable=function(){return function(e){if(Reflect.hasOwnMetadata(i.PARAM_TYPES,e))throw new Error(r.DUPLICATED_INJECTABLE_DECORATOR);var t=Reflect.getMetadata(i.DESIGN_PARAM_TYPES,e)||[];return Reflect.defineMetadata(i.PARAM_TYPES,t,e),e}}},611:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiInject=void 0;var r=n(8415),i=n(2750),o=n(7547);t.multiInject=function(e){return function(t,n,a){var s=new i.Metadata(r.MULTI_INJECT_TAG,e);"number"==typeof a?o.tagParameter(t,n,a,s):o.tagProperty(t,n,s)}}},2578:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.named=void 0;var r=n(8415),i=n(2750),o=n(7547);t.named=function(e){return function(t,n,a){var s=new i.Metadata(r.NAMED_TAG,e);"number"==typeof a?o.tagParameter(t,n,a,s):o.tagProperty(t,n,s)}}},5404:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.optional=void 0;var r=n(8415),i=n(2750),o=n(7547);t.optional=function(){return function(e,t,n){var a=new i.Metadata(r.OPTIONAL_TAG,!0);"number"==typeof n?o.tagParameter(e,t,n,a):o.tagProperty(e,t,a)}}},7258:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.postConstruct=void 0;var r=n(9183),i=n(8415),o=n(2750);t.postConstruct=function(){return function(e,t,n){var a=new o.Metadata(i.POST_CONSTRUCT,t);if(Reflect.hasOwnMetadata(i.POST_CONSTRUCT,e.constructor))throw new Error(r.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.defineMetadata(i.POST_CONSTRUCT,a,e.constructor)}}},8575:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tagged=void 0;var r=n(2750),i=n(7547);t.tagged=function(e,t){return function(n,o,a){var s=new r.Metadata(e,t);"number"==typeof a?i.tagParameter(n,o,a,s):i.tagProperty(n,o,s)}}},8831:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.targetName=void 0;var r=n(8415),i=n(2750),o=n(7547);t.targetName=function(e){return function(t,n,a){var s=new i.Metadata(r.NAME_TAG,e);o.tagParameter(t,n,a,s)}}},3129:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unmanaged=void 0;var r=n(8415),i=n(2750),o=n(7547);t.unmanaged=function(){return function(e,t,n){var a=new i.Metadata(r.UNMANAGED_TAG,!0);o.tagParameter(e,t,n,a)}}},8735:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Binding=void 0;var r=n(4030),i=n(492),o=function(){function e(e,t){this.id=i.id(),this.activated=!1,this.serviceIdentifier=e,this.scope=t,this.type=r.BindingTypeEnum.Invalid,this.constraint=function(e){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return e.prototype.clone=function(){var t=new e(this.serviceIdentifier,this.scope);return t.activated=t.scope===r.BindingScopeEnum.Singleton&&this.activated,t.implementationType=this.implementationType,t.dynamicValue=this.dynamicValue,t.scope=this.scope,t.type=this.type,t.factory=this.factory,t.provider=this.provider,t.constraint=this.constraint,t.onActivation=this.onActivation,t.cache=this.cache,t},e}();t.Binding=o},4298:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingCount=void 0;t.BindingCount={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1}},9183:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STACK_OVERFLOW=t.CIRCULAR_DEPENDENCY_IN_FACTORY=t.POST_CONSTRUCT_ERROR=t.MULTIPLE_POST_CONSTRUCT_METHODS=t.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK=t.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE=t.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE=t.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT=t.ARGUMENTS_LENGTH_MISMATCH=t.INVALID_DECORATOR_OPERATION=t.INVALID_TO_SELF_VALUE=t.INVALID_FUNCTION_BINDING=t.INVALID_MIDDLEWARE_RETURN=t.NO_MORE_SNAPSHOTS_AVAILABLE=t.INVALID_BINDING_TYPE=t.NOT_IMPLEMENTED=t.CIRCULAR_DEPENDENCY=t.UNDEFINED_INJECT_ANNOTATION=t.MISSING_INJECT_ANNOTATION=t.MISSING_INJECTABLE_ANNOTATION=t.NOT_REGISTERED=t.CANNOT_UNBIND=t.AMBIGUOUS_MATCH=t.KEY_NOT_FOUND=t.NULL_ARGUMENT=t.DUPLICATED_METADATA=t.DUPLICATED_INJECTABLE_DECORATOR=void 0,t.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",t.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",t.NULL_ARGUMENT="NULL argument",t.KEY_NOT_FOUND="Key Not Found",t.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",t.CANNOT_UNBIND="Could not unbind serviceIdentifier:",t.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",t.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",t.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:";t.UNDEFINED_INJECT_ANNOTATION=function(e){return"@inject called with undefined this could mean that the class "+e+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."},t.CIRCULAR_DEPENDENCY="Circular dependency found:",t.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",t.INVALID_BINDING_TYPE="Invalid binding type:",t.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",t.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",t.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",t.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",t.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";t.ARGUMENTS_LENGTH_MISMATCH=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"The number of constructor arguments in the derived class "+e[0]+" must be >= than the number of constructor arguments of its base class."},t.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",t.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",t.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",t.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",t.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class";t.POST_CONSTRUCT_ERROR=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"@postConstruct error in class "+e[0]+": "+e[1]};t.CIRCULAR_DEPENDENCY_IN_FACTORY=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"It looks like there is a circular dependency in one of the '"+e[0]+"' bindings. Please investigate bindings withservice identifier '"+e[1]+"'."},t.STACK_OVERFLOW="Maximum call stack size exceeded"},4030:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TargetTypeEnum=t.BindingTypeEnum=t.BindingScopeEnum=void 0;t.BindingScopeEnum={Request:"Request",Singleton:"Singleton",Transient:"Transient"};t.BindingTypeEnum={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};t.TargetTypeEnum={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"}},8415:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NON_CUSTOM_TAG_KEYS=t.POST_CONSTRUCT=t.DESIGN_PARAM_TYPES=t.PARAM_TYPES=t.TAGGED_PROP=t.TAGGED=t.MULTI_INJECT_TAG=t.INJECT_TAG=t.OPTIONAL_TAG=t.UNMANAGED_TAG=t.NAME_TAG=t.NAMED_TAG=void 0,t.NAMED_TAG="named",t.NAME_TAG="name",t.UNMANAGED_TAG="unmanaged",t.OPTIONAL_TAG="optional",t.INJECT_TAG="inject",t.MULTI_INJECT_TAG="multi_inject",t.TAGGED="inversify:tagged",t.TAGGED_PROP="inversify:tagged_props",t.PARAM_TYPES="inversify:paramtypes",t.DESIGN_PARAM_TYPES="design:paramtypes",t.POST_CONSTRUCT="post_construct",t.NON_CUSTOM_TAG_KEYS=[t.INJECT_TAG,t.MULTI_INJECT_TAG,t.NAME_TAG,t.UNMANAGED_TAG,t.NAMED_TAG,t.OPTIONAL_TAG]},6746:(e,t,n)=>{"use strict";var r=globalThis&&globalThis.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=globalThis&&globalThis.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=globalThis&&globalThis.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.Container=void 0;var a=n(8735),s=n(9183),u=n(4030),d=n(8415),l=n(7435),c=n(4334),h=n(3120),p=n(5124),f=n(492),g=n(5070),v=n(6651),m=n(5470),y=function(){function e(e){this._appliedMiddleware=[];var t=e||{};if("object"!=typeof t)throw new Error(""+s.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(void 0===t.defaultScope)t.defaultScope=u.BindingScopeEnum.Transient;else if(t.defaultScope!==u.BindingScopeEnum.Singleton&&t.defaultScope!==u.BindingScopeEnum.Transient&&t.defaultScope!==u.BindingScopeEnum.Request)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(void 0===t.autoBindInjectable)t.autoBindInjectable=!1;else if("boolean"!=typeof t.autoBindInjectable)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(void 0===t.skipBaseClassChecks)t.skipBaseClassChecks=!1;else if("boolean"!=typeof t.skipBaseClassChecks)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:t.autoBindInjectable,defaultScope:t.defaultScope,skipBaseClassChecks:t.skipBaseClassChecks},this.id=f.id(),this._bindingDictionary=new m.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new l.MetadataReader}return e.merge=function(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var a=new e,s=o([t,n],r).map((function(e){return c.getBindingDictionary(e)})),u=c.getBindingDictionary(a);function d(e,t){e.traverse((function(e,n){n.forEach((function(e){t.add(e.serviceIdentifier,e.clone())}))}))}return s.forEach((function(e){d(e,u)})),a},e.prototype.load=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=this._getContainerModuleHelpersFactory(),r=0,i=e;r<i.length;r++){var o=i[r],a=n(o.id);o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)}},e.prototype.loadAsync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r(this,void 0,void 0,(function(){var t,n,r,o,a;return i(this,(function(i){switch(i.label){case 0:t=this._getContainerModuleHelpersFactory(),n=0,r=e,i.label=1;case 1:return n<r.length?(o=r[n],a=t(o.id),[4,o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)]):[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))},e.prototype.unload=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(e){return function(t){return t.moduleId===e}};t.forEach((function(t){var n=r(t.id);e._bindingDictionary.removeByCondition(n)}))},e.prototype.bind=function(e){var t=this.options.defaultScope||u.BindingScopeEnum.Transient,n=new a.Binding(e,t);return this._bindingDictionary.add(e,n),new p.BindingToSyntax(n)},e.prototype.rebind=function(e){return this.unbind(e),this.bind(e)},e.prototype.unbind=function(e){try{this._bindingDictionary.remove(e)}catch(t){throw new Error(s.CANNOT_UNBIND+" "+g.getServiceIdentifierAsString(e))}},e.prototype.unbindAll=function(){this._bindingDictionary=new m.Lookup},e.prototype.isBound=function(e){var t=this._bindingDictionary.hasKey(e);return!t&&this.parent&&(t=this.parent.isBound(e)),t},e.prototype.isBoundNamed=function(e,t){return this.isBoundTagged(e,d.NAMED_TAG,t)},e.prototype.isBoundTagged=function(e,t,n){var r=!1;if(this._bindingDictionary.hasKey(e)){var i=this._bindingDictionary.get(e),o=c.createMockRequest(this,e,t,n);r=i.some((function(e){return e.constraint(o)}))}return!r&&this.parent&&(r=this.parent.isBoundTagged(e,t,n)),r},e.prototype.snapshot=function(){this._snapshots.push(v.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},e.prototype.restore=function(){var e=this._snapshots.pop();if(void 0===e)throw new Error(s.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=e.bindings,this._middleware=e.middleware},e.prototype.createChild=function(t){var n=new e(t||this.options);return n.parent=this,n},e.prototype.applyMiddleware=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._appliedMiddleware=this._appliedMiddleware.concat(e);var n=this._middleware?this._middleware:this._planAndResolve();this._middleware=e.reduce((function(e,t){return t(e)}),n)},e.prototype.applyCustomMetadataReader=function(e){this._metadataReader=e},e.prototype.get=function(e){return this._get(!1,!1,u.TargetTypeEnum.Variable,e)},e.prototype.getTagged=function(e,t,n){return this._get(!1,!1,u.TargetTypeEnum.Variable,e,t,n)},e.prototype.getNamed=function(e,t){return this.getTagged(e,d.NAMED_TAG,t)},e.prototype.getAll=function(e){return this._get(!0,!0,u.TargetTypeEnum.Variable,e)},e.prototype.getAllTagged=function(e,t,n){return this._get(!1,!0,u.TargetTypeEnum.Variable,e,t,n)},e.prototype.getAllNamed=function(e,t){return this.getAllTagged(e,d.NAMED_TAG,t)},e.prototype.resolve=function(e){var t=this.createChild();return t.bind(e).toSelf(),this._appliedMiddleware.forEach((function(e){t.applyMiddleware(e)})),t.get(e)},e.prototype._getContainerModuleHelpersFactory=function(){var e=this,t=function(e,t){e._binding.moduleId=t},n=function(n){return function(r){var i=e.rebind.bind(e)(r);return t(i,n),i}};return function(r){return{bindFunction:(i=r,function(n){var r=e.bind.bind(e)(n);return t(r,i),r}),isboundFunction:function(t){return e.isBound.bind(e)(t)},rebindFunction:n(r),unbindFunction:function(t){e.unbind.bind(e)(t)}};var i}},e.prototype._get=function(e,t,n,r,i,o){var a=null,u={avoidConstraints:e,contextInterceptor:function(e){return e},isMultiInject:t,key:i,serviceIdentifier:r,targetType:n,value:o};if(this._middleware){if(null==(a=this._middleware(u)))throw new Error(s.INVALID_MIDDLEWARE_RETURN)}else a=this._planAndResolve()(u);return a},e.prototype._planAndResolve=function(){var e=this;return function(t){var n=c.plan(e._metadataReader,e,t.isMultiInject,t.targetType,t.serviceIdentifier,t.key,t.value,t.avoidConstraints);return n=t.contextInterceptor(n),h.resolve(n)}},e}();t.Container=y},7730:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncContainerModule=t.ContainerModule=void 0;var r=n(492),i=function(e){this.id=r.id(),this.registry=e};t.ContainerModule=i;var o=function(e){this.id=r.id(),this.registry=e};t.AsyncContainerModule=o},6651:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContainerSnapshot=void 0;var n=function(){function e(){}return e.of=function(t,n){var r=new e;return r.bindings=t,r.middleware=n,r},e}();t.ContainerSnapshot=n},5470:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Lookup=void 0;var r=n(9183),i=function(){function e(){this._map=new Map}return e.prototype.getMap=function(){return this._map},e.prototype.add=function(e,t){if(null==e)throw new Error(r.NULL_ARGUMENT);if(null==t)throw new Error(r.NULL_ARGUMENT);var n=this._map.get(e);void 0!==n?(n.push(t),this._map.set(e,n)):this._map.set(e,[t])},e.prototype.get=function(e){if(null==e)throw new Error(r.NULL_ARGUMENT);var t=this._map.get(e);if(void 0!==t)return t;throw new Error(r.KEY_NOT_FOUND)},e.prototype.remove=function(e){if(null==e)throw new Error(r.NULL_ARGUMENT);if(!this._map.delete(e))throw new Error(r.KEY_NOT_FOUND)},e.prototype.removeByCondition=function(e){var t=this;this._map.forEach((function(n,r){var i=n.filter((function(t){return!e(t)}));i.length>0?t._map.set(r,i):t._map.delete(r)}))},e.prototype.hasKey=function(e){if(null==e)throw new Error(r.NULL_ARGUMENT);return this._map.has(e)},e.prototype.clone=function(){var t=new e;return this._map.forEach((function(e,n){e.forEach((function(e){return t.add(n,e.clone())}))})),t},e.prototype.traverse=function(e){this._map.forEach((function(t,n){e(n,t)}))},e}();t.Lookup=i},5185:(e,t,n)=>{"use strict";t.f3=t.b2=t.W2=void 0,n(8415);var r=n(6746);Object.defineProperty(t,"W2",{enumerable:!0,get:function(){return r.Container}});var i=n(4030);var o=n(7730);var a=n(7433);Object.defineProperty(t,"b2",{enumerable:!0,get:function(){return a.injectable}});var s=n(8575);var u=n(2578);var d=n(390);Object.defineProperty(t,"f3",{enumerable:!0,get:function(){return d.inject}});var l=n(5404);var c=n(3129);var h=n(611);var p=n(8831);var f=n(7258);var g=n(7435);var v=n(492);var m=n(7547);var y=n(7391);var _=n(5070);var b=n(3928)},949:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Context=void 0;var r=n(492),i=function(){function e(e){this.id=r.id(),this.container=e}return e.prototype.addPlan=function(e){this.plan=e},e.prototype.setCurrentRequest=function(e){this.currentRequest=e},e}();t.Context=i},2750:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var r=n(8415),i=function(){function e(e,t){this.key=e,this.value=t}return e.prototype.toString=function(){return this.key===r.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},e}();t.Metadata=i},7435:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MetadataReader=void 0;var r=n(8415),i=function(){function e(){}return e.prototype.getConstructorMetadata=function(e){return{compilerGeneratedMetadata:Reflect.getMetadata(r.PARAM_TYPES,e),userGeneratedMetadata:Reflect.getMetadata(r.TAGGED,e)||{}}},e.prototype.getPropertiesMetadata=function(e){return Reflect.getMetadata(r.TAGGED_PROP,e)||[]},e}();t.MetadataReader=i},1185:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Plan=void 0;var n=function(e,t){this.parentContext=e,this.rootRequest=t};t.Plan=n},4334:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBindingDictionary=t.createMockRequest=t.plan=void 0;var r=n(4298),i=n(9183),o=n(4030),a=n(8415),s=n(7991),u=n(5070),d=n(949),l=n(2750),c=n(1185),h=n(4240),p=n(1434),f=n(8941);function g(e){return e._bindingDictionary}function v(e,t,n,o,a){var s=y(n.container,a.serviceIdentifier),d=[];return s.length===r.BindingCount.NoBindingsAvailable&&n.container.options.autoBindInjectable&&"function"==typeof a.serviceIdentifier&&e.getConstructorMetadata(a.serviceIdentifier).compilerGeneratedMetadata&&(n.container.bind(a.serviceIdentifier).toSelf(),s=y(n.container,a.serviceIdentifier)),d=t?s:s.filter((function(e){var t=new p.Request(e.serviceIdentifier,n,o,e,a);return e.constraint(t)})),function(e,t,n,o){switch(t.length){case r.BindingCount.NoBindingsAvailable:if(n.isOptional())return t;var a=u.getServiceIdentifierAsString(e),s=i.NOT_REGISTERED;throw s+=u.listMetadataForTarget(a,n),s+=u.listRegisteredBindingsForServiceIdentifier(o,a,y),new Error(s);case r.BindingCount.OnlyOneBindingAvailable:if(!n.isArray())return t;case r.BindingCount.MultipleBindingsAvailable:default:if(n.isArray())return t;a=u.getServiceIdentifierAsString(e),s=i.AMBIGUOUS_MATCH+" "+a;throw s+=u.listRegisteredBindingsForServiceIdentifier(o,a,y),new Error(s)}}(a.serviceIdentifier,d,a,n.container),d}function m(e,t,n,r,a,s){var u,d;if(null===a){u=v(e,t,r,null,s),d=new p.Request(n,r,null,u,s);var l=new c.Plan(r,d);r.addPlan(l)}else u=v(e,t,r,a,s),d=a.addChildRequest(s.serviceIdentifier,u,s);u.forEach((function(t){var n=null;if(s.isArray())n=d.addChildRequest(t.serviceIdentifier,t,s);else{if(t.cache)return;n=d}if(t.type===o.BindingTypeEnum.Instance&&null!==t.implementationType){var a=h.getDependencies(e,t.implementationType);if(!r.container.options.skipBaseClassChecks){var u=h.getBaseClassDependencyCount(e,t.implementationType);if(a.length<u){var l=i.ARGUMENTS_LENGTH_MISMATCH(h.getFunctionName(t.implementationType));throw new Error(l)}}a.forEach((function(t){m(e,!1,t.serviceIdentifier,r,n,t)}))}}))}function y(e,t){var n=[],r=g(e);return r.hasKey(t)?n=r.get(t):null!==e.parent&&(n=y(e.parent,t)),n}t.getBindingDictionary=g,t.plan=function(e,t,n,r,i,o,c,h){void 0===h&&(h=!1);var p=new d.Context(t),g=function(e,t,n,r,i,o){var s=e?a.MULTI_INJECT_TAG:a.INJECT_TAG,u=new l.Metadata(s,n),d=new f.Target(t,r,n,u);if(void 0!==i){var c=new l.Metadata(i,o);d.metadata.push(c)}return d}(n,r,i,"",o,c);try{return m(e,h,i,p,null,g),p}catch(e){throw s.isStackOverflowExeption(e)&&p.plan&&u.circularDependencyToException(p.plan.rootRequest),e}},t.createMockRequest=function(e,t,n,r){var i=new f.Target(o.TargetTypeEnum.Variable,"",t,new l.Metadata(n,r)),a=new d.Context(e);return new p.Request(t,a,null,[],i)}},7294:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QueryableString=void 0;var n=function(){function e(e){this.str=e}return e.prototype.startsWith=function(e){return 0===this.str.indexOf(e)},e.prototype.endsWith=function(e){var t,n=e.split("").reverse().join("");return t=this.str.split("").reverse().join(""),this.startsWith.call({str:t},n)},e.prototype.contains=function(e){return-1!==this.str.indexOf(e)},e.prototype.equals=function(e){return this.str===e},e.prototype.value=function(){return this.str},e}();t.QueryableString=n},4240:(e,t,n)=>{"use strict";var r=globalThis&&globalThis.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.getFunctionName=t.getBaseClassDependencyCount=t.getDependencies=void 0;var i=n(390),o=n(9183),a=n(4030),s=n(8415),u=n(5070);Object.defineProperty(t,"getFunctionName",{enumerable:!0,get:function(){return u.getFunctionName}});var d=n(8941);function l(e,t,n,i){var a=e.getConstructorMetadata(n),s=a.compilerGeneratedMetadata;if(void 0===s){var u=o.MISSING_INJECTABLE_ANNOTATION+" "+t+".";throw new Error(u)}var d=a.userGeneratedMetadata,l=Object.keys(d),p=0===n.length&&l.length>0,f=l.length>n.length,g=function(e,t,n,r,i){for(var o=[],a=0;a<i;a++){var s=c(a,e,t,n,r);null!==s&&o.push(s)}return o}(i,t,s,d,p||f?l.length:n.length),v=h(e,n);return r(r([],g),v)}function c(e,t,n,r,s){var u=s[e.toString()]||[],l=p(u),c=!0!==l.unmanaged,h=r[e],f=l.inject||l.multiInject;if((h=f||h)instanceof i.LazyServiceIdentifer&&(h=h.unwrap()),c){if(!t&&(h===Object||h===Function||void 0===h)){var g=o.MISSING_INJECT_ANNOTATION+" argument "+e+" in class "+n+".";throw new Error(g)}var v=new d.Target(a.TargetTypeEnum.ConstructorArgument,l.targetName,h);return v.metadata=u,v}return null}function h(e,t){for(var n=e.getPropertiesMetadata(t),i=[],o=0,s=Object.keys(n);o<s.length;o++){var u=s[o],l=n[u],c=p(n[u]),f=c.targetName||u,g=c.inject||c.multiInject,v=new d.Target(a.TargetTypeEnum.ClassProperty,f,g);v.metadata=l,i.push(v)}var m=Object.getPrototypeOf(t.prototype).constructor;if(m!==Object){var y=h(e,m);i=r(r([],i),y)}return i}function p(e){var t={};return e.forEach((function(e){t[e.key.toString()]=e.value})),{inject:t[s.INJECT_TAG],multiInject:t[s.MULTI_INJECT_TAG],targetName:t[s.NAME_TAG],unmanaged:t[s.UNMANAGED_TAG]}}t.getDependencies=function(e,t){return l(e,u.getFunctionName(t),t,!1)},t.getBaseClassDependencyCount=function e(t,n){var r=Object.getPrototypeOf(n.prototype).constructor;if(r!==Object){var i=l(t,u.getFunctionName(r),r,!0),o=i.map((function(e){return e.metadata.filter((function(e){return e.key===s.UNMANAGED_TAG}))})),a=[].concat.apply([],o).length,d=i.length-a;return d>0?d:e(t,r)}return 0}},1434:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Request=void 0;var r=n(492),i=function(){function e(e,t,n,i,o){this.id=r.id(),this.serviceIdentifier=e,this.parentContext=t,this.parentRequest=n,this.target=o,this.childRequests=[],this.bindings=Array.isArray(i)?i:[i],this.requestScope=null===n?new Map:null}return e.prototype.addChildRequest=function(t,n,r){var i=new e(t,this.parentContext,this,n,r);return this.childRequests.push(i),i},e}();t.Request=i},8941:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Target=void 0;var r=n(8415),i=n(492),o=n(2750),a=n(7294),s=function(){function e(e,t,n,s){this.id=i.id(),this.type=e,this.serviceIdentifier=n,this.name=new a.QueryableString(t||""),this.metadata=new Array;var u=null;"string"==typeof s?u=new o.Metadata(r.NAMED_TAG,s):s instanceof o.Metadata&&(u=s),null!==u&&this.metadata.push(u)}return e.prototype.hasTag=function(e){for(var t=0,n=this.metadata;t<n.length;t++){if(n[t].key===e)return!0}return!1},e.prototype.isArray=function(){return this.hasTag(r.MULTI_INJECT_TAG)},e.prototype.matchesArray=function(e){return this.matchesTag(r.MULTI_INJECT_TAG)(e)},e.prototype.isNamed=function(){return this.hasTag(r.NAMED_TAG)},e.prototype.isTagged=function(){return this.metadata.some((function(e){return r.NON_CUSTOM_TAG_KEYS.every((function(t){return e.key!==t}))}))},e.prototype.isOptional=function(){return this.matchesTag(r.OPTIONAL_TAG)(!0)},e.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter((function(e){return e.key===r.NAMED_TAG}))[0]:null},e.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter((function(e){return r.NON_CUSTOM_TAG_KEYS.every((function(t){return e.key!==t}))})):null},e.prototype.matchesNamedTag=function(e){return this.matchesTag(r.NAMED_TAG)(e)},e.prototype.matchesTag=function(e){var t=this;return function(n){for(var r=0,i=t.metadata;r<i.length;r++){var o=i[r];if(o.key===e&&o.value===n)return!0}return!1}},e}();t.Target=s},792:(e,t,n)=>{"use strict";var r=globalThis&&globalThis.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.resolveInstance=void 0;var i=n(9183),o=n(4030),a=n(8415);t.resolveInstance=function(e,t,n){var s,u,d=null;if(t.length>0){var l=t.filter((function(e){return null!==e.target&&e.target.type===o.TargetTypeEnum.ConstructorArgument})).map(n);u=l,d=function(e,t,n){var r=t.filter((function(e){return null!==e.target&&e.target.type===o.TargetTypeEnum.ClassProperty})),i=r.map(n);return r.forEach((function(t,n){var r;r=t.target.name.value();var o=i[n];e[r]=o})),e}(d=new((s=e).bind.apply(s,r([void 0],u))),t,n)}else d=new e;return function(e,t){if(Reflect.hasMetadata(a.POST_CONSTRUCT,e)){var n=Reflect.getMetadata(a.POST_CONSTRUCT,e);try{t[n.value]()}catch(t){throw new Error(i.POST_CONSTRUCT_ERROR(e.name,t.message))}}}(e,d),d}},3120:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolve=void 0;var r=n(9183),i=n(4030),o=n(7991),a=n(5070),s=n(792),u=function(e,t,n){try{return n()}catch(n){throw o.isStackOverflowExeption(n)?new Error(r.CIRCULAR_DEPENDENCY_IN_FACTORY(e,t.toString())):n}},d=function(e){return function(t){t.parentContext.setCurrentRequest(t);var n=t.bindings,o=t.childRequests,l=t.target&&t.target.isArray(),c=!(t.parentRequest&&t.parentRequest.target&&t.target&&t.parentRequest.target.matchesArray(t.target.serviceIdentifier));if(l&&c)return o.map((function(t){return d(e)(t)}));var h=null;if(!t.target.isOptional()||0!==n.length){var p=n[0],f=p.scope===i.BindingScopeEnum.Singleton,g=p.scope===i.BindingScopeEnum.Request;if(f&&p.activated)return p.cache;if(g&&null!==e&&e.has(p.id))return e.get(p.id);if(p.type===i.BindingTypeEnum.ConstantValue)h=p.cache,p.activated=!0;else if(p.type===i.BindingTypeEnum.Function)h=p.cache,p.activated=!0;else if(p.type===i.BindingTypeEnum.Constructor)h=p.implementationType;else if(p.type===i.BindingTypeEnum.DynamicValue&&null!==p.dynamicValue)h=u("toDynamicValue",p.serviceIdentifier,(function(){return p.dynamicValue(t.parentContext)}));else if(p.type===i.BindingTypeEnum.Factory&&null!==p.factory)h=u("toFactory",p.serviceIdentifier,(function(){return p.factory(t.parentContext)}));else if(p.type===i.BindingTypeEnum.Provider&&null!==p.provider)h=u("toProvider",p.serviceIdentifier,(function(){return p.provider(t.parentContext)}));else{if(p.type!==i.BindingTypeEnum.Instance||null===p.implementationType){var v=a.getServiceIdentifierAsString(t.serviceIdentifier);throw new Error(r.INVALID_BINDING_TYPE+" "+v)}h=s.resolveInstance(p.implementationType,o,d(e))}return"function"==typeof p.onActivation&&(h=p.onActivation(t.parentContext,h)),f&&(p.cache=h,p.activated=!0),g&&null!==e&&!e.has(p.id)&&e.set(p.id,h),h}}};t.resolve=function(e){return d(e.plan.rootRequest.requestScope)(e.plan.rootRequest)}},7374:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingInSyntax=void 0;var r=n(4030),i=n(3268),o=function(){function e(e){this._binding=e}return e.prototype.inRequestScope=function(){return this._binding.scope=r.BindingScopeEnum.Request,new i.BindingWhenOnSyntax(this._binding)},e.prototype.inSingletonScope=function(){return this._binding.scope=r.BindingScopeEnum.Singleton,new i.BindingWhenOnSyntax(this._binding)},e.prototype.inTransientScope=function(){return this._binding.scope=r.BindingScopeEnum.Transient,new i.BindingWhenOnSyntax(this._binding)},e}();t.BindingInSyntax=o},8665:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingInWhenOnSyntax=void 0;var r=n(7374),i=n(8143),o=n(415),a=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new o.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new i.BindingOnSyntax(this._binding),this._bindingInSyntax=new r.BindingInSyntax(e)}return e.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},e.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},e.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e}();t.BindingInWhenOnSyntax=a},8143:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingOnSyntax=void 0;var r=n(415),i=function(){function e(e){this._binding=e}return e.prototype.onActivation=function(e){return this._binding.onActivation=e,new r.BindingWhenSyntax(this._binding)},e}();t.BindingOnSyntax=i},5124:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingToSyntax=void 0;var r=n(9183),i=n(4030),o=n(8665),a=n(3268),s=function(){function e(e){this._binding=e}return e.prototype.to=function(e){return this._binding.type=i.BindingTypeEnum.Instance,this._binding.implementationType=e,new o.BindingInWhenOnSyntax(this._binding)},e.prototype.toSelf=function(){if("function"!=typeof this._binding.serviceIdentifier)throw new Error(""+r.INVALID_TO_SELF_VALUE);var e=this._binding.serviceIdentifier;return this.to(e)},e.prototype.toConstantValue=function(e){return this._binding.type=i.BindingTypeEnum.ConstantValue,this._binding.cache=e,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toDynamicValue=function(e){return this._binding.type=i.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=e,this._binding.implementationType=null,new o.BindingInWhenOnSyntax(this._binding)},e.prototype.toConstructor=function(e){return this._binding.type=i.BindingTypeEnum.Constructor,this._binding.implementationType=e,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toFactory=function(e){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=e,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toFunction=function(e){if("function"!=typeof e)throw new Error(r.INVALID_FUNCTION_BINDING);var t=this.toConstantValue(e);return this._binding.type=i.BindingTypeEnum.Function,this._binding.scope=i.BindingScopeEnum.Singleton,t},e.prototype.toAutoFactory=function(e){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=function(t){return function(){return t.container.get(e)}},this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toProvider=function(e){return this._binding.type=i.BindingTypeEnum.Provider,this._binding.provider=e,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toService=function(e){this.toDynamicValue((function(t){return t.container.get(e)}))},e}();t.BindingToSyntax=s},3268:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingWhenOnSyntax=void 0;var r=n(8143),i=n(415),o=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new i.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new r.BindingOnSyntax(this._binding)}return e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e}();t.BindingWhenOnSyntax=o},415:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingWhenSyntax=void 0;var r=n(8143),i=n(7391),o=function(){function e(e){this._binding=e}return e.prototype.when=function(e){return this._binding.constraint=e,new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetNamed=function(e){return this._binding.constraint=i.namedConstraint(e),new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(e){return null!==e.target&&!e.target.isNamed()&&!e.target.isTagged()},new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetTagged=function(e,t){return this._binding.constraint=i.taggedConstraint(e)(t),new r.BindingOnSyntax(this._binding)},e.prototype.whenInjectedInto=function(e){return this._binding.constraint=function(t){return i.typeConstraint(e)(t.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenParentNamed=function(e){return this._binding.constraint=function(t){return i.namedConstraint(e)(t.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenParentTagged=function(e,t){return this._binding.constraint=function(n){return i.taggedConstraint(e)(t)(n.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorIs=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,i.typeConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorIs=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,i.typeConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorNamed=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,i.namedConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorNamed=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,i.namedConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._binding.constraint=function(n){return i.traverseAncerstors(n,i.taggedConstraint(e)(t))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorTagged=function(e,t){return this._binding.constraint=function(n){return!i.traverseAncerstors(n,i.taggedConstraint(e)(t))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorMatches=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,e)},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorMatches=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,e)},new r.BindingOnSyntax(this._binding)},e}();t.BindingWhenSyntax=o},7391:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.typeConstraint=t.namedConstraint=t.taggedConstraint=t.traverseAncerstors=void 0;var r=n(8415),i=n(2750),o=function(e,t){var n=e.parentRequest;return null!==n&&(!!t(n)||o(n,t))};t.traverseAncerstors=o;var a=function(e){return function(t){var n=function(n){return null!==n&&null!==n.target&&n.target.matchesTag(e)(t)};return n.metaData=new i.Metadata(e,t),n}};t.taggedConstraint=a;var s=a(r.NAMED_TAG);t.namedConstraint=s;t.typeConstraint=function(e){return function(t){var n=null;if(null!==t){if(n=t.bindings[0],"string"==typeof e)return n.serviceIdentifier===e;var r=t.bindings[0].implementationType;return e===r}return!1}}},3928:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiBindToService=void 0;t.multiBindToService=function(e){return function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.forEach((function(n){return e.bind(n).toService(t)}))}}}},7991:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isStackOverflowExeption=void 0;var r=n(9183);t.isStackOverflowExeption=function(e){return e instanceof RangeError||e.message===r.STACK_OVERFLOW}},492:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.id=void 0;var n=0;t.id=function(){return n++}},5070:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.circularDependencyToException=t.listMetadataForTarget=t.listRegisteredBindingsForServiceIdentifier=t.getServiceIdentifierAsString=t.getFunctionName=void 0;var r=n(9183);function i(e){return"function"==typeof e?e.name:"symbol"==typeof e?e.toString():e}function o(e,t){return null!==e.parentRequest&&(e.parentRequest.serviceIdentifier===t||o(e.parentRequest,t))}function a(e){if(e.name)return e.name;var t=e.toString(),n=t.match(/^function\s*([^\s(]+)/);return n?n[1]:"Anonymous function: "+t}t.getServiceIdentifierAsString=i,t.listRegisteredBindingsForServiceIdentifier=function(e,t,n){var r="",i=n(e,t);return 0!==i.length&&(r="\nRegistered bindings:",i.forEach((function(e){var t="Object";null!==e.implementationType&&(t=a(e.implementationType)),r=r+"\n "+t,e.constraint.metaData&&(r=r+" - "+e.constraint.metaData)}))),r},t.circularDependencyToException=function e(t){t.childRequests.forEach((function(t){if(o(t,t.serviceIdentifier)){var n=function(e){return function e(t,n){void 0===n&&(n=[]);var r=i(t.serviceIdentifier);return n.push(r),null!==t.parentRequest?e(t.parentRequest,n):n}(e).reverse().join(" --\x3e ")}(t);throw new Error(r.CIRCULAR_DEPENDENCY+" "+n)}e(t)}))},t.listMetadataForTarget=function(e,t){if(t.isTagged()||t.isNamed()){var n="",r=t.getNamedTag(),i=t.getCustomTags();return null!==r&&(n+=r.toString()+"\n"),null!==i&&i.forEach((function(e){n+=e.toString()+"\n"}))," "+e+"\n "+e+" - "+n}return" "+e},t.getFunctionName=a},7933:(e,t,n)=>{var r;!function(e){!function(t){var r="object"==typeof n.g?n.g:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),i=o(e);function o(e,t){return function(n,r){"function"!=typeof e[n]&&Object.defineProperty(e,n,{configurable:!0,writable:!0,value:r}),t&&t(n,r)}}void 0===r.Reflect?r.Reflect=e:i=o(r.Reflect,i),function(e){var t=Object.prototype.hasOwnProperty,n="function"==typeof Symbol,r=n&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=n&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",o="function"==typeof Object.create,a={__proto__:[]}instanceof Array,s=!o&&!a,u={create:o?function(){return re(Object.create(null))}:a?function(){return re({__proto__:null})}:function(){return re({})},has:s?function(e,n){return t.call(e,n)}:function(e,t){return t in e},get:s?function(e,n){return t.call(e,n)?e[n]:void 0}:function(e,t){return e[t]}},d=Object.getPrototypeOf(Function),l="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,c=l||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?ee():Map,h=l||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?te():Set,p=new(l||"function"!=typeof WeakMap?ne():WeakMap);function f(e,t,n,r){if(k(n)){if(!z(e))throw new TypeError;if(!$(t))throw new TypeError;return A(e,t)}if(!z(e))throw new TypeError;if(!L(t))throw new TypeError;if(!L(r)&&!k(r)&&!B(r))throw new TypeError;return B(r)&&(r=void 0),E(e,t,n=W(n),r)}function g(e,t){function n(n,r){if(!L(n))throw new TypeError;if(!k(r)&&!q(r))throw new TypeError;O(e,t,n,r)}return n}function v(e,t,n,r){if(!L(n))throw new TypeError;return k(r)||(r=W(r)),O(e,t,n,r)}function m(e,t,n){if(!L(t))throw new TypeError;return k(n)||(n=W(n)),N(e,t,n)}function y(e,t,n){if(!L(t))throw new TypeError;return k(n)||(n=W(n)),I(e,t,n)}function _(e,t,n){if(!L(t))throw new TypeError;return k(n)||(n=W(n)),C(e,t,n)}function b(e,t,n){if(!L(t))throw new TypeError;return k(n)||(n=W(n)),M(e,t,n)}function w(e,t){if(!L(e))throw new TypeError;return k(t)||(t=W(t)),P(e,t)}function x(e,t){if(!L(e))throw new TypeError;return k(t)||(t=W(t)),R(e,t)}function T(e,t,n){if(!L(t))throw new TypeError;k(n)||(n=W(n));var r=S(t,n,!1);if(k(r))return!1;if(!r.delete(e))return!1;if(r.size>0)return!0;var i=p.get(t);return i.delete(n),i.size>0||p.delete(t),!0}function A(e,t){for(var n=e.length-1;n>=0;--n){var r=(0,e[n])(t);if(!k(r)&&!B(r)){if(!$(r))throw new TypeError;t=r}}return t}function E(e,t,n,r){for(var i=e.length-1;i>=0;--i){var o=(0,e[i])(t,n,r);if(!k(o)&&!B(o)){if(!L(o))throw new TypeError;r=o}}return r}function S(e,t,n){var r=p.get(e);if(k(r)){if(!n)return;r=new c,p.set(e,r)}var i=r.get(t);if(k(i)){if(!n)return;i=new c,r.set(t,i)}return i}function N(e,t,n){if(I(e,t,n))return!0;var r=Q(t);return!B(r)&&N(e,r,n)}function I(e,t,n){var r=S(t,n,!1);return!k(r)&&G(r.has(e))}function C(e,t,n){if(I(e,t,n))return M(e,t,n);var r=Q(t);return B(r)?void 0:C(e,r,n)}function M(e,t,n){var r=S(t,n,!1);if(!k(r))return r.get(e)}function O(e,t,n,r){S(n,r,!0).set(e,t)}function P(e,t){var n=R(e,t),r=Q(e);if(null===r)return n;var i=P(r,t);if(i.length<=0)return n;if(n.length<=0)return i;for(var o=new h,a=[],s=0,u=n;s<u.length;s++){var d=u[s];o.has(d)||(o.add(d),a.push(d))}for(var l=0,c=i;l<c.length;l++){d=c[l];o.has(d)||(o.add(d),a.push(d))}return a}function R(e,t){var n=[],r=S(e,t,!1);if(k(r))return n;for(var i=K(r.keys()),o=0;;){var a=X(i);if(!a)return n.length=o,n;var s=J(a);try{n[o]=s}catch(e){try{Z(i)}finally{throw e}}o++}}function D(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function k(e){return void 0===e}function B(e){return null===e}function j(e){return"symbol"==typeof e}function L(e){return"object"==typeof e?null!==e:"function"==typeof e}function F(e,t){switch(D(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n=3===t?"string":5===t?"number":"default",i=Y(e,r);if(void 0!==i){var o=i.call(e,n);if(L(o))throw new TypeError;return o}return U(e,"default"===n?"number":n)}function U(e,t){if("string"===t){var n=e.toString;if(H(n))if(!L(i=n.call(e)))return i;if(H(r=e.valueOf))if(!L(i=r.call(e)))return i}else{var r;if(H(r=e.valueOf))if(!L(i=r.call(e)))return i;var i,o=e.toString;if(H(o))if(!L(i=o.call(e)))return i}throw new TypeError}function G(e){return!!e}function V(e){return""+e}function W(e){var t=F(e,3);return j(t)?t:V(t)}function z(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function H(e){return"function"==typeof e}function $(e){return"function"==typeof e}function q(e){switch(D(e)){case 3:case 4:return!0;default:return!1}}function Y(e,t){var n=e[t];if(null!=n){if(!H(n))throw new TypeError;return n}}function K(e){var t=Y(e,i);if(!H(t))throw new TypeError;var n=t.call(e);if(!L(n))throw new TypeError;return n}function J(e){return e.value}function X(e){var t=e.next();return!t.done&&t}function Z(e){var t=e.return;t&&t.call(e)}function Q(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===d)return t;if(t!==d)return t;var n=e.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return t;var i=r.constructor;return"function"!=typeof i||i===e?t:i}function ee(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[i]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var r=this._keys.length,i=n+1;i<r;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,r)},t.prototype.values=function(){return new n(this._keys,this._values,o)},t.prototype.entries=function(){return new n(this._keys,this._values,a)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[i]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function r(e,t){return e}function o(e,t){return t}function a(e,t){return[e,t]}}function te(){return function(){function e(){this._map=new c}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[i]=function(){return this.keys()},e}()}function ne(){var e=16,n=u.create(),r=i();return function(){function e(){this._key=i()}return e.prototype.has=function(e){var t=o(e,!1);return void 0!==t&&u.has(t,this._key)},e.prototype.get=function(e){var t=o(e,!1);return void 0!==t?u.get(t,this._key):void 0},e.prototype.set=function(e,t){return o(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=o(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=i()},e}();function i(){var e;do{e="@@WeakMap@@"+d()}while(u.has(n,e));return n[e]=!0,e}function o(e,n){if(!t.call(e,r)){if(!n)return;Object.defineProperty(e,r,{value:u.create()})}return e[r]}function a(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function s(e){return"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):a(new Uint8Array(e),e):a(new Array(e),e)}function d(){var t=s(e);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var n="",r=0;r<e;++r){var i=t[r];4!==r&&6!==r&&8!==r||(n+="-"),i<16&&(n+="0"),n+=i.toString(16).toLowerCase()}return n}}function re(e){return e.__=void 0,delete e.__,e}e("decorate",f),e("metadata",g),e("defineMetadata",v),e("hasMetadata",m),e("hasOwnMetadata",y),e("getMetadata",_),e("getOwnMetadata",b),e("getMetadataKeys",w),e("getOwnMetadataKeys",x),e("deleteMetadata",T)}(i)}()}(r||(r={}))},1767:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Inspectee:()=>Ur});n(7933),n(2224);var r=n(9825),i=n.n(r),o=n(2547);function a(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function s(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function d(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}var l,c,h="Adapter",p="Bridge",f="Inspectee",g={Props:"VirtualTreeProps"},v="Container";(c=l||(l={}))[c.Inspector=0]="Inspector",c[c.RendererInspectee=1]="RendererInspectee",c[c.ServiceInspectee=2]="ServiceInspectee",c[c.AllInspectee=3]="AllInspectee";var m=class{constructor(e=l.AllInspectee){this.callbacks=new Map,this.type=e}get inited(){return this._inited}init(){this.initSubscription(this.handleCDPMessage.bind(this)),this._inited=!0}emit(e){this.send(e)}reply(e,t){this.send({id:e,result:t})}on(e,t){this.callbacks.has(e)||this.callbacks.set(e,[]),this.callbacks.get(e).push(t)}off(e,t){if(this.callbacks.has(e)){var n=this.callbacks.get(e);n=[...n.filter((e=>e!==t))]}}handleCDPMessage(e,t,n){var r,i,o;((e,t)=>e===t||e&t)(this.type,t)&&("id"in e?null===(r=this.callbacks.get("command"))||void 0===r||r.forEach((t=>t(e,n))):null===(i=this.callbacks.get("event"))||void 0===i||i.forEach((t=>t(e,n))),null===(o=this.callbacks.get("all"))||void 0===o||o.forEach((t=>t(e,n))))}};m=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}([(0,o.b2)(),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Number])],m);var y=e=>!!e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then;var _=new WeakMap,b=new Map,w=(e,t={})=>{var n,r,i={},o=typeof e,a="";try{a=null===(n=null==e?void 0:e.toString)||void 0===n?void 0:n.call(e)}catch(e){a={}.toString()}if("object"===o||"function"===o||"symbol"===o){if(_.has(e))i.objectId=_.get(e);else{i.objectId="testid";try{e&&e instanceof Object&&_.set(e,i.objectId)}catch(t){console.error("objectToRemoteIdMap fail",t,e)}b.set(i.objectId,e)}if("object"===o){var s,u=null===(r=null==e?void 0:e.constructor)||void 0===r?void 0:r.name;if(u&&(i.className=u),Array.isArray(e)?s="array":null===e?s="null":e instanceof RegExp?s="regexp":e instanceof Date?s="date":e instanceof Map?s="map":e instanceof Set?s="set":e instanceof WeakMap?s="weakmap":e instanceof WeakSet?s="weakset":e instanceof Error?s="error":y(e)?s="promise":!function(e){try{return[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array].some((t=>e instanceof t))}catch(e){return!1}}(e)?e instanceof ArrayBuffer?s="arraybuffer":e instanceof DataView?s="dataview":globalThis.WebAssembly&&e instanceof globalThis.WebAssembly.Memory&&(s="webassemblymemory"):s="typedarray",s&&(i.subtype=s),t.generatePreview){var d={type:o,description:a,properties:Object.keys(e).flatMap((t=>e===globalThis&&"BabelRuntimeHelpers"===t?[]:Object.assign({name:t},w(e[t],{generatePreview:!1})))),overflow:!0};s&&(d.subtype=s),"map"===s?d.entries=[...e].map((([e,t])=>({key:e,value:w(t,{generatePreview:!1})}))):"set"===s&&(d.entries=[...e].map((e=>({value:w(e,{generatePreview:!1})})))),i.preview=d}}}else i.value=e;return Object.assign({type:o,description:a},i)},x=e=>b.get(e),T=e=>{var t=w(e);if(e instanceof Error){var{name:n,message:r}=e;return{text:n,exception:t}}return{text:"Unknown Error",exception:t}},A=Symbol("eval"),E=class{constructor(e=globalThis.eval){this.enabled=!1,this.eval=e,this._hookedConsole=function({beforeInvoke:e,afterInvoke:t,console:n=globalThis.console}){return new Proxy(n,{get(n,r,i){var o=Reflect.get(n,r);return"function"==typeof o&&"debug"!==r?function(...i){null==e||e({method:r,args:i,originConsole:n});var a=Reflect.apply(o,n,i);return null==t||t({method:r,args:i,ret:a,originConsole:n}),a}:o},getPrototypeOf:e=>null})}({beforeInvoke:({method:e,args:t,originConsole:n})=>{this.bridge.emit({method:"Runtime.consoleAPICalled",params:{type:e,args:t.map((e=>w(e,{generatePreview:!0}))),executionContextId:0,timestamp:Date.now()}})}})}get hookedConsole(){return this._hookedConsole}hookConsole(){var e;null!==(e=Reflect.get(console,Symbol.for("hooked")))&&void 0!==e&&e||(console=this._hookedConsole),Reflect.set(console,Symbol.for("hooked"),!0)}awaitPromise(e){return d(this,void 0,void 0,(function*(){var{promiseObjectId:t}=e,n=x(t);if(y(n))try{return{result:w(yield n)}}catch(e){return{exceptionDetails:T(e),result:w(e)}}var r="no such promise";return{exceptionDetails:T(r),result:w(r)}}))}callFunctionOn(e){throw new Error("Method not implemented.")}compileScript(e){throw new Error("Method not implemented.")}disable(){return d(this,void 0,void 0,(function*(){this.enabled=!1}))}discardConsoleEntries(){throw new Error("Method not implemented.")}enable(){return d(this,void 0,void 0,(function*(){this.enabled=!0}))}evaluate(e){return d(this,void 0,void 0,(function*(){var{expression:t,awaitPromise:n,returnByValue:r,generatePreview:i=!0}=e;try{var o=this.eval.call(globalThis,t);return n&&y(o)&&(o=yield o),{result:w(o,{returnByValue:r,generatePreview:i})}}catch(e){return{exceptionDetails:T(e),result:w(e)}}}))}getIsolateId(){throw new Error("Method not implemented.")}getHeapUsage(){throw new Error("Method not implemented.")}getProperties(e){return d(this,void 0,void 0,(function*(){var{objectId:t,ownProperties:n=!0,accessorPropertiesOnly:r=!1}=e,i=x(t),o=[];if(!i)return{result:o};if(o=Object.keys(i).map((e=>Object.assign(Reflect.getOwnPropertyDescriptor(i,e),{name:e,isOwn:!!Reflect.getOwnPropertyDescriptor(i,e)}))),i instanceof Map){var a=[...i];o.push({name:"[[Entries]]",value:a.length?a.map((([e,t])=>({key:e,value:t}))):"no entry"}),a.length&&o.push({name:"size",value:i.size})}if(i instanceof Set){var s=[...i];o.push({name:"[[Entries]]",value:s.length?s:"no entry"}),s.length&&o.push({name:"size",value:i.size})}return o=o.flatMap((e=>{if(i===globalThis&&"BabelRuntimeHelpers"===e.name)return[];var{get:t,set:n,value:r}=e;return r&&(e["symbol"===r?"symbol":"value"]=w(r)),t&&(e.get=w(t)),n&&(e.set=w(n)),e})),r&&(o=o.filter((e=>e.get||e.set))),{result:o}}))}globalLexicalScopeNames(e){throw new Error("Method not implemented.")}queryObjects(e){throw new Error("Method not implemented.")}releaseObject(e){return d(this,void 0,void 0,(function*(){var t;t=e.objectId,b.get(t)&&b.delete(t)}))}releaseObjectGroup(e){throw new Error("Method not implemented.")}runIfWaitingForDebugger(){throw new Error("Method not implemented.")}runScript(e){throw new Error("Method not implemented.")}setAsyncCallStackDepth(e){throw new Error("Method not implemented.")}setCustomObjectFormatterEnabled(e){throw new Error("Method not implemented.")}setMaxCallStackSizeToCapture(e){throw new Error("Method not implemented.")}terminateExecution(){throw new Error("Method not implemented.")}addBinding(e){throw new Error("Method not implemented.")}removeBinding(e){throw new Error("Method not implemented.")}on(e,t){throw new Error("Method not implemented.")}};a([(0,o.f3)(p),u("design:type",m)],E.prototype,"bridge",void 0),E=a([(0,o.b2)(),s(0,(0,o.f3)(A)),s(0,(0,o.jt)()),u("design:paramtypes",[Object])],E);class S{constructor(e=0){this._id=e}get id(){return this._id++}reset(){this._id=0}}var N=new o.W2;function I(e="Default"){return(t,n,r)=>{(0,o.f3)(h)(t,n,r),(0,o.t6)(e)(t,n,r)}}var C=(e,t)=>e.bind(g.Props).toConstantValue(t),M=(e,t)=>e.bind(p).toConstantValue(t),O=(e,t,n="Default")=>{var r=e.bind(h).to(t).inSingletonScope().whenTargetNamed(n);return"Default"===n&&r.onActivation(((e,t)=>new Proxy(t,{get:(e,t)=>"enabled"===t||(()=>d(void 0,void 0,void 0,(function*(){return{message:"N/A",domain:n}})))}))),r},P=(e,t)=>e.getNamed(h,t),R=(e,t)=>t.bind(null,e),D=class{constructor(){this.tempId=new S}get enabled(){var e,t;return null!==(t=null===(e=this.RuntimeAdapter)||void 0===e?void 0:e.enabled)&&void 0!==t&&t}saveToConsole({objectId:e="",value:t}){return d(this,void 0,void 0,(function*(){var n=null!=t?t:x(e);if(n){for(var r=`temp${this.tempId.id}`;Reflect.has(globalThis,r);)r=`temp${this.tempId.id}`;return Reflect.set(globalThis,r,n),r}}))}disable(){var e;return d(this,void 0,void 0,(function*(){null===(e=this.RuntimeAdapter)||void 0===e||e.disable()}))}enable(){var e;return d(this,void 0,void 0,(function*(){null===(e=this.RuntimeAdapter)||void 0===e||e.enable()}))}};a([I("Runtime"),(0,o.jt)(),u("design:type",E)],D.prototype,"RuntimeAdapter",void 0),D=a([(0,o.b2)()],D);class k extends Map{constructor(){super(...arguments),this.revMap=new Map}set(e,t){return super.set(e,t),this.revMap.set(t,e),this}delete(e){var t=super.get(e),n=super.delete(e),r=this.revMap.delete(t);return n&&r}getRev(e){return this.revMap.get(e)}hasRev(e){return this.revMap.has(e)}}var B=class{constructor(){this.enabled=!0}};function j(e,t=1e3,n){var r;return function(...i){if(r&&clearTimeout(r),n){if(!r)return e.apply(null,i);r=setTimeout((()=>r=null),t)}else r=setTimeout((()=>e.apply(null,i)),t)}}function L(e){return function(...t){return new Promise((function(n,r){t.push((e=>{n(e)})),e(...t)}))}}B=a([(0,o.b2)()],B);var F=null,U=["position","top","left","right","bottom","width","height","margin-right","margin-left","margin-top","margin-bottom","padding-left","padding-right","padding-top","padding-bottom","border-left-width","border-right-width","border-top-width","border-bottom-width"];var G=new class{get isSkyline(){return!!(null===window||void 0===window?void 0:window.__skylineEngine__)}getBoundingClientRect(e){return d(this,void 0,void 0,(function*(){var t;try{if(this.isSkyline){var n=L(e.getBoundingClientRect.bind(e));t=yield n()}else t=e.getBoundingClientRect()}catch(e){console.log("getComputedStyle: error",e)}return t}))}formatComputedStyle(e){var t={};return U.forEach((n=>{var r=function(e,t="_"){return e.replace(new RegExp(`\\${t}(\\w)`,"g"),(function(e,t){return t.toUpperCase()}))}(n,"-"),i=e[n]||e[r];"number"==typeof i&&(i=`${i}px`),t[n]=i})),t}getComputedStyle(e){return d(this,void 0,void 0,(function*(){var t={};try{if(this.isSkyline){var n=P(N,"DOM"),r=yield n.tree.getPageContext(),i=L(r.getComputedStyle.bind(r));t=yield i(e),t=this.formatComputedStyle(t)}else t=window.getComputedStyle(e)}catch(e){console.error("getComputedStyle: error",e)}return t}))}getWindowInfo(){return d(this,void 0,void 0,(function*(){if(this.isSkyline){var e=P(N,"DOM"),t=yield e.tree.getPageContext(),{clientHeight:n,clientWidth:r,scrollLeft:i=0,scrollTop:o=0}=t;return{innerHeight:n,innerWidth:r,scrollTop:o,scrollLeft:i}}return{innerHeight:window.innerHeight,innerWidth:window.innerWidth,scrollTop:window.scrollY,scrollLeft:window.screenX}}))}getAttribute(e,t){var n,r,i;return"id"===t?(null===(n=e.$$)||void 0===n?void 0:n.id)||"":"classList"===t?(null===(r=e.$$)||void 0===r?void 0:r.classList)||[]:null===(i=e.$$)||void 0===i?void 0:i.getAttribute(t)}appendChild(e,t,n=!0){e.appendChild(t),n&&this.startRender()}getStyle(e){return this.isSkyline?((null==e?void 0:e.__styleSegments)||[]).join(""):e.$$.getAttribute("style")}parseStyle2Map(e=""){var t=e.split(";"),n={};return t.length&&t.forEach((e=>{var t=e.split(":");2===t.length&&(n[t[0]]=t[1])})),n}updateStyle(e,t,n=!0){var r=this.getStyle(e),i=this.parseStyle2Map(r),o=this.parseStyle2Map(t),a=Object.assign(Object.assign({},i),o),s="";for(var u in a)s+=`${u}:${a[u]};`;this.setStyle(e,s,n)}setStyle(e,t,n=!0){e.setNodeStyle(t),n&&this.startRender()}startRender(){return d(this,void 0,void 0,(function*(){this.isSkyline&&(F&&clearTimeout(F),F=setTimeout((()=>d(this,void 0,void 0,(function*(){var e=P(N,"DOM");(yield e.tree.getPageContext()).startRender(),F=null}))),100))}))}};class V{}var W={showInfo:!0,showAccessibilityInfo:!0,showStyles:!0,contentColor:{r:161,g:197,b:232,a:.66},paddingColor:{r:196,g:222,b:184,a:.55},borderColor:{r:255,g:229,b:153,a:.66},marginColor:{r:246,g:178,b:107,a:.5},eventTargetColor:{r:255,g:196,b:196,a:.66},shapeColor:{r:96,g:82,b:177,a:.8},shapeMarginColor:{r:96,g:82,b:127,a:.6}},z='\n  all: unset;\n  pointer-events: none;\n  top: 100%;\n  margin-top: -4px;\n  transform: rotate(45deg) skewX(5deg) skewY(5deg);\n  content: "";\n  position: absolute;\n  z-index: -100;\n  left: 10px;\n  width: 8px;\n  height: 8px;\n  border-radius: 0 0 2px 0;\n  background: #ffffff;\n  bottom: 100%;\n  margin-bottom: -4px;\n',H="__wx_inspectee_highlight__";function $(e,t){var n=e.__wxSlotChildren[0].createNativeNode("wx-inspectee-highlight-element");return n.id=`${H}${t}`,n}function q(e,t){var n=e.__wxSlotChildren[0].createTextNode("wx-text");return n.id=`${H}${t}`,n}function Y(e){return e.id&&e.id.startsWith(H)}function K(){return d(this,void 0,void 0,(function*(){var e=yield function(){return d(this,void 0,void 0,(function*(){return new Promise(((e,t)=>{wx.getCurrentWebviewId({success(t){e(t.webviewId)},fail(){t()}})}))}))}();return __virtualDOM__.getDomTreeByPageId(e)}))}var J,X=(J=9e5,()=>J++),Z=function(e){return("0"+parseInt(e,10).toString(16)).slice(-2)},Q={};class ee{constructor(e,t){this.domTree=e,this.viewId=X(),this.node=$(this.domTree,this.viewId.toString());var n=Q[t];n?(G.appendChild(n,this.node),G.setStyle(this.node,"pointer-events: none;position:absolute;top:0;left:0;width:0;height:0;")):(G.appendChild(this.domTree.__wxSlotChildren[0],this.node),G.setStyle(this.node,"pointer-events: none;position:fixed;top:0;left:0;width:0;height:0;")),Q[this.viewId]=this.node}update(e={}){var{position:t={},style:n={}}=e,r="pointer-events: none;";for(var i in t)r+=`${i}:${t[i]}px;`;for(var o in n)r+=`${o}:${n[o]};`;G.setStyle(this.node,r)}hide(){G.setStyle(this.node,"pointer-events: none;position:absolute;top:0;left:0;width:0;height:0;")}destroy(){this.domTree.__wxSlotChildren[0].removeChild(this.node),delete Q[this.viewId],this.node=null}}var te,ne=new class extends V{constructor(){super(),this.resetDOM(),this.resetTips(),this._target=null,this._tasks=[],this._runing=!1}resetTips(){this._tipsInited=!1,this._inspectTipsContainer=null,this._tagContainer=null,this._tagNameTips=null,this._tagNameTipsText=null,this._idTips=null,this._idTipsText=null,this._classTips=null,this._classTipsText=null,this._inspectTipsSep=null,this._sizeTips=null,this._sizeTipsText=null,this._arrowTips=null}initTips(){this._inspectTipsContainer=$(this._domTree,"inspectTag"),this._tagContainer=$(this._domTree,"tagContainer"),this._tagNameTips=$(this._domTree,"tagNameTips"),this._tagNameTipsText=q(this._domTree,"inspectTagText"),this._idTips=$(this._domTree,"idTips"),this._idTipsText=q(this._domTree,"idTipsText"),this._classTips=$(this._domTree,"classTips"),this._classTipsText=q(this._domTree,"classTipsText"),this._inspectTipsSep=$(this._domTree,"inspectTipsSep"),this._sizeTips=$(this._domTree,"sizeTip"),this._sizeTipsText=q(this._domTree,"sizeTipText"),this._arrowTips=$(this._domTree,"arrowTip"),G.setStyle(this._inspectTipsContainer,"\n  all: unset;\n  pointer-events: none;\n  display: flex;\n  flex-direction: row;\n  position: absolute;\n  padding: 4px 10px;\n  font-size: 12px;\n  color: #d9d9d9;\n  background-color: #ffffff;\n  z-index: 8000;\n  border-radius: 2px;\n  cursor: default;\n  box-shadow: rgba(0, 0, 0, 0.2) 0px 0px 2px;\n  box-sizing: border-box;\n",!1),G.setStyle(this._tagContainer,"\n  all: unset;\n  pointer-events: none;\n  display: flex; \n  flex-direction: \n  row; margin: auto; \n  word-break: break-all; \n  flex-shrink: 2;\n",!1),G.setStyle(this._tagNameTips,"\n  all: unset;\n  pointer-events: none;\n  display:inline-block;\n  color:#df80e1;\n",!1),G.setStyle(this._idTips,"\n  all: unset;\n  pointer-events: none;\n  display:inline-block;\n  color: #f3ae71;\n",!1),G.setStyle(this._classTips,"\n  all: unset;\n  pointer-events: none;\n  display:inline-block;\n  color: #98cbef;\n",!1),G.setStyle(this._inspectTipsSep,"\n  all: unset;\n  pointer-events: none;\n  display: inline-block;\n  align-self: center;\n  height: 100%;\n  vertical-align: middle;\n  width: 1px;\n  height: 18px;\n  background-color: rgba(204,204,204,0.5);\n  margin: 0 8px;\n",!1),G.setStyle(this._sizeTips,"\n  all: unset;\n  pointer-events: none;\n  display:inline-block;\n  color: #ccc; \n  font-size: 11px; \n  white-space: nowrap; \n  align-self: center;\n",!1),G.setStyle(this._arrowTips,z,!1),G.appendChild(this._tagNameTips,this._tagNameTipsText,!1),G.appendChild(this._idTips,this._idTipsText,!1),G.appendChild(this._classTips,this._classTipsText,!1),G.appendChild(this._sizeTips,this._sizeTipsText,!1),G.appendChild(this._tagContainer,this._tagNameTips,!1),G.appendChild(this._tagContainer,this._idTips,!1),G.appendChild(this._tagContainer,this._classTips,!1),G.appendChild(this._inspectTipsContainer,this._tagContainer,!1),G.appendChild(this._inspectTipsContainer,this._inspectTipsSep,!1),G.appendChild(this._inspectTipsContainer,this._sizeTips,!1),G.appendChild(this._inspectTipsContainer,this._arrowTips,!1),G.startRender(),this._tipsInited=!0}hideTips(){this._tipsInited&&G.updateStyle(this._inspectTipsContainer,"display: none;")}destroyTips(){this._tipsInited&&(this._inspectTipsContainer&&this._inspectTipsContainer.parentNode&&this._inspectTipsContainer.parentNode.removeChild(this._inspectTipsContainer),this.resetTips(),this._tipsInited=!1)}resetDOM(){this._domInited=!1,this._dom=null,this._borderDom=null,this._paddingDom=null,this._sizeDom=null}initDOM(){this._dom=new ee(this._domTree,0),this._borderDom=new ee(this._domTree,this._dom.viewId),this._paddingDom=new ee(this._domTree,this._dom.viewId),this._sizeDom=new ee(this._domTree,this._dom.viewId),this._domInited=!0}hideDOM(){this._dom&&this._dom.update({style:{display:"none"}})}destroyDOM(){this._dom&&(this._dom.destroy(),this.resetDOM())}setTips(e){return d(this,void 0,void 0,(function*(){if(this._target){var{top:t,left:n,width:r,height:i,contentWidth:o,contentHeight:a}=e,s=(this._target.is||"").replace(/^wx-/,"").toLowerCase();"body"===s&&(s="page"),this._tagNameTipsText.textContent=s;var u=G.getAttribute(this._target,"id");this._idTipsText.textContent=u?`#${u}`:"";var d=G.getAttribute(this._target,"classList"),l=Array.prototype.map.call(d,(e=>`.${e}`)).join("");this._classTipsText.textContent=l?`${l}`:"",this._sizeTipsText.textContent=`${this.pruneNum(o)} x ${this.pruneNum(a)}`;var c="display:block;",{innerWidth:h,innerHeight:p}=yield G.getWindowInfo(),f=h-100,g=20+6.2*(this._tagNameTipsText.textContent.length+this._idTipsText.textContent.length+this._classTipsText.textContent.length)+16+1+6*this._sizeTipsText.textContent.length;c+=`max-width:${f}px;min-width:120px;width:${g}px;`,G.appendChild(this._domTree.__wxSlotChildren[0],this._inspectTipsContainer),G.updateStyle(this._inspectTipsContainer,c);var v=(yield G.getBoundingClientRect(this._inspectTipsContainer.$$)).height,m=n+Math.min(f,g)>h,y=e=>{if(m){G.setStyle(this._arrowTips,e?'\n  all: unset;\n  pointer-events: none;\n  top: 100%;\n  margin-top: -4px;\n  transform: rotate(45deg) skewX(5deg) skewY(5deg);\n  content: "";\n  position: absolute;\n  z-index: -100;\n  right: 10px;\n  width: 8px;\n  height: 8px;\n  border-radius: 0 0 2px 0;\n  background: #ffffff;\n  bottom: 100%;\n  margin-bottom: -4px;\n':'\n  all: unset;\n  pointer-events: none;\n  bottom: 100%;\n  margin-bottom: -4px;\n  transform: rotate(225deg) skewX(5deg) skewY(5deg);\n  content: "";\n  position: absolute;\n  z-index: -100;\n  right: 10px;\n  width: 8px;\n  height: 8px;\n  border-radius: 0 0 2px 0;\n  background: #ffffff;\n');var t=r+n-Math.min(f,g);c+=`left:${Math.max(0,t)}px;`,t<0&&(c+=`width:${Math.min(f,g)+t}px;`)}else G.setStyle(this._arrowTips,e?z:'\n  all: unset;\n  pointer-events: none;\n  bottom: 100%;\n  margin-bottom: -4px;\n  transform: rotate(225deg) skewX(5deg) skewY(5deg);\n  content: "";\n  position: absolute;\n  z-index: -100;\n  left: 10px;\n  width: 8px;\n  height: 8px;\n  border-radius: 0 0 2px 0;\n  background: #ffffff;\n'),c+=`left:${n}px;`};if(t>p-t-i){y(!0);var _=t-v-4;c+=`top:${_>0?_:0}px;`}else{y(!1);var b=t+i+4;c+=`top:${b+v<p?b:p-v}px;`}G.updateStyle(this._inspectTipsContainer,c)}}))}show(e,t=W){return d(this,void 0,void 0,(function*(){this._tasks.push({type:"show",target:e,config:t}),this.handleTasks()}))}hide(){this._tasks.push({type:"hide"}),this.handleTasks()}handleTasks(){return d(this,void 0,void 0,(function*(){var e=yield K();if(e&&this._domTree===e||(this._runing=!1),this._tasks.length&&!this._runing){for(this._runing=!0;this._tasks.length;){var t=this._tasks.shift();try{"show"===t.type?yield this.handleShowTask(e,t.target,t.config):this.handleHideTask()}catch(e){console.error("handle highlight task fail:",t,e)}finally{this._runing=!1}}this._runing=!1}}))}handleShowTask(e,t,n=W){return d(this,void 0,void 0,(function*(){try{if(!t||t===this._target||!t.$$)return;this._domTree!==e&&(this.destroyDOM(),this.destroyTips()),this._domTree=e,this._tipsInited||this.initTips(),this._domInited||this.initDOM(),this._target=t;var r=yield G.getBoundingClientRect(t.$$),i=yield G.getComputedStyle(t.$$),o={};["width","height","margin-left","margin-right","margin-top","margin-bottom","padding-left","padding-right","padding-top","padding-bottom","border-left-width","border-right-width","border-top-width","border-bottom-width"].forEach((e=>{o[e]=parseFloat(i[e].replace("px",""))}));var{top:a,left:s,width:u,height:d}=r,{scrollLeft:l,scrollTop:c}=yield G.getWindowInfo();this._dom.update({style:Object.assign(Object.assign({},this.formatConfigColorRgba(n,"marginColor")),{position:"absolute",display:"block"}),position:{top:a-o["margin-top"]+c,left:s-o["margin-left"]+l,width:u+o["margin-left"]+o["margin-right"],height:d+o["margin-top"]+o["margin-bottom"]}}),this._borderDom.update({style:Object.assign(Object.assign({},this.formatConfigColorRgba(n,"borderColor")),{position:"absolute",display:"block"}),position:{top:o["margin-top"],left:o["margin-left"],width:u,height:d}}),this._paddingDom.update({style:Object.assign(Object.assign({},this.formatConfigColorRgba(n,"paddingColor")),{position:"absolute",display:"block"}),position:{top:o["margin-top"]+o["border-top-width"],left:o["margin-left"]+o["border-left-width"],width:u-o["border-left-width"]-o["border-right-width"],height:d-o["border-top-width"]-o["border-bottom-width"]}}),this._sizeDom.update({style:Object.assign(Object.assign({},this.formatConfigColorRgba(n,"contentColor")),{position:"absolute",display:"block"}),position:{top:o["margin-top"]+o["border-top-width"]+o["padding-top"],left:o["margin-left"]+o["border-left-width"]+o["padding-left"],width:u-o["border-left-width"]-o["border-right-width"]-o["padding-left"]-o["padding-right"],height:d-o["border-top-width"]-o["border-bottom-width"]-o["padding-top"]-o["padding-bottom"]}}),yield this.setTips({top:a-o["margin-top"]+c,left:s-o["margin-left"]+l,width:u+o["margin-left"]+o["margin-right"],height:d+o["margin-top"]+o["margin-bottom"],contentWidth:u,contentHeight:d})}catch(e){"cancel"!==e.message&&console.error("highlight show error:",e)}}))}handleHideTask(){this.hideDOM(),this.hideTips(),this._target=null,G.startRender()}pruneNum(e){return e.toFixed(2).replace(/\.?(0{1,})$/i,"")}formatConfigColorRgba(e,t={}){if(e[t]){var{r:n,g:r,b:i,a:o}=e[t];return{background:`#${Z(n)}${Z(r)}${Z(i)}`,opacity:o}}}},re="#text",ie=new Set(["class","is"]);!function(e){e[e.Unknown=0]="Unknown",e[e.TextNode=1]="TextNode",e[e.VirtualNode=2]="VirtualNode",e[e.Component=3]="Component",e[e.NativeNode=4]="NativeNode",e[e.Element=5]="Element"}(te||(te={}));class oe{constructor({exparser:e,root:t,customTabbar:n,hideVirtual:r=!0}){var i;this.name="mini-app",this.nodeId=new S(4),this.inspectedId=new S(0),this.nodeIdMap=new Map,this.idNodeMap=new Map,this.options={},this.skippedDOMAttrs=ie,this.getNodeType=e=>e instanceof this.exparser.TextNode?te.TextNode:e instanceof this.exparser.VirtualNode?te.VirtualNode:e instanceof this.exparser.Component?te.Component:e instanceof this.exparser.NativeNode?te.NativeNode:e instanceof this.exparser.Element?te.Element:te.Unknown,this.getNodeName=(e,t="")=>{throw new Error("no implement")},this.domify=({root:e,node:t,nodeId:n,customTabbar:r,currentDepth:i=1,depth:o=1,parentId:a,emit:s,env:u={},defalutNodeName:d=""}={})=>{var l,c,h,p,f,g,v,m;if(t?this.nodeIdMap.has(t)||(n=this.nodeId.id,this.addToMap(t,n)):n?t=this.getNodeById(n):r?(t=this.customTabbar,this.addToMap(t,4)):(t=e,this.addToMap(t,3)),!t)return null;n||(n=this.nodeIdMap.get(t));var y=this.getNodeType(t),_={type:y};if(this.observeNode({root:e,emit:s,nodeId:n}),y===te.TextNode)return{nodeId:n,parentId:a,backendNodeId:n,nodeType:3,nodeName:re,localName:re,nodeValue:t.textContent};_.is=t.is,_.parentId=a,_.nodeType=1,_.nodeId=_.backendNodeId=n,_.nodeName=_.localName=this.getNodeName(t,d),t.__component__&&(_.component=t.__component__,_.componentId=parseInt(this.getAttributeValue(t,"wx:nodeid"))),"slot"===(null===(l=null==t?void 0:t.__wxSlotParent)||void 0===l?void 0:l.is)&&"string"==typeof(null===(c=null==t?void 0:t.__wxSlotParent)||void 0===c?void 0:c.__slotName)&&(null===(f=null===(p=null===(h=null==t?void 0:t.__wxSlotParent)||void 0===h?void 0:h.ownerShadowRoot)||void 0===p?void 0:p.__wxHost)||void 0===f?void 0:f.__component__)&&!(null===(m=null===(v=null===(g=null==t?void 0:t.__wxSlotParent)||void 0===g?void 0:g.ownerShadowRoot)||void 0===v?void 0:v.__wxHost)||void 0===m?void 0:m.__virtual)&&(_.slotParentId=parseInt(this.getAttributeValue(t.__wxSlotParent.ownerShadowRoot.__wxHost,"wx:nodeid")));var b=this.getChildren(t),w=[];if(this.options.hideVirtual&&t!==this.customTabbar&&(y===te.VirtualNode||t.__component__&&t.__virtual))return null==b||b.forEach(((t,n)=>{if(!Y(t)){var r=this.domify({root:e,node:t,depth:o,currentDepth:i,parentId:a,emit:s,defalutNodeName:d});r&&(Array.isArray(r)?w.push(...r):w.push(r))}})),w;(i<=o||-1===o)&&(null==b||b.forEach(((t,n)=>{if(!Y(t)){var r=this.domify({root:e,node:t,depth:o,currentDepth:i+1,parentId:_.nodeId,emit:s,defalutNodeName:d});r&&(Array.isArray(r)?w.push(...r):w.push(r))}})),_.children=i!==o&&w.length?w:void 0,_.childNodeCount=null==w?void 0:w.length);var x=this.getAttributes(t);return x.length&&(_.attributes=x),_},this.setInspectedNode=e=>(this.inspectedNode=this.getNodeById(e),this.inspectedNode?e:null),this.setInspectedNodeForExparser=e=>{var t,{node:n,variableName:r}=null!==(t=this.idNodeMap.get(e))&&void 0!==t?t:{};if(!n)return null;if(!r){for(r=`$$${this.inspectedId.id}`;Reflect.has(globalThis,r);)r=`$$${this.inspectedId.id}`;this.idNodeMap.get(e)&&(this.idNodeMap.get(e).variableName=r)}return Reflect.set(globalThis,r,n),r},this.findLogicalParent=e=>this.options.hideVirtual?this.findNearestNonVirtualAncestor(e):this.getParent(e),this.getChildren=e=>{var t;return"string"==typeof e.__slotName?this.findNearestNonVirtualChildren(null===(t=e.ownerShadowRoot)||void 0===t?void 0:t.__wxHost).filter((t=>"slot"===t.is||t.slot===e.__slotName)):e.__component__?[e.shadowRoot]:e.childNodes||[]},this.getSibling=(e,t="prev")=>{var n,{hideVirtual:r}=this.options,i=this.getParent(e),o=this.getChildren(i),a=Array.prototype.indexOf.call(o,e);if(o.length<2||a<0||"next"===t&&a===o.length-1||"prev"===t&&0===a)return r&&this.isVirtual(i)?this.getSibling(i,t):null;if("prev"===t)for(n=o[a-1];r&&this.isVirtual(n);){var s=this.getChildren(n);n=s[s.length-1]}else for(n=o[a+1];r&&this.isVirtual(n);){n=this.getChildren(n)[0]}return null!=n?n:null},this.observeNode=({root:e,nodeId:t=-1,emit:n})=>{var r,{node:i,observer:o}=null!==(r=this.idNodeMap.get(t))&&void 0!==r?r:{};i&&(o||((o=this.exparser.Observer.create((r=>{var o,a,s,u,d,l,c,h,p;switch(r.type){case"characterData":var f=i.textContent;null==n||n({method:"DOM.characterDataModified",params:{nodeId:t,characterData:f}});break;case"properties":var g=r.propertyName,v=i[g];if(this.options.hideVirtual&&(null===(o=null==r?void 0:r.target)||void 0===o?void 0:o.__virtual))return;null==v?null==n||n({method:"DOM.attributeRemoved",params:{nodeId:t,name:g}}):null==n||n({method:"DOM.attributeModified",params:{nodeId:t,name:g,value:"number"==typeof v?v.toString():v}});break;case"childList":var m=this.nodeIdMap.get(r.target),y=(null===(a=i.childNodes)||void 0===a?void 0:a.length)||0,_=y;if(null===(s=r.removedNodes)||void 0===s?void 0:s.length)for(var b of(_=y-(null===(u=r.removedNodes)||void 0===u?void 0:u.length),r.removedNodes))if(!Y(b)){var w=null!==(d=this.nodeIdMap.get(b))&&void 0!==d?d:-1;null==n||n({method:"DOM.childNodeRemoved",params:{parentNodeId:m,nodeId:w}}),this.nodeIdMap.delete(b),this.idNodeMap.delete(w);var{observer:x}=null!==(l=this.idNodeMap.get(t))&&void 0!==l?l:{};null==x||x.disconnect()}if(null===(c=r.addedNodes)||void 0===c?void 0:c.length)for(var T of(_=y+(null===(h=r.addedNodes)||void 0===h?void 0:h.length),r.addedNodes))if(!Y(T)){var A=null!==(p=this.nodeIdMap.get(this.getSibling(T)))&&void 0!==p?p:-1,E=this.domify({root:e,node:T,parentId:m,emit:n});n({method:"DOM.childNodeInserted",params:{parentNodeId:m,previousNodeId:A,node:E}})}_!==y&&(null==n||n({method:"DOM.childNodeCountUpdated",params:{nodeId:t,childNodeCount:y}}))}}))).observe(i,{properties:!0,childList:!0,characterData:i instanceof this.exparser.TextNode}),this.idNodeMap.set(t,{node:i,observer:o})))},this._exparser=e,this._root=t,this._customTabbar=n,this.options={hideVirtual:r},this.document={nodeId:1,backendNodeId:1,childNodeCount:1,children:[],nodeType:9,nodeName:"#document"};var o={parentId:1,nodeId:2,backendNodeId:2,nodeType:10,nodeName:this.name};null===(i=this.document.children)||void 0===i||i.push(o),this.registerCustomComponents()}getRoot(){return d(this,void 0,void 0,(function*(){throw new Error("no implement")}))}get exparser(){return this._exparser?this._exparser():window.exparser}get virtualDOM(){return this._virtualDOM?this._virtualDOM():window.__virtualDOM__}get customTabbar(){return this._customTabbar?this._customTabbar():window.__TAB_BAR__}get webviewEngine(){return this._webviewEngine?this._webviewEngine():window.__webviewEngine__}get skylineEngine(){return this._skylineEngine?this._skylineEngine():window.__skylineEngine__}registerCustomComponents(){this.exparser.registerElement({is:"wx-inspectee-highlight-element",template:"<span></span>",behaviors:["wx-base"],properties:{},attached(){}})}getPageContext(){return d(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}getPageContextId(){return d(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}getStyleSCopeId(e,t){return this.webviewEngine.getStyleSheetScope(e,t)}addToMap(e,t){this.nodeIdMap.set(e,t),this.idNodeMap.set(t,{node:e}),e.setAttribute&&e.setAttribute("wx:nodeid",t)}removeNode(e){var t;return d(this,void 0,void 0,(function*(){var n=this.getNodeById(e);if(n!==(yield this.getRoot())){var r=this.getObserverById(e);r&&r.disconnect(),null===(t=n.parentNode)||void 0===t||t.removeChild(n),this.nodeIdMap.delete(n),this.idNodeMap.delete(e)}}))}getNodeById(e){var t;return null===(t=this.idNodeMap.get(e))||void 0===t?void 0:t.node}getObserverById(e){var t;return null===(t=this.idNodeMap.get(e))||void 0===t?void 0:t.observe}requestIdForNode(e){var t=this.nodeIdMap.get(e);return t||(t=this.nodeId.id,this.addToMap(e,t)),t}isWxComponent(e){var t;return null===(t=e.is)||void 0===t?void 0:t.startsWith("wx-")}spreadScopeData(){this.virtualDOM?this.virtualDOM.spreadScopeDataToDOMNode():setTimeout((()=>{this.spreadScopeData()}),200)}isVirtual(e){return e instanceof this.exparser.VirtualNode}getParent(e){return this.isVirtual(e)?e.__wxSlotParent:e.parentNode}findNearestNonVirtualAncestor(e){for(var t=e;this.isVirtual(t);)t=t.__wxSlotParent;return null==t?void 0:t.parentNode}findNearestNonVirtualChildren(e){var t=e.childNodes||[],n=[];return t.forEach((e=>{this.isVirtual(e)&&"slot"!==e.is?n=n.concat(this.findNearestNonVirtualChildren(e)):n.push(e)})),n}getDocument({depth:e,emit:t}={}){return d(this,void 0,void 0,(function*(){var n=yield this.getRoot();if(!n)return this.document;var r=this.domify({root:n,depth:e,parentId:this.document.nodeId,emit:t});if(this.document.children[1]=r,this.customTabbar){var i=this.domify({root:n,depth:e,parentId:this.document.nodeId,emit:t,customTabbar:!0});this.document.children[2]=i}return this.document.childNodeCount=this.document.children.length,this.document}))}}var ae=class{constructor(){this.enabled=!1}getExparserNodeFromParams(e){return d(this,void 0,void 0,(function*(){var t,{nodeId:n,backendNodeId:r,objectId:i}=e;if(n||r)t=this.tree.getNodeById(n||r);else if(i){var o=yield this.requestNode({objectId:i});t=this.tree.getNodeById(o.nodeId)}return t||console.warn("can not found node",e),t}))}scrollIntoViewIfNeeded(e){return d(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}collectClassNamesFromSubtree(e){return d(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}copyTo(e){return d(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}describeNode(e){return d(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}discardSearchResults(e){return d(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}disable(){return d(this,void 0,void 0,(function*(){this.enabled=!1}))}enable(){return d(this,void 0,void 0,(function*(){this.enabled=!0}))}focus(e){return d(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}getAttributes(e){return d(this,void 0,void 0,(function*(){var{nodeId:t}=e,n=yield this.getExparserNodeFromParams({nodeId:t});return{attributes:this.tree.getAttributes(n)}}))}getBoxModel(e){throw new Error("Method not implemented.")}getContentQuads(e){throw new Error("Method not implemented.")}getDocument(e){return d(this,void 0,void 0,(function*(){var{depth:t=2}=e;try{return{root:yield this.tree.getDocument({depth:t,emit:e=>{this.bridge.emit(e)}})}}catch(e){throw console.error(e),e}}))}getFlattenedDocument(e){throw new Error("Method not implemented.")}getNodesForSubtreeByStyle(e){throw new Error("Method not implemented.")}getNodeForLocation(e){return d(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}getOuterHTML(e){throw new Error("Method not implemented.")}getRelayoutBoundary(e){throw new Error("Method not implemented.")}getSearchResults(e){throw new Error("Method not implemented.")}hideHighlight(){return d(this,void 0,void 0,(function*(){this.highlight.hide()}))}highlightNode(e){return d(this,void 0,void 0,(function*(){var{nodeId:t,backendNodeId:n,objectId:r,selector:i,highlightConfig:o={}}=e||{},a=yield this.getExparserNodeFromParams({nodeId:t,backendNodeId:n,objectId:r});a&&i&&(a=a.querySelector(i)),a&&(yield this.highlight.show(a,o))}))}highlightRect(){throw new Error("Method not implemented.")}markUndoableState(){throw new Error("Method not implemented.")}moveTo(e){throw new Error("Method not implemented.")}performSearch(e){throw new Error("Method not implemented.")}pushNodeByPathToFrontend(e){throw new Error("Method not implemented.")}pushNodesByBackendIdsToFrontend(e){return d(this,void 0,void 0,(function*(){var{backendNodeIds:t}=e;return{nodeIds:t}}))}querySelector(e){return d(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}querySelectorAll(e){return d(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}redo(){throw new Error("Method not implemented.")}removeAttribute(e){return d(this,void 0,void 0,(function*(){var{nodeId:t,name:n}=e,r=yield this.getExparserNodeFromParams(e);this.tree.removeAttributes(r,n),this.bridge.emit({method:"DOM.attributeRemoved",params:{nodeId:t,name:n}})}))}setAttributeValue(e){return d(this,void 0,void 0,(function*(){var{nodeId:t,name:n,value:r}=e,i=yield this.getExparserNodeFromParams(e);this.tree.setAttributeValue(i,n,r),this.bridge.emit({method:"DOM.attributeModified",params:{nodeId:t,name:n,value:r}})}))}setAttributesAsText(e){return d(this,void 0,void 0,(function*(){var{name:t,nodeId:n,text:r}=e;if(!t)throw new Error("invalid name");for(var i=yield this.getExparserNodeFromParams(e),o={},a=r.match(/(\w+)(-\w+)?\s*=\s*['"]([^"]*)['"]/g)||[],s=0,u=a.length;s<u;s++){var d=a[s].split("="),l=d[0].trim(),c=d[1]?d[1].trim().replace(/^"/,"").replace(/"$/,""):"true";o[l]=c,this.tree.getAttributeValue(i,l)!==c&&this.setAttributeValue({nodeId:n,name:l,value:c})}t&&!o[t]&&this.removeAttribute({nodeId:n,name:t})}))}removeNode(e){return d(this,void 0,void 0,(function*(){var{nodeId:t}=e;yield this.tree.removeNode(t)}))}requestChildNodes(e){var t;return d(this,void 0,void 0,(function*(){var{nodeId:n,depth:r=2,pierce:i}=e,o=this.tree.domify({depth:r,nodeId:n,emit:e=>{this.bridge.emit(e)}});this.bridge.emit({method:"DOM.setChildNodes",params:{parentId:n,nodes:null!==(t=o.children)&&void 0!==t?t:[]}})}))}requestNode(e){return d(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}resolveNode(e){return d(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}setFileInputFiles(e){throw new Error("Method not implemented.")}setNodeStackTracesEnabled(e){throw new Error("Method not implemented.")}getNodeStackTraces(e){throw new Error("Method not implemented.")}getFileInfo(e){throw new Error("Method not implemented.")}setInspectedNode(e){return d(this,void 0,void 0,(function*(){var{nodeId:t}=e;this.tree.setInspectedNode(t)}))}setNodeName(e){throw new Error("Method not implemented.")}setNodeValue(e){return d(this,void 0,void 0,(function*(){var{value:t}=e,n=yield this.getExparserNodeFromParams(e);this.tree.getNodeType(n)===te.TextNode&&(n.textContent=t)}))}setOuterHTML(e){throw new Error("Method not implemented.")}undo(){throw new Error("Method not implemented.")}getFrameOwner(e){throw new Error("Method not implemented.")}getContainerForNode(e){throw new Error("Method not implemented.")}setHideElement(e){return d(this,void 0,void 0,(function*(){var{nodeId:t,hide:n}=e,r=yield this.getExparserNodeFromParams({nodeId:t});if(r){var i=this.tree.getAttributeValue(r,"style");i.includes("visibility:")?i=i.replace(/visibility:(.*?);/,n?"visibility:hidden;":""):i+="visibility:hidden;",this.tree.setAttributeValue(r,"style",i),this.bridge.emit({method:"DOM.attributeModified",params:{nodeId:t,name:"style",value:i}})}}))}scrollIntoView(e){return d(this,void 0,void 0,(function*(){return yield this.scrollIntoViewIfNeeded(e)}))}getComponentData(e){return d(this,void 0,void 0,(function*(){var{nodeId:t}=e,n=this.tree.getNodeById(t),r=n.data,i=this.tree.virtualDOM.getNodeId(n);if(!i){for(r=null;n.parentNode&&(n=n.parentNode).__virtual;);n.__wxHost&&n.__wxHost.__virtual&&(r=n.__wxHost.data,i=this.tree.virtualDOM.getNodeId(n.__wxHost))}this.lastActiveNodeId=i,this.hasListenOnVdSyncBatch||(this.listenOnVdSyncBatch(),this.hasListenOnVdSyncBatch=!0),this.bridge.emit({method:"WxComponent.componentDataChanged",params:{componentData:r,exparseNodeId:this.lastActiveNodeId}})}))}componentDataByVdSync(e){var t=this.tree.virtualDOM.getNodeById(e).data;t&&this.bridge.emit({method:"WxComponent.componentDataChanged",params:{componentData:t,exparseNodeId:e}})}listenOnVdSyncBatch(){var e=this.lastActiveNodeId,t=this,n=()=>{var n=Date.now();if(!t.lastTimeForComponentData||n-t.lastTimeForComponentData>1e3)return t.componentDataByVdSync(e),void(t.lastTimeForComponentData=Date.now());this.timerForComponentData&&clearTimeout(this.timerForComponentData),this.timerForComponentData=setTimeout((function(){t.componentDataByVdSync(e),t.lastTimeForComponentData=Date.now()}),1e3)};(WeixinJSBridge.addSubscribeListener||wx.subscribe)("vdSyncBatch",(function(t){for(var r of(Array.isArray(t)||(t=t.data),t))if(r instanceof Array){for(var i of r)if(i===e){n();break}}else r&&r.nodeId&&r.nodeId===e&&n()}))}on(e,t){throw new Error("Method not implemented.")}};a([(0,o.f3)(v),u("design:type",o.W2)],ae.prototype,"container",void 0),a([(0,o.f3)(p),u("design:type",m)],ae.prototype,"bridge",void 0),ae=a([(0,o.b2)()],ae);var se=e=>e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`)),ue=class{get enabled(){return this.DOMAdapter.enabled&&this._enabled}disable(){return d(this,void 0,void 0,(function*(){this._enabled=!1}))}enable(){return d(this,void 0,void 0,(function*(){if(!this.DOMAdapter.enabled)throw new Error("Enable DOM first.");this._enabled=!0,this.cssModel.init(this.DOMAdapter,this.bridge),this.cssModel.virtualSheets.forEach((({header:e})=>{this.bridge.emit({method:"CSS.styleSheetAdded",params:{header:e}})}))}))}addRule(e){throw new Error("Method not implemented.")}collectClassNames(e){throw new Error("Method not implemented.")}createStyleSheet(e){throw new Error("Method not implemented.")}forcePseudoState(e){throw new Error("Method not implemented.")}getBackgroundColors(e){throw new Error("Method not implemented.")}getComputedStyleForNode(e){return d(this,void 0,void 0,(function*(){var t=yield this.DOMAdapter.getExparserNodeFromParams(e);return{computedStyle:yield this.getComputedStyleByNode(t)}}))}getInlineStylesForNode(e){return d(this,void 0,void 0,(function*(){var t=yield this.DOMAdapter.getExparserNodeFromParams(e);return{inlineStyle:this.getInlineStylesByNode(t)}}))}getMatchedStylesForNode(e){return d(this,void 0,void 0,(function*(){try{var t=yield this.DOMAdapter.getExparserNodeFromParams(e);return{matchedCSSRules:yield this.getMatchedCSSRulesByNode(t),inlineStyle:this.getInlineStylesByNode(t),inherited:this.getInheritedCSSRulesByNode(t)}}catch(e){throw console.error("CSSAdapter::getMatchedStylesForNode",e),e}}))}getComputedStyleByNode(e){return d(this,void 0,void 0,(function*(){return(null==e?void 0:e.$$)?((e,t)=>{var n=[],{baseOffset:r=0,startLine:i=0,disabled:o=!1}=null!=t?t:{},a=r;for(var s in e){var u=e[s];if(isNaN(+s)&&"cssText"!==s&&"string"==typeof u&&u.length){var d=se(s),l=`${d}: ${u};`;n.push({name:d,value:u,text:l,disabled:o,important:/!important/g.test(u),range:{startLine:i,endLine:i,startColumn:a,endColumn:a+=l.length}})}}return n})(yield G.getComputedStyle(e.$$)):[]}))}getInlineStylesByNode(e){if(null==e?void 0:e.$$)return this.cssModel.getInlineRules(e)}getMatchedCSSRulesByNode(e){return d(this,void 0,void 0,(function*(){return(null==e?void 0:e.$$)?yield this.cssModel.getMatchedRules(e):[]}))}getMediaQueries(){throw new Error("Method not implemented.")}getPlatformFontsForNode(e){throw new Error("Method not implemented.")}getStyleSheetText(e){throw new Error("Method not implemented.")}trackComputedStyleUpdates(e){throw new Error("Method not implemented.")}takeComputedStyleUpdates(){throw new Error("Method not implemented.")}setEffectivePropertyValueForNode(e){throw new Error("Method not implemented.")}setKeyframeKey(e){throw new Error("Method not implemented.")}setMediaText(e){throw new Error("Method not implemented.")}setContainerQueryText(e){throw new Error("Method not implemented.")}setRuleSelector(e){throw new Error("Method not implemented.")}setStyleSheetText(e){throw new Error("Method not implemented.")}applyStyleEdit(e){return this.cssModel.applyStyleEdit(e)}setStyleTexts(e){return d(this,void 0,void 0,(function*(){var{edits:t}=e;return{styles:t.map((e=>this.applyStyleEdit(e)))}}))}startRuleUsageTracking(){throw new Error("Method not implemented.")}stopRuleUsageTracking(){throw new Error("Method not implemented.")}takeCoverageDelta(){throw new Error("Method not implemented.")}setLocalFontsEnabled(e){throw new Error("Method not implemented.")}on(e,t){throw new Error("Method not implemented.")}};a([I("DOM"),u("design:type",ae)],ue.prototype,"DOMAdapter",void 0),a([(0,o.f3)(p),u("design:type",m)],ue.prototype,"bridge",void 0),ue=a([(0,o.b2)()],ue);var de=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g;function le(e,t){t=t||{};var n=1,r=1;function i(e){var t=e.match(/\n/g);t&&(n+=t.length);var i=e.lastIndexOf("\n");r=~i?e.length-i:r+e.length}function o(){var e={line:n,column:r};return function(t){return t.position=new a(e),p(),t}}function a(e){this.startColumn=e.column-1,this.startLine=e.line-1,this.endColumn=r-1,this.endLine=n-1,this.source=t.source}a.prototype.content=e;var s=[];function u(i){var o=new Error(t.source+":"+n+":"+r+": "+i);if(o.reason=i,o.filename=t.source,o.line=n,o.column=r,o.source=e,!t.silent)throw o;s.push(o)}function d(){return h(/^{\s*/)}function l(){return h(/^}/)}function c(){var t,n=[];for(p(),f(n);e.length&&"}"!=e.charAt(0)&&(t=A()||E());)!1!==t&&(n.push(t),f(n));return n}function h(t){var n=t.exec(e);if(n){var r=n[0];return i(r),e=e.slice(r.length),n}}function p(){h(/^\s*/)}function f(e){var t;for(e=e||[];t=g();)!1!==t&&e.push(t);return e}function g(){var t=o();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var n=2;""!=e.charAt(n)&&("*"!=e.charAt(n)||"/"!=e.charAt(n+1));)++n;if(n+=2,""===e.charAt(n-1))return u("End of comment missing");var a=e.slice(2,n-2);return r+=2,i(a),e=e.slice(n),r+=2,t({type:"comment",comment:a})}}function v(){var e=h(/^([^{]+)/);if(e)return ce(e[0]).replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*\/+/g,"").replace(/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'/g,(function(e){return e.replace(/,/g,"‌")})).split(/\s*(?![^(]*\)),\s*/).map((function(e){return e.replace(/\u200C/g,",")}))}function m(){var e=o();h(/^[;\s]*/);var t=h(/^(\*?[-#\/\*\\\w]+(\[[0-9a-z_-]+\])?)\s*/);if(t){t=ce(t[0]),h(/^:\s*/);var n=h(/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+)/),r=e({type:"declaration",property:t.replace(de,""),value:n?ce(n[0]).replace(de,""):""});return h(/^[;\s]*/),r}}function y(){var e,t=[];if(!d())return u("missing '{'");for(f(t);e=m();)!1!==e&&(t.push(e),f(t));return l()?t:u("missing '}'")}function _(){for(var e,t=[],n=o();e=h(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/);)t.push(e[1]),h(/^,\s*/);if(t.length)return n({type:"keyframe",values:t,declarations:y()})}var b=T("import"),w=T("charset"),x=T("namespace");function T(e){var t=new RegExp("^@"+e+"\\s*([^;]+);");return function(){var n=o(),r=h(t);if(r){var i={type:e};return i[e]=r[1].trim(),n(i)}}}function A(){if("@"==e[0])return function(){var e=o();if(t=h(/^@([-\w]+)?keyframes\s*/)){var t,n=t[1];if(f(),!(t=h(/^([-\w]+)\s*/)))return u("@keyframes missing name");var r,i=t[1];if(f(),!d())return u("@keyframes missing '{'");for(var a=f();r=_();)a.push(r),a=a.concat(f());return l()?e({type:"keyframes",name:i,vendor:n,keyframes:a}):u("@keyframes missing '}'")}}()||function(){var e=o(),t=h(/^@media *([^{]+)/);if(t){var n=ce(t[1]);if(!d())return u("@media missing '{'");var r=f().concat(c());return l()?e({type:"media",media:n,rules:r}):u("@media missing '}'")}}()||function(){var e=o(),t=h(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/);if(t)return e({type:"custom-media",name:ce(t[1]),media:ce(t[2])})}()||function(){var e=o(),t=h(/^@supports *([^{]+)/);if(t){var n=ce(t[1]);if(!d())return u("@supports missing '{'");var r=f().concat(c());return l()?e({type:"supports",supports:n,rules:r}):u("@supports missing '}'")}}()||b()||w()||x()||function(){var e=o(),t=h(/^@([-\w]+)?document *([^{]+)/);if(t){var n=ce(t[1]),r=ce(t[2]);if(!d())return u("@document missing '{'");var i=f().concat(c());return l()?e({type:"document",document:r,vendor:n,rules:i}):u("@document missing '}'")}}()||function(){var e=o();if(h(/^@page */)){var t=v()||[];if(!d())return u("@page missing '{'");for(var n,r=f();n=m();)r.push(n),r=r.concat(f());return l()?e({type:"page",selectors:t,declarations:r}):u("@page missing '}'")}}()||function(){var e=o();if(h(/^@host\s*/)){if(!d())return u("@host missing '{'");var t=f().concat(c());return l()?e({type:"host",rules:t}):u("@host missing '}'")}}()||function(){var e=o();if(h(/^@font-face\s*/)){if(!d())return u("@font-face missing '{'");for(var t,n=f();t=m();)n.push(t),n=n.concat(f());return l()?e({type:"font-face",declarations:n}):u("@font-face missing '}'")}}()}function E(){var e=o(),t=v();return t||(t=""),f(),e({type:"rule",selectors:t,declarations:y()})}return he({type:"stylesheet",stylesheet:{rules:c(),parsingErrors:s}})}function ce(e){return e?e.replace(/^\s+|\s+$/g,""):""}function he(e,t){var n=e&&"string"==typeof e.type,r=n?e:t;for(var i in e){var o=e[i];Array.isArray(o)?o.forEach((function(e){he(e,r)})):o&&"object"==typeof o&&he(o,r)}return n&&Object.defineProperty(e,"parent",{configurable:!0,writable:!0,enumerable:!1,value:t||null}),e}var pe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};var fe,ge={exports:{}},ve={exports:{}},me={exports:{}},ye={exports:{}};fe=/^\s+/,ye.exports=function(e,t){if(null==t)return e.trimLeft?e.trimLeft():e.replace(fe,"");for(var n,r,i=0,o=e.length,a=t.length,s=!0;s&&i<o;)for(s=!1,n=-1,r=e.charAt(i);++n<a;)if(r===t[n]){s=!0,i++;break}return i>=o?"":e.substr(i,o)};var _e={exports:{}};!function(e,t){t=function(e,t){if(null==t){if(e.trimRight)return e.trimRight();t=" \r\n\t\f\v"}for(var n,r,i=e.length-1,o=t.length,a=!0;a&&i>=0;)for(a=!1,n=-1,r=e.charAt(i);++n<o;)if(r===t[n]){a=!0,i--;break}return i>=0?e.substring(0,i+1):""},e.exports=t}(_e,_e.exports),function(e,t){var n=ye.exports,r=_e.exports;t=function(e,t){return null==t&&e.trim?e.trim():n(r(e,t),t)},e.exports=t}(me,me.exports);var be={exports:{}},we={exports:{}},xe={exports:{}},Te={exports:{}};!function(e,t){var n=Object.prototype.toString;t=function(e){return n.call(e)},e.exports=t}(Te,Te.exports),function(e,t){var n=Te.exports;t=function(e){return"[object Number]"===n(e)},e.exports=t}(xe,xe.exports);var Ae={exports:{}};!function(e,t){var n=Te.exports;t=function(e){var t=n(e);return"[object Function]"===t||"[object GeneratorFunction]"===t||"[object AsyncFunction]"===t},e.exports=t}(Ae,Ae.exports),function(e,t){var n=xe.exports,r=Ae.exports,i=Math.pow(2,53)-1;t=function(e){if(!e)return!1;var t=e.length;return n(t)&&t>=0&&t<=i&&!r(e)},e.exports=t}(we,we.exports);var Ee={exports:{}},Se={exports:{}};!function(e,t){var n=Object.prototype.hasOwnProperty;t=function(e,t){return n.call(e,t)},e.exports=t}(Se,Se.exports),function(e,t){var n=Se.exports;t=Object.keys?Object.keys:function(e){var t=[];for(var r in e)n(e,r)&&t.push(r);return t},e.exports=t}(Ee,Ee.exports);var Ne={exports:{}},Ie={exports:{}};!function(e,t){t=function(e){return void 0===e},e.exports=t}(Ie,Ie.exports),function(e,t){var n=Ie.exports;t=function(e,t,r){if(n(t))return e;switch(null==r?3:r){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}},e.exports=t}(Ne,Ne.exports),function(e,t){var n=we.exports,r=Ee.exports,i=Ne.exports;t=function(e,t,o){var a,s;if(t=i(t,o),n(e))for(a=0,s=e.length;a<s;a++)t(e[a],a,e);else{var u=r(e);for(a=0,s=u.length;a<s;a++)t(e[u[a]],u[a],e)}return e},e.exports=t}(be,be.exports);var Ce={exports:{}};!function(e,t){t=function(e){return e},e.exports=t}(Ce,Ce.exports);var Me={exports:{}},Oe={exports:{}},Pe={exports:{}};!function(e,t){t=function(e){var t=typeof e;return!!e&&("function"===t||"object"===t)},e.exports=t}(Pe,Pe.exports);var Re={exports:{}};!function(e,t){var n=Te.exports;t=Array.isArray?Array.isArray:function(e){return"[object Array]"===n(e)},e.exports=t}(Re,Re.exports);var De={exports:{}},ke={exports:{}},Be={exports:{}};!function(e,t){var n=Ie.exports,r=be.exports;t=function(e,t){return function(i){return r(arguments,(function(o,a){if(0!==a){var s=e(o);r(s,(function(e){t&&!n(i[e])||(i[e]=o[e])}))}})),i}},e.exports=t}(Be,Be.exports),function(e,t){t=(0,Be.exports)(Ee.exports),e.exports=t}(ke,ke.exports);var je={exports:{}};!function(e,t){var n=Ee.exports;t=function(e,t){var r=n(t),i=r.length;if(null==e)return!i;e=Object(e);for(var o=0;o<i;o++){var a=r[o];if(t[a]!==e[a]||!(a in e))return!1}return!0},e.exports=t}(je,je.exports),function(e,t){var n=ke.exports,r=je.exports;t=function(e){return e=n({},e),function(t){return r(t,e)}},e.exports=t}(De,De.exports);var Le={exports:{}},Fe={exports:{}},Ue={exports:{}};!function(e,t){var n=Se.exports,r=Re.exports;t=function(e,t){if(r(e))return e;if(t&&n(t,e))return[e];var a=[];return e.replace(i,(function(e,t,n,r){a.push(n?r.replace(o,"$1"):t||e)})),a};var i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g;e.exports=t}(Ue,Ue.exports),function(e,t){var n=Ie.exports,r=Ue.exports;t=function(e,t){var i;for(i=(t=r(t,e)).shift();!n(i);){if(null==(e=e[i]))return;i=t.shift()}return e},e.exports=t}(Fe,Fe.exports),function(e,t){var n=Re.exports,r=Fe.exports;t=function(e){return n(e)?function(t){return r(t,e)}:(t=e,function(e){return null==e?void 0:e[t]});var t},e.exports=t}(Le,Le.exports),function(e,t){var n=Ae.exports,r=Pe.exports,i=Re.exports,o=Ne.exports,a=De.exports,s=Ce.exports,u=Le.exports;t=function(e,t,d){return null==e?s:n(e)?o(e,t,d):r(e)&&!i(e)?a(e):u(e)},e.exports=t}(Oe,Oe.exports),function(e,t){var n=Oe.exports,r=Ee.exports,i=we.exports;t=function(e,t,o){t=n(t,o);for(var a=!i(e)&&r(e),s=(a||e).length,u=Array(s),d=0;d<s;d++){var l=a?a[d]:d;u[d]=t(e[l],l,e)}return u},e.exports=t}(Me,Me.exports),function(e,t){var n=me.exports,r=be.exports,i=Ce.exports,o=Me.exports,a="[\\x20\\t\\r\\n\\f]",s="(?:\\\\[\\da-fA-F]{1,6}".concat(a,"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+"),u="\\[".concat(a,"*(").concat(s,")(?:").concat(a,"*([*^$|!~]?=)").concat(a,"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(").concat(s,"))|)").concat(a,"*\\]"),d="::?(".concat(s,")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|").concat(u,")*)|.*)\\)|)"),l=new RegExp("^".concat(a,"*,").concat(a,"*")),c=new RegExp("^".concat(a,"*([>+~]|").concat(a,")").concat(a,"*")),h={id:{reg:new RegExp("^#(".concat(s,")")),value:function(e){return e.slice(1)},toStr:function(e){return"#".concat(e)}},class:{reg:new RegExp("^\\.(".concat(s,")")),value:function(e){return e.slice(1)},toStr:function(e){return".".concat(e)}},tag:{reg:new RegExp("^(".concat(s,"|[*])")),value:i},attribute:{reg:new RegExp("^".concat(u)),value:function(e){return e.slice(1,e.length-1)},toStr:function(e){return"[".concat(e,"]")}},pseudo:{reg:new RegExp("^".concat(d)),value:i}};r(h,(function(e){e.value||(e.value=i),e.toStr||(e.toStr=i)})),t={parse:function(e){e=n(e);for(var t,i,o,a=[];e&&(o&&!(i=l.exec(e))||(i&&(e=e.slice(i[0].length)),t=[],a.push(t)),o=!1,(i=c.exec(e))&&(o=i.shift(),e=e.slice(o.length),(o=n(o))||(o=" "),t.push({value:o,type:"combinator"})),r(h,(function(r,a){var s=r.reg,u=r.value;(i=s.exec(e))&&(o=i.shift(),e=e.slice(o.length),o=n(o),t.push({value:u(o),type:a}))})),o););return a},stringify:function(e){return o(e,(function(e){return(e=o(e,(function(e){var t=e.type,n=e.value;return"combinator"===t?" "===n?n:" ".concat(n," "):h[t].toStr(n)}))).join("")})).join(", ")}},e.exports=t}(ve,ve.exports);var Ge={exports:{}};!function(e,t){t=function(e,t){return 0===e.indexOf(t)},e.exports=t}(Ge,Ge.exports);var Ve={exports:{}},We={exports:{}};!function(e,t){t=function(e,t,n){return Array.prototype.indexOf.call(e,t,n)},e.exports=t}(We,We.exports);var ze={exports:{}};!function(e,t){var n=Te.exports;t=function(e){return"[object String]"===n(e)},e.exports=t}(ze,ze.exports);var He={exports:{}};!function(e,t){var n=be.exports;t=function(e){var t=[];return n(e,(function(e){t.push(e)})),t},e.exports=t}(He,He.exports),function(e,t){var n=We.exports,r=ze.exports,i=we.exports,o=He.exports;t=function(e,t){return r(e)?e.indexOf(t)>-1:(i(e)||(e=o(e)),n(e,t)>=0)},e.exports=t}(Ve,Ve.exports);var $e={exports:{}},qe={exports:{}},Ye={exports:{}};!function(e,t){var n=xe.exports,r=Pe.exports,i=Ae.exports,o=ze.exports;t=function(e){if(n(e))return e;if(r(e)){var t=i(e.valueOf)?e.valueOf():e;e=r(t)?t+"":t}return o(e)?+e:0===e?e:+e},e.exports=t}(Ye,Ye.exports),function(e,t){var n=Ye.exports;t=function(e){return e?(e=n(e))-e%1:0===e?e:0},e.exports=t}(qe,qe.exports);var Ke={exports:{}};!function(e,t){t=function(){for(var e=arguments,t=e[0],n=1,r=e.length;n<r;n++)e[n]>t&&(t=e[n]);return t},e.exports=t}(Ke,Ke.exports),function(e,t){var n=qe.exports,r=Ke.exports;t=function(e,t){e=e.split("."),t=t.split(".");for(var i=r(e.length,t.length),o=0;o<i;o++){var a=n(e[o]),s=n(t[o]);if(a>s)return 1;if(a<s)return-1}return 0},e.exports=t}($e,$e.exports),function(e,t){var n=ve.exports,r=be.exports,i=Ge.exports,o=Ve.exports,a=$e.exports;t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.important,u=void 0!==a&&a,d=t.inlineStyle,l=void 0!==d&&d,c=t.position,h=void 0===c?0:c,p=[0,0,0,0,0,h];u&&(p[0]=1),l&&(p[1]=1);var f=n.parse(e)[0];return r(f,(function(e){var t=e.type,n=e.value;switch(t){case"id":p[2]++;break;case"class":case"attribute":p[3]++;break;case"pseudo":o(s,n.replace(/:/g,""))?p[4]++:i(n,"::")||p[3]++;break;case"tag":"*"!==n&&p[4]++}})),p};var s=["first-letter","last-letter","first-line","last-line","first-child","last-child","before","after"];t.compare=function(e,t){return a(e.join("."),t.join("."))},e.exports=t}(ge,ge.exports);var Je=ge.exports;class Xe{constructor(e,t={}){var n;this.id="",this.rulesMap={},this.id=e;var r,{node:i,fileName:o,disabled:a=!1,isConstructed:s=!1,isInline:u=!1,isMutable:d=!0,ownerNode:l,DOMAdapter:c,bridge:h}=t;u?r=le(`element.style{${this.getNodeStyleAttr(i)}}`,{silent:!0}):r=le(null==i?void 0:i.innerText,{silent:!0});this.DOMAdapter=c,this.bridge=h,this.fileName=o||"",this.header={styleSheetId:e,disabled:a,ownerNode:l,isInline:u,isMutable:d,isConstructed:s,origin:"regular",frameId:"114514",sourceURL:o,startLine:0,endLine:0,startColumn:0,endColumn:0,length:1,title:null!==(n=null==o?void 0:o.split("/").pop())&&void 0!==n?n:"untitled"},this.initSheet(r),this.node=i}get ownerNode(){return this.node}getNodeStyleAttr(e){throw new Error("Method not implemented.")}initSheet(e){var t,n;this.sheet=e;var r=null!==(t=null==e?void 0:e.stylesheet.rules)&&void 0!==t?t:[];if(this.rulesMap={},this.header.endLine=(null!==(n=null==e?void 0:e.stylesheet.rules)&&void 0!==n?n:[]).length,e)for(var i=0;i<r.length;i++){var o=r[i];this.rulesMap[i]=o}}getRuleByStartLine(e){return this.rulesMap[e]}getInlineRule(){for(var e=this.sheet.stylesheet.rules[0],t={cssProperties:[],styleSheetId:this.id,range:e.position,shorthandEntries:[]},n=0,r=e.declarations.length;n<r;n++){var i=e.declarations[n];if("comment"!==i.type)t.cssProperties.push({disabled:!1,name:i.property,value:i.value,range:i.position});else{var o=i.comment.replace(/;$/,"").trim(),[a,s]=o.split(":");a=a.trim(),s=s.trim(),t.cssProperties.push({disabled:!0,text:`/*${o}*/`,range:i.position,name:a,value:s})}}return t}getMatchedRules(e){return d(this,void 0,void 0,(function*(){throw new Error("getMatchedRules not implemented.")}))}sortMatchedStyleRules(e){for(var t=[],n=e.length,r=[],i=0;i<n;i++){var o=e[i].rule;t[i]=Je(o.selectorList.text,{position:i})}t.sort(Je.compare);for(var a=0;a<n;a++){var s=t[a][5];r[a]=e[s]}return r}filterMatchedRules(e,t){return d(this,void 0,void 0,(function*(){throw new Error("filterMatchedRules not implemented.")}))}serializeRule(e){var t=[],n=e.declarations||[];for(var r in e.selectors){var i=e.selectors[r],o={style:{cssProperties:[],range:e.position,shorthandEntries:[]},selectorList:{text:i,selectors:[]},styleSheetId:this.id,media:[],origin:"regular"},a=e.parent.media;for(var s of(a&&(o.media=a),n))if("comment"!=s.type)o.style.cssProperties.push({disabled:!1,name:s.property,value:s.value,range:s.position});else{var u=s.comment.replace(/;$/,"").trim(),[d,l]=u.split(":");d=d&&d.trim()||"",l=l&&l.trim()||"",o.style.cssProperties.push({disabled:!0,text:`/*${u}*/`,range:s.position,name:d,value:l})}t.push({rule:o,matchingSelectors:[]})}return t}setInlineStyle(e,t){G.setStyle(e,t,!0)}updateStyleText(e){throw new Error("updateStyleText not implemented.")}applyStyleEdit(e){var t,n;try{if(this.header.isInline){var r=null===(t=this.ownerNode)||void 0===t?void 0:t.__wxElement;this.setInlineStyle(r,e.text),n=le(`element.style{${e.text}}`)}else{for(var{startLine:i,endLine:o,endColumn:a}=e.range,{startColumn:s}=e.range,u=this.node.innerText,d=u.split("\n"),l=[],c=i;c<=o;c++){var h=d[c];c<o?(l.push(h.substr(s,h.length-s)),s=0):l.push(h.substr(s,a-s))}var p=l.join("\n"),f=le(p),g=[],v=f.stylesheet.rules[0];g.push(v.selectors.join(", ")),g.push("{"),g.push(e.text),g.push("}");var m=u.replace(p,g.join(""));n=le(m),this.updateStyleText(m)}this.initSheet(n)}catch(e){console.warn("applyStyleEdit fail:",e)}return{}}}class Ze extends Xe{getNodeStyleAttr(e){var t;return(null===(t=null==e?void 0:e.getAttribute)||void 0===t?void 0:t.call(e,"style"))||""}getMatchedRules(e){return d(this,void 0,void 0,(function*(){var t=yield this.filterMatchedRules(this.rulesMap,e);return this.sortMatchedStyleRules(t)}))}filterMatchedRules(e,t){return d(this,void 0,void 0,(function*(){var n=[];for(var r in e){var i=e[r];"media"===i.type&&(n=n.concat(yield this.filterMatchedRules(i.rules,t)));var o=(t.matches||t.webkitMatchesSelector).bind(t);for(var a in i.selectors){var s=i.selectors[a],u=!1;try{u=o(s)}catch(e){continue}if(u){var d={style:{cssProperties:[],range:i.position},selectorList:{text:s},styleSheetId:this.id},l=i.parent.media;l&&(d.media=l);for(var c=0,h=i.declarations.length;c<h;c++){var p=i.declarations[c];if("comment"!=p.type)d.style.cssProperties.push({disabled:!1,name:p.property,value:p.value,range:p.position});else{var f=p.comment.replace(/;$/,"").trim(),[g,v]=f.split(":");g=g&&g.trim()||"",v=v&&v.trim()||"",d.style.cssProperties.push({disabled:!0,text:`/*${f}*/`,range:p.position,name:g,value:v})}}n.push({rule:d})}}}return n}))}updateStyleText(e){for(var t=document.createTextNode(e);this.node.childNodes.length>0;)this.node.removeChild(this.node.childNodes[0]);this.node.appendChild(t)}}class Qe{constructor(){this.assigner=new S,this.virtualSheetMap=new k,this.inlineStyleIdMap=new k,this._sheets=[],this._virtualDOM=null,this.styleSheetIdPrev="style_",this.inlineStyleIdPrev="node_",this.cssToJs=e=>e.replace(/\W+\w/g,(e=>e.slice(-1).toUpperCase()))}init(e,t){this.DOMAdapter=e,this.bridge=t}newInlineSheetId(){return`${this.inlineStyleIdPrev}${this.assigner.id}`}newStyleSheetId(e){return`${this.styleSheetIdPrev}${e}`}get virtualSheets(){return this._virtualDOM=this.DOMAdapter.tree.virtualDOM,this._sheets=this.findSheets(),this._sheets}getInlineRules(e){throw new Error("Method not implemented.")}getMatchedRules(e){return d(this,void 0,void 0,(function*(){var t=e.$$;if(!t||!t.matches&&!t.webkitMatchesSelector)return[];var n=[];for(var r of this.virtualSheets)n=n.concat(yield r.getMatchedRules(t));return n}))}getInheritedRules(e,t){return[]}applyStyleEdit(e){var{styleSheetId:t}=e,n=this.virtualSheetMap.get(t);if(!n)throw new Error("invalid styleSheetId");var r=n.applyStyleEdit(e);if(n.header.isInline){var i=this.inlineStyleIdMap.getRev(t);if(i){var o=this.DOMAdapter.tree.requestIdForNode(i.__wxElement);this.bridge.emit({method:"DOM.attributeModified",params:{nodeId:o,name:"style",value:e.text}})}}return r}}class et extends Qe{findSheets(){var e=document.querySelectorAll("style"),t=[];this.virtualSheetMap.clear();for(var n=0;n<e.length;n++)try{var r=this.newStyleSheetId(n),i=new Ze(r,{node:e[n],fileName:e[n].getAttribute("wxss:path")||""});this.virtualSheetMap.set(r,i),t.push(i)}catch(e){}return t}getInlineRules(e){var t=e.$$,n=this.newInlineSheetId();this.inlineStyleIdMap.has(t)||this.inlineStyleIdMap.set(t,n);var r=this.inlineStyleIdMap.get(t),i=new Ze(r,{isInline:!0,node:t});return this.virtualSheetMap.set(r,i),i.getInlineRule()}}class tt{constructor(){this.iframe=document.createElement("iframe"),this.iframe.style.display="none"}get window(){return this.inited||this.init(),this.iframe.contentWindow}get document(){return this.window.document}init(){document.body.append(this.iframe),this.inited=!0}getDefaultComputedStyles(e){var t=this.document.createElement(e.tagName);this.document.body.appendChild(t);var n=this.window.getComputedStyle(t),r={};for(var i in n)r[i]=n[i];return t.remove(),r}getModifiedComputedStyles(e,t=globalThis.window){var n=this.getDefaultComputedStyles(e),r=t.getComputedStyle(e),i={};for(var o in r)!isNaN(+o)||/[_-]/.test(o)||["cssText","blockSize"].includes(o)||r[o]!==n[o]&&(i[o]=r[o]);return i}}var nt=class extends ue{constructor(){super(...arguments),this.iframe=new tt,this.cssModel=new et}getInheritedCSSRulesByNode(e){var t=null==e?void 0:e.$$;if(!t)return[];if(t.matches=t.matches||t.webkitMatchesSelector,!t.matches)return[];var n=this.iframe.getModifiedComputedStyles(t);return this.cssModel.getInheritedRules(t,n)}};nt=a([(0,o.b2)()],nt);class rt extends Xe{getNodeStyleAttr(e){return((null==e?void 0:e.__wxElement.__styleSegments)||[]).join("")}getPageWxssScopeId(){var e,t;return d(this,void 0,void 0,(function*(){var n=yield null===(e=this.DOMAdapter)||void 0===e?void 0:e.tree.getPageContextId(),r=0;if(this.fileName){var i=this.fileName.replace("./","").replace(".\\","").replace(".wxss","");r=null===(t=this.DOMAdapter)||void 0===t?void 0:t.tree.getStyleSCopeId(n,i)}return r||0}))}getMatchedRules(e){return d(this,void 0,void 0,(function*(){var t=yield this.filterMatchedRules(this.rulesMap,e);return this.sortMatchedStyleRules(t)}))}filterMatchedRules(e,t){return d(this,void 0,void 0,(function*(){var n=[],r=yield this.getPageWxssScopeId();for(var i in e){var o=e[i];for(var a in"media"===o.type&&(n=n.concat(yield this.filterMatchedRules(o.rules,t))),o.selectors){var s=o.selectors[a],u=!1;try{u=t.matches(r,s)}catch(e){continue}if(u){var d={style:{cssProperties:[],range:o.position},selectorList:{text:s},styleSheetId:this.id},l=o.parent.media;l&&(d.media=l);for(var c=0,h=o.declarations.length;c<h;c++){var p=o.declarations[c];if("comment"!=p.type)d.style.cssProperties.push({disabled:!1,name:p.property,value:p.value,range:p.position});else{var f=p.comment.replace(/;$/,"").trim(),[g,v]=f.split(":");g=g&&g.trim()||"",v=v&&v.trim()||"",d.style.cssProperties.push({disabled:!0,text:`/*${f}*/`,range:p.position,name:g,value:v})}}n.push({rule:d})}}}return n}))}recoverClass(e){var t=e.split("\n"),n=/(.*)\{.*?wxcs_originclass:(.*?);.*\}/;return(t=t.map((e=>{var t=e.match(n);return t&&t.length>=3?e.replace(t[1],t[2]):e}))).join("\n")}updateStyleText(e){var t,n,r;return d(this,void 0,void 0,(function*(){for(var i=document.createTextNode(e);this.node.childNodes.length>0;)this.node.removeChild(this.node.childNodes[0]);this.node.appendChild(i),null===(t=this.bridge)||void 0===t||t.emit({method:"WxHost.setWxssFile",params:{fileName:this.fileName,content:this.recoverClass(e)}});var o=yield null===(n=this.DOMAdapter)||void 0===n?void 0:n.tree.getPageContextId();null===(r=this.DOMAdapter)||void 0===r||r.tree.webviewEngine.invalidateAllPreCompiled(o)}))}}class it extends Qe{findSheets(){var e=document.querySelectorAll("style"),t=[];this.virtualSheetMap.clear();for(var n=0;n<e.length;n++){var r,i=this.newStyleSheetId(n);r=new rt(i,{node:e[n],fileName:e[n].getAttribute("wxss:path")||"",DOMAdapter:this.DOMAdapter,bridge:this.bridge}),this.virtualSheetMap.set(i,r),t.push(r)}return t}getInlineRules(e){var t=e.$$,n=this.newInlineSheetId();this.inlineStyleIdMap.has(t)||this.inlineStyleIdMap.set(t,n);var r=this.inlineStyleIdMap.get(t),i=new rt(r,{isInline:!0,node:t});return this.virtualSheetMap.set(r,i),i.getInlineRule()}}var ot=class extends ue{constructor(){super(...arguments),this.cssModel=new it}getInheritedCSSRulesByNode(e){var t=null==e?void 0:e.$$;return t&&t.matches?this.cssModel.getInheritedRules(t,{}):[]}};ot=a([(0,o.b2)()],ot);class at extends oe{constructor(){super(...arguments),this.getNodeName=(e,t="")=>{var n,r=((null===(n=null==e?void 0:e.$$)||void 0===n?void 0:n.tagName)||t).toLowerCase();return r.startsWith("wx-")?r.slice(3):r},this.getAttributes=e=>{var t,n,r;this.spreadScopeData();var i=[],o=e.$$;return o&&o.attributes&&Object.values(o.attributes).forEach((e=>{var t;this.skippedDOMAttrs.has(e.name)||null==i||i.push(e.name,null!==(t=e.textContent)&&void 0!==t?t:"")})),e.__id&&i.push("id",e.__id),(null===(n=null===(t=e.classList)||void 0===t?void 0:t._rawNames)||void 0===n?void 0:n.length)&&i.push("class",((null===(r=e.classList)||void 0===r?void 0:r._rawNames)||[]).join(" ")||""),e.__component__&&i.push("is",e.is),i},this.removeAttributes=(e,t)=>{"class"===t?e.classList.setClassNames(""):"id"===t?(delete e.id,delete e.__id):e.removeAttribute(t)},this.setAttributeValue=(e,t,n)=>{"class"===t?e.classList.setClassNames(n):"id"===t?e.id=n:e.setAttribute(t,n)}}getRoot(){return d(this,void 0,void 0,(function*(){return this._root?this._root():window.__DOMTree__}))}getAttributeValue(e,t){for(var n=this.getAttributes(e),r={},i=0;i<n.length;i+=2)r[n[i]]=n[i+1];return r[t]}}var st={exports:{}},ut={},dt={exports:{}},lt={exports:{}},ct={exports:{}},ht={exports:{}},pt={exports:{}};!function(e,t){var n=Pe.exports,r=Ae.exports,i=Object.getPrototypeOf,o={}.constructor;t=function(e){if(n(e)){if(i)return i(e);var t=e.__proto__;return t||null===t?t:r(e.constructor)?e.constructor.prototype:e instanceof o?o.prototype:void 0}},e.exports=t}(pt,pt.exports);var ft={exports:{}},gt={exports:{}};!function(e,t){var n=Oe.exports,r=be.exports;t=function(e,t,i){var o=[];return t=n(t,i),r(e,(function(e,n,r){t(e,n,r)&&o.push(e)})),o},e.exports=t}(gt,gt.exports),function(e,t){var n=gt.exports;function r(e,t){return e===t}t=function(e,t){return t=t||r,n(e,(function(e,n,r){for(var i=r.length;++n<i;)if(t(e,r[n]))return!1;return!0}))},e.exports=t}(ft,ft.exports),function(e,t){var n=Ee.exports,r=pt.exports,i=ft.exports,o=Object.getOwnPropertyNames,a=Object.getOwnPropertySymbols;t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=t.prototype,u=void 0===s||s,d=t.unenumerable,l=void 0!==d&&d,c=t.symbol,h=void 0!==c&&c,p=[];if((l||h)&&o){var f=n;l&&o&&(f=o);do{p=p.concat(f(e)),h&&a&&(p=p.concat(a(e)))}while(u&&(e=r(e))&&e!==Object.prototype);p=i(p)}else if(u)for(var g in e)p.push(g);else p=n(e);return p},e.exports=t}(ht,ht.exports),function(e,t){t=(0,Be.exports)(ht.exports),e.exports=t}(ct,ct.exports);var vt={exports:{}};!function(e,t){var n=we.exports,r=Me.exports,i=Re.exports,o=ze.exports;t=function(e){return e?i(e)?e:n(e)&&!o(e)?r(e):[e]:[]},e.exports=t}(vt,vt.exports);var mt={exports:{}},yt={exports:{}};!function(e,t){var n=Pe.exports;t=function(e){if(!n(e))return{};if(r)return r(e);function t(){}return t.prototype=e,new t};var r=Object.create;e.exports=t}(yt,yt.exports),function(e,t){var n=yt.exports;t=function(e,t){e.prototype=n(t.prototype)},e.exports=t}(mt,mt.exports);var _t={exports:{}};!function(e,t){t="undefined"!=typeof wx&&(0,Ae.exports)(wx.openLocation),e.exports=t}(_t,_t.exports),function(e,t){var n=ct.exports,r=vt.exports,i=mt.exports,o=Fe.exports,a=_t.exports;var s=(t=function(e,t){return s.extend(e,t)}).Base=function e(t,s,u){u=u||{};var d=s.className||o(s,"initialize.name")||"";delete s.className;var l=function(){var e=r(arguments);return this.initialize&&this.initialize.apply(this,e)||this};if(!a)try{l=new Function("toArr","return function "+d+"(){var args = toArr(arguments);return this.initialize ? this.initialize.apply(this, args) || this : this;};")(r)}catch(e){}return i(l,t),l.prototype.constructor=l,l.extend=function(t,n){return e(l,t,n)},l.inherits=function(e){i(l,e)},l.methods=function(e){return n(l.prototype,e),l},l.statics=function(e){return n(l,e),l},l.methods(s).statics(u),l}(Object,{className:"Base",callSuper:function(e,t,n){return e.prototype[t].apply(this,n)},toString:function(){return this.constructor.name}});e.exports=t}(lt,lt.exports);var bt={exports:{}};!function(e,t){t=function(e,t,n){var r=e.length;t=null==t?0:t<0?Math.max(r+t,0):Math.min(t,r),n=null==n?r:n<0?Math.max(r+n,0):Math.min(n,r);for(var i=[];t<n;)i.push(e[t++]);return i},e.exports=t}(bt,bt.exports);var wt={exports:{}},xt={exports:{}},Tt={exports:{}};!function(e,t){t=function(e,t){return t=null==t?e.length-1:+t,function(){var n,r=Math.max(arguments.length-t,0),i=new Array(r);for(n=0;n<r;n++)i[n]=arguments[n+t];switch(t){case 0:return e.call(this,i);case 1:return e.call(this,arguments[0],i);case 2:return e.call(this,arguments[0],arguments[1],i)}var o=new Array(t+1);for(n=0;n<t;n++)o[n]=arguments[n];return o[t]=i,e.apply(this,o)}},e.exports=t}(Tt,Tt.exports),function(e,t){var n=vt.exports;t=(0,Tt.exports)((function(e,t){return function(){var r=[];return r=(r=r.concat(t)).concat(n(arguments)),e.apply(this,r)}})),e.exports=t}(xt,xt.exports);var At={exports:{}};!function(e,t){t=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},e.exports=t}(At,At.exports),function(e,t){t=(0,xt.exports)(At.exports,2),e.exports=t}(wt,wt.exports);var Et={exports:{}};!function(e,t){var n=Pe.exports,r=Re.exports,i=ct.exports;t=function(e){return n(e)?r(e)?e.slice():i({},e):e},e.exports=t}(Et,Et.exports),function(e,t){var n=Se.exports,r=be.exports,i=bt.exports,o=wt.exports,a=Et.exports;t=(0,lt.exports)({initialize:function(){this._events=this._events||{}},on:function(e,t){return this._events[e]=this._events[e]||[],this._events[e].push(t),this},off:function(e,t){var r=this._events;if(n(r,e)){var i=r[e].indexOf(t);return i>-1&&r[e].splice(i,1),this}},once:function(e,t){return this.on(e,o(t)),this},emit:function(e){var t=this;if(n(this._events,e)){var o=i(arguments,1),s=a(this._events[e]);return r(s,(function(e){return e.apply(t,o)}),this),this}},removeAllListeners:function(e){return e?delete this._events[e]:this._events={},this}},{mixin:function(e){r(["on","off","once","emit","removeAllListeners"],(function(n){e[n]=t.prototype[n]})),e._events=e._events||{}}}),e.exports=t}(dt,dt.exports);var St={exports:{}},Nt={exports:{}},It={exports:{}};!function(e,t){t=(0,Tt.exports)((function(e,t){for(var n=e.length,r=0,i=t.length;r<i;r++)for(var o=t[r],a=0,s=o.length;a<s;a++)e[n++]=o[a];return e.length=n,e})),e.exports=t}(It,It.exports),function(e,t){var n=ze.exports,r=be.exports,i=It.exports,o=new(t=(0,lt.exports)({className:"Select",initialize:function(e){return this.length=0,e?n(e)?o.find(e):void(e.nodeType&&(this[0]=e,this.length=1)):this},find:function(e){var n=new t;return this.each((function(){i(n,this.querySelectorAll(e))})),n},each:function(e){return r(this,(function(t,n){e.call(t,n,t)})),this}}))(document);e.exports=t}(Nt,Nt.exports);var Ct={exports:{}},Mt={exports:{}};!function(e,t){var n=ze.exports,r=vt.exports,i=Nt.exports;t=function(e){return r(n(e)?new i(e):e)},e.exports=t}(Mt,Mt.exports),function(e,t){var n=Mt.exports;t=function(e){var t=(e=n(e))[0].getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:Math.round(t.width),height:Math.round(t.height)}},e.exports=t}(Ct,Ct.exports);var Ot={exports:{}};!function(e,t){var n=be.exports,r=Mt.exports;t=function(e){e=r(e),n(e,(function(e){(function(e){return"none"==getComputedStyle(e,"").getPropertyValue("display")})(e)&&(e.style.display=function(e){var t,n;i[e]||(t=document.createElement(e),document.documentElement.appendChild(t),n=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==n&&(n="block"),i[e]=n);return i[e]}(e.nodeName))}))};var i={};e.exports=t}(Ot,Ot.exports);var Pt={exports:{}},Rt={exports:{}},Dt={exports:{}};!function(e,t){var n=/([A-Z])/g,r=/[_.\- ]+/g,i=/(^-)|(-$)/g;t=function(e){return(e=e.replace(n,"-$1").toLowerCase().replace(r,"-").replace(i,"")).split("-")},e.exports=t}(Dt,Dt.exports),function(e,t){var n=Dt.exports;t=function(e){return n(e).join("-")},e.exports=t}(Rt,Rt.exports);var kt={exports:{}},Bt={exports:{}};!function(e,t){var n=Se.exports;t=function(e,t){var r=function(i){var o=r.cache,a=""+(t?t.apply(this,arguments):i);return n(o,a)||(o[a]=e.apply(this,arguments)),o[a]};return r.cache={},r},e.exports=t}(Bt,Bt.exports);var jt={exports:{}};!function(e,t){var n=Dt.exports;function r(e,t){this[t]=e.replace(/\w/,(function(e){return e.toUpperCase()}))}t=function(e){var t=n(e),i=t[0];return t.shift(),t.forEach(r,t),i+=t.join("")},e.exports=t}(jt,jt.exports);var Lt={exports:{}};!function(e,t){t=function(e){return e.length<1?e:e[0].toUpperCase()+e.slice(1)},e.exports=t}(Lt,Lt.exports),function(e,t){var n=Bt.exports,r=jt.exports,i=Lt.exports,o=Se.exports,a=Rt.exports;(t=n((function(e){if(e=e.replace(u,""),e=r(e),o(d,e))return e;for(var t=s.length;t--;){var n=s[t]+i(e);if(o(d,n))return n}return e}))).dash=n((function(e){var n=t(e);return(u.test(n)?"-":"")+a(n)}));var s=["O","ms","Moz","Webkit"],u=/^(O)|(ms)|(Moz)|(Webkit)|(-o-)|(-ms-)|(-moz-)|(-webkit-)/g,d=document.createElement("p").style;e.exports=t}(kt,kt.exports),function(e,t){var n=ze.exports,r=Pe.exports,i=Rt.exports,o=Ie.exports,a=Ve.exports,s=xe.exports,u=Mt.exports,d=kt.exports,l=be.exports;t=function(e,t,h){if(e=u(e),o(h)&&n(t))return function(e,t){return e.style[d(t)]||getComputedStyle(e,"").getPropertyValue(t)}(e[0],t);var p=t;r(p)||((p={})[t]=h),function(e,t){l(e,(function(e){var n=";";l(t,(function(e,t){t=d.dash(t),n+=t+":"+function(e,t){return s(t)&&!a(c,i(e))?t+"px":t}(t,e)+";"})),e.style.cssText+=n}))}(e,p)};var c=["column-count","columns","font-weight","line-weight","opacity","z-index","zoom"];e.exports=t}(Pt,Pt.exports);var Ft={exports:{}};!function(e,t){var n=vt.exports,r=Pe.exports,i=ze.exports,o=be.exports,a=Ie.exports,s=Mt.exports;(t=function(e,t,n){if(e=s(e),a(n)&&i(t))return function(e,t){return e.getAttribute(t)}(e[0],t);var u=t;r(u)||((u={})[t]=n),function(e,t){o(e,(function(e){o(t,(function(t,n){e.setAttribute(n,t)}))}))}(e,u)}).remove=function(e,t){e=s(e),t=n(t),o(e,(function(e){o(t,(function(t){e.removeAttribute(t)}))}))},e.exports=t}(Ft,Ft.exports);var Ut={exports:{}};!function(e,t){var n=Ie.exports,r=be.exports,i=Mt.exports;function o(e){return function(t,o){var a=(t=i(t))[0];if(n(o))return a?a[e]:"";a&&r(t,(function(t){t[e]=o}))}}t={html:o("innerHTML"),text:o("textContent"),val:o("value")},e.exports=t}(Ut,Ut.exports);var Gt={exports:{}};!function(e,t){t=function(e){var t=e?e.length:0;if(t)return e[t-1]},e.exports=t}(Gt,Gt.exports);var Vt={exports:{}};!function(e,t){var n=be.exports,r=Mt.exports;t=function(e){e=r(e),n(e,(function(e){var t=e.parentNode;t&&t.removeChild(e)}))},e.exports=t}(Vt,Vt.exports);var Wt=Vt.exports,zt={exports:{}};!function(e,t){var n=Ft.exports,r=ze.exports,i=Pe.exports,o=be.exports;t=function(e,t,a){var s=t;return r(t)&&(s="data-"+t),i(t)&&(s={},o(t,(function(e,t){s["data-"+t]=e}))),n(e,s,a)},e.exports=t}(zt,zt.exports);var Ht={exports:{}},$t={exports:{}};!function(e,t){var n=Ve.exports;function r(){return!0}function i(){return!1}function o(e){var n,r=this.events[e.type],i=a.call(this,e,r);e=new t.Event(e);for(var o,s,u=0;(s=i[u++])&&!e.isPropagationStopped();)for(e.curTarget=s.el,o=0;(n=s.handlers[o++])&&!e.isImmediatePropagationStopped();)!1===n.handler.apply(s.el,[e])&&(e.preventDefault(),e.stopPropagation())}function a(e,t){var r,i,o,a,s=e.target,u=[],d=t.delegateCount;if(s.nodeType)for(;s!==this;s=s.parentNode||this){for(i=[],a=0;a<d;a++)void 0===i[r=(o=t[a]).selector+" "]&&(i[r]=n(this.querySelectorAll(r),s)),i[r]&&i.push(o);i.length&&u.push({el:s,handlers:i})}return d<t.length&&u.push({el:this,handlers:t.slice(d)}),u}t={add:function(e,t,n,r){var i,a={selector:n,handler:r};e.events||(e.events={}),(i=e.events[t])||((i=e.events[t]=[]).delegateCount=0,e.addEventListener(t,(function(){o.apply(e,arguments)}),!1)),n?i.splice(i.delegateCount++,0,a):i.push(a)},remove:function(e,t,n,r){var i=e.events;if(i&&i[t])for(var o,a=i[t],s=a.length;s--;)o=a[s],n&&o.selector!=n||o.handler!=r||(a.splice(s,1),o.selector&&a.delegateCount--)},Event:(0,lt.exports)({className:"Event",initialize:function(e){this.origEvent=e},isDefaultPrevented:i,isPropagationStopped:i,isImmediatePropagationStopped:i,preventDefault:function(){var e=this.origEvent;this.isDefaultPrevented=r,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.origEvent;this.isPropagationStopped=r,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.origEvent;this.isImmediatePropagationStopped=r,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}})},e.exports=t}($t,$t.exports),function(e,t){var n=$t.exports,r=Ie.exports,i=Mt.exports,o=be.exports;function a(e){return function(t,a,s,u){t=i(t),r(u)&&(u=s,s=void 0),o(t,(function(t){n[e](t,a,s,u)}))}}t={on:a("add"),off:a("remove")},e.exports=t}(Ht,Ht.exports);var qt={exports:{}},Yt={exports:{}};!function(e,t){var n=Oe.exports,r=we.exports,i=Ee.exports;t=function(e,t,o){t=n(t,o);for(var a=!r(e)&&i(e),s=(a||e).length,u=0;u<s;u++){var d=a?a[u]:u;if(t(e[d],d,e))return!0}return!1},e.exports=t}(Yt,Yt.exports),function(e,t){var n=vt.exports,r=Yt.exports,i=Mt.exports,o=ze.exports,a=be.exports;function s(e){return o(e)?e.split(/\s+/):n(e)}t={add:function(e,n){e=i(e);var r=s(n);a(e,(function(e){var n=[];a(r,(function(r){t.has(e,r)||n.push(r)})),0!==n.length&&(e.className+=(e.className?" ":"")+n.join(" "))}))},has:function(e,t){e=i(e);var n=new RegExp("(^|\\s)"+t+"(\\s|$)");return r(e,(function(e){return n.test(e.className)}))},toggle:function(e,n){e=i(e),a(e,(function(e){if(!t.has(e,n))return t.add(e,n);t.remove(e,n)}))},remove:function(e,t){e=i(e);var n=s(t);a(e,(function(e){a(n,(function(t){e.classList.remove(t)}))}))}},e.exports=t}(qt,qt.exports);var Kt={exports:{}};!function(e,t){var n=be.exports,r=Mt.exports,i=ze.exports;function o(e){return function(t,o){t=r(t),n(t,(function(t){if(i(o))t.insertAdjacentHTML(e,o);else{var n=t.parentNode;switch(e){case"beforebegin":n&&n.insertBefore(o,t);break;case"afterend":n&&n.insertBefore(o,t.nextSibling);break;case"beforeend":t.appendChild(o);break;case"afterbegin":t.prepend(o)}}}))}}t={before:o("beforebegin"),after:o("afterend"),append:o("beforeend"),prepend:o("afterbegin")},e.exports=t}(Kt,Kt.exports),function(e,t){var n=Nt.exports,r=Ct.exports,i=Ot.exports,o=Pt.exports,a=Ft.exports,s=Ut.exports,u=Gt.exports,d=Vt.exports,l=zt.exports,c=Ht.exports,h=qt.exports,p=Kt.exports,f=Ie.exports,g=ze.exports;t=function(e){return new n(e)},n.methods({offset:function(){return r(this)},hide:function(){return this.css("display","none")},show:function(){return i(this),this},first:function(){return t(this[0])},last:function(){return t(u(this))},get:function(e){return this[e]},eq:function(e){return t(this[e])},on:function(e,t,n){return c.on(this,e,t,n),this},off:function(e,t,n){return c.off(this,e,t,n),this},html:function(e){var t=s.html(this,e);return f(e)?t:this},text:function(e){var t=s.text(this,e);return f(e)?t:this},val:function(e){var t=s.val(this,e);return f(e)?t:this},css:function(e,t){var n=o(this,e,t);return v(e,t)?n:this},attr:function(e,t){var n=a(this,e,t);return v(e,t)?n:this},data:function(e,t){var n=l(this,e,t);return v(e,t)?n:this},rmAttr:function(e){return a.remove(this,e),this},remove:function(){return d(this),this},addClass:function(e){return h.add(this,e),this},rmClass:function(e){return h.remove(this,e),this},toggleClass:function(e){return h.toggle(this,e),this},hasClass:function(e){return h.has(this,e)},parent:function(){return t(this[0].parentNode)},append:function(e){return p.append(this,e),this},prepend:function(e){return p.prepend(this,e),this},before:function(e){return p.before(this,e),this},after:function(e){return p.after(this,e),this}});var v=function(e,t){return f(t)&&g(e)};e.exports=t}(St,St.exports);var Jt={},Xt={exports:{}},Zt={exports:{}};!function(e,t){t="object"==typeof window&&"object"==typeof document&&9===document.nodeType,e.exports=t}(Zt,Zt.exports),function(e,t){t=Zt.exports?window:pe,e.exports=t}(Xt,Xt.exports);var Qt={exports:{}},en={exports:{}},tn={exports:{}};!function(e,t){var n=be.exports,r=Ie.exports,i=Ae.exports;t=function(e,t){r(t)&&(t=!0);var o=i(t),a={};return n(e,(function(e){a[e]=o?t(e):t})),a},e.exports=t}(tn,tn.exports);var nn={exports:{}},rn={exports:{}};!function(e,t){t=function(e){return null==e?"":e.toString()},e.exports=t}(rn,rn.exports),function(e,t){var n=rn.exports;t=function(e){return n(e).toLocaleLowerCase()},e.exports=t}(nn,nn.exports),function(e,t){var n=Gt.exports,r=Ge.exports,i=nn.exports;t=function(e,t){for(var l,c=[],h=e;e;){if(l=!0,n(c)&&d[n(c)]){var p=new RegExp("</".concat(n(c),"[^>]*>")).exec(e);if(p){var f=e.substring(0,p.index);e=e.substring(p.index+p[0].length),f&&t.text&&t.text(f)}x("",n(c))}else{if(r(e,"\x3c!--")){var g=e.indexOf("--\x3e");g>=0&&(t.comment&&t.comment(e.substring(4,g)),e=e.substring(g+3),l=!1)}else if(r(e,"<!")){var v=e.match(o);v&&(t.text&&t.text(e.substring(0,v[0].length)),e=e.substring(v[0].length),l=!1)}else if(r(e,"</")){var m=e.match(a);m&&(e=e.substring(m[0].length),m[0].replace(a,x),l=!1)}else if(r(e,"<")){var y=e.match(s);y&&(e=e.substring(y[0].length),y[0].replace(s,w),l=!1)}if(l){var _=e.indexOf("<"),b=_<0?e:e.substring(0,_);e=_<0?"":e.substring(_),t.text&&t.text(b)}}if(h===e)throw Error("Parse Error: "+e);h=e}function w(e,n,r,o){if(n=i(n),(o=!!o)||c.push(n),t.start){var a={};r.replace(u,(function(e,t,n,r,i){a[t]=n||r||i||""})),t.start(n,a,o)}}function x(e,n){var r;if(n=i(n))for(r=c.length-1;r>=0&&c[r]!==n;r--);else r=0;if(r>=0){for(var o=c.length-1;o>=r;o--)t.end&&t.end(c[o]);c.length=r}}x()};var o=/^<!\s*doctype((?:\s+[\w:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/i,a=/^<\/([-A-Za-z0-9_]+)[^>]*>/,s=/^<([-A-Za-z0-9_]+)((?:\s+[-A-Za-z0-9_:@.]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/i,u=/([-A-Za-z0-9_:@.]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,d=(0,tn.exports)("script,style".split(","));e.exports=t}(en,en.exports);var on={exports:{}},an={exports:{}};!function(e,t){t=function(e){var t=e.length,n=Array(t);t--;for(var r=0;r<=t;r++)n[t-r]=e[r];return n},e.exports=t}(an,an.exports),function(e,t){var n=an.exports;t=(0,lt.exports)({initialize:function(){this.clear()},clear:function(){this._items=[],this.size=0},push:function(e){return this._items.push(e),++this.size},pop:function(){if(this.size)return this.size--,this._items.pop()},peek:function(){return this._items[this.size-1]},forEach:function(e,t){t=arguments.length>1?t:this;for(var n=this._items,r=this.size-1,i=0;r>=0;r--,i++)e.call(t,n[r],i,this)},toArr:function(){return n(this._items)}}),e.exports=t}(on,on.exports);var sn={exports:{}};!function(e,t){var n=Oe.exports,r=Ee.exports;t=function(e,t,i){t=n(t,i);for(var o=r(e),a=o.length,s={},u=0;u<a;u++){var d=o[u];s[d]=t(e[d],d,e)}return s},e.exports=t}(sn,sn.exports),function(e,t){var n=en.exports,r=on.exports,i=Re.exports,o=be.exports,a=ze.exports,s=sn.exports;var u=function(e){return e.replace(/&quot;/g,'"')},d=function(e){return e.replace(/"/g,"&quot;")};t={parse:function(e){var t=[],o=new r;return n(e,{start:function(e,t){t=s(t,(function(e){return u(e)})),o.push({tag:e,attrs:t})},end:function(){var e=o.pop();if(o.size){var n=o.peek();i(n.content)||(n.content=[]),n.content.push(e)}else t.push(e)},comment:function(e){var n="\x3c!--".concat(e,"--\x3e"),r=o.peek();r?(r.content||(r.content=[]),r.content.push(n)):t.push(n)},text:function(e){var n=o.peek();n?(n.content||(n.content=[]),n.content.push(e)):t.push(e)}}),t},stringify:function e(t){var n="";return i(t)?o(t,(function(t){return n+=e(t)})):a(t)?n=t:(n+="<".concat(t.tag),o(t.attrs,(function(e,t){return n+=" ".concat(t,'="').concat(d(e),'"')})),n+=">",t.content&&(n+=e(t.content)),n+="</".concat(t.tag,">")),n}},e.exports=t}(Qt,Qt.exports);var un=pe&&pe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jt,"__esModule",{value:!0}),Jt.pxToNum=Jt.executeAfterTransition=Jt.hasVerticalScrollbar=Jt.measuredScrollbarWidth=Jt.eventClient=Jt.drag=Jt.classPrefix=void 0;var dn=un(Me.exports),ln=un(me.exports),cn=un(Xt.exports),hn=un(Qt.exports),pn=un(xe.exports),fn=un(Ve.exports),gn=un(Ye.exports);function vn(e,t){for(var n=0,r=e.length;n<r;n++){var i=e[n];t(i),i.content&&vn(i.content,t)}}Jt.classPrefix=function(e){var t=`luna-${e}-`;function n(e){return dn.default(ln.default(e).split(/\s+/),(e=>fn.default(e,t)?e:e.replace(/[\w-]+/,(e=>`${t}${e}`)))).join(" ")}return function(e){if(/<[^>]*>/g.test(e))try{var t=hn.default.parse(e);return vn(t,(e=>{e.attrs&&e.attrs.class&&(e.attrs.class=n(e.attrs.class))})),hn.default.stringify(t)}catch(t){return n(e)}return n(e)}};var mn,yn="ontouchstart"in cn.default,_n={start:"touchstart",move:"touchmove",end:"touchend"},bn={start:"mousedown",move:"mousemove",end:"mouseup"};Jt.drag=function(e){return yn?_n[e]:bn[e]},Jt.eventClient=function(e,t){var n="x"===e?"clientX":"clientY";return t[n]?t[n]:t.changedTouches?t.changedTouches[0][n]:0},Jt.measuredScrollbarWidth=function(){if(pn.default(mn))return mn;if(!document)return 16;var e=document.createElement("div"),t=document.createElement("div");return e.setAttribute("style","display: block; width: 100px; height: 100px; overflow: scroll;"),t.setAttribute("style","height: 200px"),e.appendChild(t),document.body.appendChild(e),mn=e.offsetWidth-e.clientWidth,document.body.removeChild(e),mn},Jt.hasVerticalScrollbar=function(e){return e.scrollHeight>e.offsetHeight},Jt.executeAfterTransition=function(e,t){var n=r=>{r.target===e&&(e.removeEventListener("transitionend",n),t())};e.addEventListener("transitionend",n)},Jt.pxToNum=function(e){return gn.default(e.replace("px",""))};var wn=pe&&pe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ut,"__esModule",{value:!0});var xn=wn(dt.exports),Tn=wn(St.exports),An=Jt,En=wn(be.exports);class Sn extends xn.default{constructor(e,{compName:t}){super(),this.compName=t,this.c=An.classPrefix(t),this.options={},this.container=e,this.$container=Tn.default(e),this.$container.addClass(`luna-${t}`)}destroy(){this.$container.rmClass(`luna-${this.compName}`),this.$container.html(""),this.emit("destroy"),this.removeAllListeners()}setOption(e,t){var n=this.options,r={};"string"==typeof e?r[e]=t:r=e,En.default(r,((e,t)=>{var r=n[t];n[t]=e,this.emit("optionChange",t,e,r)}))}find(e){return this.$container.find(this.c(e))}}ut.default=Sn;var Nn={},In={};function Cn(e,t){var n=e[3];return[(1-n)*t[0]+n*e[0],(1-n)*t[1]+n*e[1],(1-n)*t[2]+n*e[2],n+t[3]*(1-n)]}function Mn([e,t,n]){return.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))}Object.defineProperty(In,"__esModule",{value:!0}),In.getContrastThreshold=In.isLargeFont=In.getAPCAThreshold=In.desiredLuminanceAPCA=In.contrastRatioByLuminanceAPCA=In.contrastRatioAPCA=In.luminanceAPCA=In.contrastRatio=In.luminance=In.rgbaToHsla=In.blendColors=void 0,In.blendColors=Cn,In.rgbaToHsla=function([e,t,n,r]){var i=Math.max(e,t,n),o=Math.min(e,t,n),a=i-o,s=i+o,u=.5*s;return[o===i?0:e===i?(1/6*(t-n)/a+1)%1:t===i?1/6*(n-e)/a+1/3:1/6*(e-t)/a+2/3,0===u||1===u?0:u<=.5?a/s:a/(2-s),u,r]},In.luminance=Mn,In.contrastRatio=function(e,t){var n=Mn(Cn(e,t)),r=Mn(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)};var On=12.82051282051282,Pn=.06;function Rn([e,t,n]){return.2126729*Math.pow(e,2.4)+.7151522*Math.pow(t,2.4)+.072175*Math.pow(n,2.4)}function Dn(e){return e>.03?e:e+Math.pow(.03-e,1.45)}function kn(e,t){if(e=Dn(e),t=Dn(t),Math.abs(e-t)<5e-4)return 0;var n=0;return 100*(n=t>=e?(n=1.25*(Math.pow(t,.55)-Math.pow(e,.58)))<.001?0:n<.078?n-n*On*Pn:n-Pn:(n=1.25*(Math.pow(t,.62)-Math.pow(e,.57)))>-.001?0:n>-.078?n-n*On*Pn:n+Pn)}In.luminanceAPCA=Rn,In.contrastRatioAPCA=function(e,t){return kn(Rn(e),Rn(t))},In.contrastRatioByLuminanceAPCA=kn,In.desiredLuminanceAPCA=function(e,t,n){function r(){return n?Math.pow(Math.abs(Math.pow(e,.62)-(-t-Pn)/1.25),1/.57):Math.pow(Math.abs(Math.pow(e,.55)-(t+Pn)/1.25),1/.58)}e=Dn(e),t/=100;var i=r();return(i<0||i>1)&&(n=!n,i=r()),i};var Bn=[[12,-1,-1,-1,-1,100,90,80,-1,-1],[14,-1,-1,-1,100,90,80,60,60,-1],[16,-1,-1,100,90,80,60,55,50,50],[18,-1,-1,90,80,60,55,50,40,40],[24,-1,100,80,60,55,50,40,38,35],[30,-1,90,70,55,50,40,38,35,40],[36,-1,80,60,50,40,38,35,30,25],[48,100,70,55,40,38,35,30,25,20],[60,90,60,50,38,35,30,25,20,20],[72,80,55,40,35,30,25,20,20,20],[96,70,50,35,30,25,20,20,20,20],[120,60,40,30,25,20,20,20,20,20]];function jn(e,t){var n=72*parseFloat(e.replace("px",""))/96;return-1!==["bold","bolder","600","700","800","900"].indexOf(t)?n>=14:n>=18}Bn.reverse(),In.getAPCAThreshold=function(e,t){var n=parseFloat(e.replace("px","")),r=parseFloat(t);for(var[i,...o]of Bn)if(n>=i)for(var[a,s]of[900,800,700,600,500,400,300,200,100].entries())if(r>=s){var u=o[o.length-1-a];return-1===u?null:u}return null},In.isLargeFont=jn;var Ln={aa:3,aaa:4.5},Fn={aa:4.5,aaa:7};In.getContrastThreshold=function(e,t){return jn(e,t)?Ln:Fn};var Un={};Object.defineProperty(Un,"__esModule",{value:!0}),Un.adoptStyleSheet=Un.constrainNumber=Un.ellipsify=Un.createElement=Un.createTextChild=Un.createChild=Un.log=Un.Overlay=void 0;function Gn(e,t,n){var r=Vn(t,n);return r.addEventListener("click",(function(e){e.stopPropagation()}),!1),e.appendChild(r),r}function Vn(e,t){var n=document.createElement(e);if(t){var r=t.split(/\s+/);r=r.map((e=>"luna-dom-highlighter-"+e)),n.className=r.join(" ")}return n}function Wn(e){document.adoptedStyleSheets=[...document.adoptedStyleSheets,e]}Un.Overlay=class{constructor(e,t=[]){this.viewportSize={width:800,height:600},this.deviceScaleFactor=1,this.emulationScaleFactor=1,this.pageScaleFactor=1,this.pageZoomFactor=1,this.scrollX=0,this.scrollY=0,this.canvasWidth=0,this.canvasHeight=0,this._installed=!1,this._window=e,this._document=e.document,Array.isArray(t)||(t=[t]),this.style=t}setCanvas(e){this.canvas=e,this._context=e.getContext("2d")}install(){for(var e of this.style)Wn(e);this._installed=!0}uninstall(){var e=function(e){document.adoptedStyleSheets=document.adoptedStyleSheets.filter((t=>t!==e))};for(var t of this.style)e(t);this._installed=!1}reset(e){e&&(this.viewportSize=e.viewportSize,this.visualViewportSize=e.visualViewportSize,this.deviceScaleFactor=e.deviceScaleFactor,this.pageScaleFactor=e.pageScaleFactor,this.pageZoomFactor=e.pageZoomFactor,this.emulationScaleFactor=e.emulationScaleFactor,this.scrollX=Math.round(e.scrollX),this.scrollY=Math.round(e.scrollY)),this.resetCanvas()}resetCanvas(){this.canvas&&this._context&&(this.canvas.width=this.deviceScaleFactor*this.viewportSize.width,this.canvas.height=this.deviceScaleFactor*this.viewportSize.height,this.canvas.style.width=this.viewportSize.width+"px",this.canvas.style.height=this.viewportSize.height+"px",this._context.scale(this.deviceScaleFactor,this.deviceScaleFactor),this.canvasWidth=this.viewportSize.width,this.canvasHeight=this.viewportSize.height)}setPlatform(e){this.platform=e,this._installed||this.install()}dispatch(e){this[e.shift()].apply(this,e)}eventHasCtrlOrMeta(e){return"mac"===this.platform?e.metaKey&&!e.ctrlKey:e.ctrlKey&&!e.metaKey}get context(){if(!this._context)throw new Error("Context object is missing");return this._context}get document(){if(!this._document)throw new Error("Document object is missing");return this._document}get window(){if(!this._window)throw new Error("Window object is missing");return this._window}get installed(){return this._installed}},Un.log=function(e){var t=document.getElementById("log");t||((t=Gn(document.body,"div")).id="log"),Gn(t,"div").textContent=e},Un.createChild=Gn,Un.createTextChild=function(e,t){var n=document.createTextNode(t);return e.appendChild(n),n},Un.createElement=Vn,Un.ellipsify=function(e,t){return e.length<=t?String(e):e.substr(0,t-1)+"…"},Un.constrainNumber=function(e,t,n){return e<t?e=t:e>n&&(e=n),e},Un.adoptStyleSheet=Wn;var zn={};Object.defineProperty(zn,"__esModule",{value:!0}),zn.drawPath=zn.formatColor=zn.formatRgba=zn.parseHexa=zn.createPathForQuad=zn.hatchFillPath=zn.applyMatrixToPoint=zn.emptyBounds=zn.buildPath=zn.fillPathWithBoxStyle=zn.drawPathWithLineStyle=void 0;var Hn=In;function $n(e,t,n){var r=0;function i(i){for(var o=[],a=0;a<i;++a){var s=Math.round(e[r++]*n);t.maxX=Math.max(t.maxX,s),t.minX=Math.min(t.minX,s);var u=Math.round(e[r++]*n);t.maxY=Math.max(t.maxY,u),t.minY=Math.min(t.minY,u),t.leftmostXForY[u]=Math.min(t.leftmostXForY[u]||Number.MAX_VALUE,s),t.rightmostXForY[u]=Math.max(t.rightmostXForY[u]||Number.MIN_VALUE,s),t.topmostYForX[s]=Math.min(t.topmostYForX[s]||Number.MAX_VALUE,u),t.bottommostYForX[s]=Math.max(t.bottommostYForX[s]||Number.MIN_VALUE,u),t.allPoints.push({x:s,y:u}),o.push(s,u)}return o}for(var o=e.length,a=new Path2D;r<o;)switch(e[r++]){case"M":a.moveTo.apply(a,i(1));break;case"L":a.lineTo.apply(a,i(1));break;case"C":a.bezierCurveTo.apply(a,i(3));break;case"Q":a.quadraticCurveTo.apply(a,i(2));break;case"Z":a.closePath()}return a}zn.drawPathWithLineStyle=function(e,t,n,r=1){n&&n.color&&(e.save(),e.translate(.5,.5),e.lineWidth=r,"dashed"===n.pattern&&e.setLineDash([3,3]),"dotted"===n.pattern&&e.setLineDash([2,2]),e.strokeStyle=n.color,e.stroke(t),e.restore())},zn.fillPathWithBoxStyle=function(e,t,n,r,i){i&&(e.save(),i.fillColor&&(e.fillStyle=i.fillColor,e.fill(t)),i.hatchColor&&Kn(e,t,n,10,i.hatchColor,r,!1),e.restore())},zn.buildPath=$n,zn.emptyBounds=function(){return{minX:Number.MAX_VALUE,minY:Number.MAX_VALUE,maxX:-Number.MAX_VALUE,maxY:-Number.MAX_VALUE,leftmostXForY:{},rightmostXForY:{},topmostYForX:{},bottommostYForX:{},allPoints:[]}},zn.applyMatrixToPoint=function(e,t){var n=new DOMPoint(e.x,e.y);return{x:(n=n.matrixTransform(t)).x,y:n.y}};var qn,Yn="";function Kn(e,t,n,r,i,o,a){if((e.canvas.width<n.maxX-n.minX||e.canvas.height<n.maxY-n.minY)&&(n={minX:0,maxX:e.canvas.width,minY:0,maxY:e.canvas.height,allPoints:[]}),!qn||i!==Yn){Yn=i;var s=document.createElement("canvas");s.width=r,s.height=8;var u=s.getContext("2d");u.clearRect(0,0,s.width,s.height),u.rect(0,0,1,5),u.fillStyle=i,u.fill(),qn=e.createPattern(s,"repeat")}e.save();var d=new DOMMatrix;qn.setTransform(d.scale(a?-1:1,1).rotate(0,0,-45+o)),e.fillStyle=qn,e.fill(t),e.restore()}function Jn(e){return(e.match(/#(\w\w)(\w\w)(\w\w)(\w\w)/)||[]).slice(1).map((e=>parseInt(e,16)/255))}function Xn(e,t){if("rgb"===t){var[n,r,i,o]=e;return`rgb(${(255*n).toFixed()} ${(255*r).toFixed()} ${(255*i).toFixed()}${1===o?"":" / "+Math.round(100*o)/100})`}if("hsl"===t){var[a,s,u,d]=Hn.rgbaToHsla(e);return`hsl(${Math.round(360*a)}deg ${Math.round(100*s)} ${Math.round(100*u)}${1===d?"":" / "+Math.round(100*d)/100})`}throw new Error("NOT_REACHED")}zn.hatchFillPath=Kn,zn.createPathForQuad=function(e,t,n,r){var i=["M",e.p1.x,e.p1.y,"L",e.p2.x,e.p2.y,"L",e.p3.x,e.p3.y,"L",e.p4.x,e.p4.y];for(var o of t)i=[...i,"L",o.p4.x,o.p4.y,"L",o.p3.x,o.p3.y,"L",o.p2.x,o.p2.y,"L",o.p1.x,o.p1.y,"L",o.p4.x,o.p4.y,"L",e.p4.x,e.p4.y];return i.push("Z"),$n(i,n,r)},zn.parseHexa=Jn,zn.formatRgba=Xn,zn.formatColor=function(e,t){return"rgb"===t||"hsl"===t?Xn(Jn(e),t):e.endsWith("FF")?e.substr(0,7):e},zn.drawPath=function(e,t,n,r,i,o,a){e.save();var s=$n(t,o,a);return n&&(e.fillStyle=n,e.fill(s)),r&&("dashed"===i&&e.setLineDash([3,3]),"dotted"===i&&e.setLineDash([2,2]),e.lineWidth=2,e.strokeStyle=r,e.stroke(s)),e.restore(),s},Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.HighlightOverlay=void 0;var Zn=In,Qn=Un,er=zn;class tr extends Qn.Overlay{constructor(){super(...arguments),this.gridLabelState={gridLayerCounter:0}}setContainer(e){this._container=e}setPlatform(e){this.container&&this.container.classList.add("luna-dom-highlighter-platform-"+e),super.setPlatform(e)}get container(){return this._container}reset(e){super.reset(e),this.tooltip.innerHTML="",this.gridLabelState.gridLayerCounter=0}install(){var e=this.document.createElement("canvas");e.id="canvas",e.classList.add("luna-dom-highlighter-fill"),this.container.append(e);var t=this.document.createElement("div");this.container.append(t),this.tooltip=t,this.setCanvas(e),super.install()}uninstall(){this.document.body.classList.remove("fill"),this.document.body.innerHTML="",super.uninstall()}drawHighlight(e){this.context.save();for(var t=er.emptyBounds(),n=e.paths.slice();n.length;){var r=n.pop();r&&(this.context.save(),er.drawPath(this.context,r.path,r.fillColor,r.outlineColor,void 0,t,this.emulationScaleFactor),n.length&&(this.context.globalCompositeOperation="destination-out",er.drawPath(this.context,n[n.length-1].path,"red",void 0,void 0,t,this.emulationScaleFactor)),this.context.restore())}this.context.restore(),this.context.save();var i=Boolean(e.paths.length&&e.showRulers&&t.minX<20&&t.maxX+20<this.canvasWidth),o=Boolean(e.paths.length&&e.showRulers&&t.minY<20&&t.maxY+20<this.canvasHeight);return e.showRulers&&this.drawAxis(this.context,i,o),e.paths.length&&(e.showExtensionLines&&function(e,t,n,r,i,o,a,s){e.save();var u=a,d=s;e.strokeStyle=i||or,e.lineWidth=1,e.translate(.5,.5),o&&e.setLineDash([3,3]);if(n)for(var l in t.rightmostXForY)e.beginPath(),e.moveTo(u,Number(l)),e.lineTo(t.rightmostXForY[l],Number(l)),e.stroke();else for(var c in t.leftmostXForY)e.beginPath(),e.moveTo(0,Number(c)),e.lineTo(t.leftmostXForY[c],Number(c)),e.stroke();if(r)for(var h in t.bottommostYForX)e.beginPath(),e.moveTo(Number(h),d),e.lineTo(Number(h),t.topmostYForX[h]),e.stroke();else for(var p in t.topmostYForX)e.beginPath(),e.moveTo(Number(p),0),e.lineTo(Number(p),t.topmostYForX[p]),e.stroke();e.restore()}(this.context,t,i,o,void 0,!1,this.canvasWidth,this.canvasHeight),e.elementInfo&&function(e,t,n,r,i,o){e.innerHTML="";var a=Qn.createChild(e,"div"),s=Qn.createChild(a,"div","tooltip-content"),u=function(e,t){var n=Qn.createElement("div","element-info"),r=Qn.createChild(n,"div","element-info-header"),i=function(e){if(e.layoutObjectName&&e.layoutObjectName.endsWith("Grid"))return"grid";if(e.layoutObjectName&&"LayoutNGFlexibleBox"===e.layoutObjectName)return"flex";return null}(e);i&&Qn.createChild(r,"div",`element-layout-type ${i}`);var o=Qn.createChild(r,"div","element-description");Qn.createChild(o,"span","material-tag-name").textContent=e.tagName;var a=Qn.createChild(o,"span","material-node-id"),s=80;a.textContent=e.idValue?"#"+Qn.ellipsify(e.idValue,s):"",a.classList.toggle("hidden",!e.idValue);var u=Qn.createChild(o,"span","material-class-name");a.textContent.length<s&&(u.textContent=Qn.ellipsify(e.className||"",s-a.textContent.length));u.classList.toggle("hidden",!e.className);var d=Qn.createChild(r,"div","dimensions");Qn.createChild(d,"span","material-node-width").textContent=String(Math.round(100*e.nodeWidth)/100),Qn.createTextChild(d,"×"),Qn.createChild(d,"span","material-node-height").textContent=String(Math.round(100*e.nodeHeight)/100);var l,c=e.style||{};e.isLockedAncestor&&A("Showing content-visibility ancestor","");e.isLocked&&A("Descendants are skipped due to content-visibility","");var h=c.color;h&&"#00000000"!==h&&E("Color",h,t);var p=c["font-family"],f=c["font-size"];p&&"0px"!==f&&A("Font",`${f} ${p}`);var g=c["background-color"];g&&"#00000000"!==g&&E("Background",g,t);var v=c.margin;v&&"0px"!==v&&A("Margin",v);var m=c.padding;m&&"0px"!==m&&A("Padding",m);var y=e.contrast?e.contrast.backgroundColor:null,_=h&&"#00000000"!==h&&y&&"#00000000"!==y;e.showAccessibilityInfo&&(w("Accessibility"),_&&c.color&&e.contrast&&S(c.color,e.contrast),A("Name",e.accessibleName),A("Role",e.accessibleRole),T("Keyboard-focusable",e.isKeyboardFocusable?"a11y-icon a11y-icon-ok":"a11y-icon a11y-icon-not-ok"));function b(){l||(l=Qn.createChild(n,"div","element-info-body"))}function w(e){b();var t=Qn.createChild(l,"div","element-info-row element-info-section");Qn.createChild(t,"div","section-name").textContent=e,Qn.createChild(Qn.createChild(t,"div","separator-container"),"div","separator")}function x(e,t,n){b();var r=Qn.createChild(l,"div","element-info-row");return t&&r.classList.add(t),Qn.createChild(r,"div","element-info-name").textContent=e,Qn.createChild(r,"div","element-info-gap"),Qn.createChild(r,"div",n||"")}function T(e,t){Qn.createChild(x(e,"","element-info-value-icon"),"div",t)}function A(e,t){Qn.createTextChild(x(e,"","element-info-value-text"),t)}function E(e,t,n){var r=x(e,"","element-info-value-color"),i=Qn.createChild(r,"div","color-swatch");Qn.createChild(i,"div","color-swatch-inner").style.backgroundColor=t,Qn.createTextChild(r,er.formatColor(t,n))}function S(e,t){var n=er.parseHexa(e),r=er.parseHexa(t.backgroundColor);n[3]*=t.textOpacity;var i=x("Contrast","","element-info-value-contrast"),o=Qn.createChild(i,"div","contrast-text");o.style.color=er.formatRgba(n,"rgb"),o.style.backgroundColor=t.backgroundColor,o.textContent="Aa";var a=Qn.createChild(i,"span");if("apca"===t.contrastAlgorithm){var s=Zn.contrastRatioAPCA(n,r),u=Zn.getAPCAThreshold(t.fontSize,t.fontWeight);a.textContent=String(Math.floor(100*s)/100)+"%",Qn.createChild(i,"div",null===u||Math.abs(s)<u?"a11y-icon a11y-icon-warning":"a11y-icon a11y-icon-ok")}else if("aa"===t.contrastAlgorithm||"aaa"===t.contrastAlgorithm){var d=Zn.contrastRatio(n,r),l=Zn.getContrastThreshold(t.fontSize,t.fontWeight)[t.contrastAlgorithm];a.textContent=String(Math.floor(100*d)/100),Qn.createChild(i,"div",d<l?"a11y-icon a11y-icon-warning":"a11y-icon a11y-icon-ok")}}return n}(t,n);s.appendChild(u);var d,l=s.offsetWidth,c=s.offsetHeight,h=8,p=2,f=2*h,g=h+2,v=p+g,m=i-p-g-f;if(r.maxX-r.minX<f+2*g)d=.5*(r.minX+r.maxX)-h;else{var y=r.minX+g,_=r.maxX-g-f;d=y>v&&y<m?y:Qn.constrainNumber(v,y,_)}var b=d<v||d>m,w=d-g;w=Qn.constrainNumber(w,p,i-l-p);var x=r.minY-h-c,T=!0;x<0?(x=Math.min(o-c,r.maxY+h),T=!1):r.minY>o&&(x=o-h-c);var A=w>=r.minX&&w+l<=r.maxX&&x>=r.minY&&x+c<=r.maxY;if(w<r.maxX&&w+l>r.minX&&x<r.maxY&&x+c>r.minY&&!A)return void(s.style.display="none");if(s.style.top=x+"px",s.style.left=w+"px",b)return;var E=Qn.createChild(s,"div","tooltip-arrow");E.style.clipPath=T?"polygon(0 0, 100% 0, 50% 100%)":"polygon(50% 0, 0 100%, 100% 100%)",E.style.top=(T?c-1:-h)+"px",E.style.left=d-w+"px"}(this.tooltip,e.elementInfo,e.colorFormat,t,this.canvasWidth,this.canvasHeight)),this.context.restore(),{bounds:t}}drawAxis(e,t,n){e.save();var r=this.pageZoomFactor*this.pageScaleFactor*this.emulationScaleFactor,i=this.scrollX*this.pageScaleFactor,o=this.scrollY*this.pageScaleFactor;function a(e){return Math.round(e*r)}function s(e){return Math.round(e/r)}var u=this.canvasWidth/r,d=this.canvasHeight/r,l=50;e.save(),e.fillStyle=ir,n?e.fillRect(0,a(d)-15,a(u),a(d)):e.fillRect(0,0,a(u),15),e.globalCompositeOperation="destination-out",e.fillStyle="red",t?e.fillRect(a(u)-15,0,a(u),a(d)):e.fillRect(0,0,15,a(d)),e.restore(),e.fillStyle=ir,t?e.fillRect(a(u)-15,0,a(u),a(d)):e.fillRect(0,0,15,a(d)),e.lineWidth=1,e.strokeStyle=rr,e.fillStyle=rr,e.save(),e.translate(-i,.5-o);for(var c=d+s(o),h=100;h<c;h+=100)e.save(),e.translate(i,a(h)),e.rotate(-Math.PI/2),e.fillText(String(h),2,t?a(u)-7:13),e.restore();e.translate(.5,-.5);for(var p=u+s(i),f=100;f<p;f+=100)e.save(),e.fillText(String(f),a(f)+2,n?o+a(d)-7:o+13),e.restore();e.restore(),e.save(),t&&(e.translate(a(u),0),e.scale(-1,1)),e.translate(-i,.5-o);for(var g=d+s(o),v=l;v<g;v+=l){e.beginPath(),e.moveTo(i,a(v));var m=v%100?5:8;e.lineTo(i+m,a(v)),e.stroke()}e.strokeStyle=nr;for(var y=5;y<g;y+=5)y%l&&(e.beginPath(),e.moveTo(i,a(y)),e.lineTo(i+5,a(y)),e.stroke());e.restore(),e.save(),n&&(e.translate(0,a(d)),e.scale(1,-1)),e.translate(.5-i,-o);for(var _=u+s(i),b=l;b<_;b+=l){e.beginPath(),e.moveTo(a(b),o);var w=b%100?5:8;e.lineTo(a(b),o+w),e.stroke()}e.strokeStyle=nr;for(var x=5;x<_;x+=5)x%l&&(e.beginPath(),e.moveTo(a(x),o),e.lineTo(a(x),o+5),e.stroke());e.restore(),e.restore()}}Nn.HighlightOverlay=tr;var nr="rgba(0,0,0,0.2)",rr="rgba(0,0,0,0.7)",ir="rgba(255, 255, 255, 0.8)";var or="rgba(128, 128, 128, 0.3)";var ar={exports:{}},sr={exports:{}};!function(e,t){var n=Et.exports,r=be.exports,i=vt.exports;t=(0,lt.exports)({initialize:function(){this._listeners=[]},addListener:function(e){this._listeners.push(e)},rmListener:function(e){var t=this._listeners.indexOf(e);t>-1&&this._listeners.splice(t,1)},rmAllListeners:function(){this._listeners=[]},emit:function(){var e=this,t=i(arguments),o=n(this._listeners);r(o,(function(n){return n.apply(e,t)}),this)}},{mixin:function(e){r(["addListener","rmListener","emit","rmAllListeners"],(function(n){e[n]=t.prototype[n]})),e._listeners=e._listeners||[]}}),e.exports=t}(sr,sr.exports);var ur={exports:{}},dr={exports:{}};!function(e,t){t=function(e){return!(!e||1!==e.nodeType)},e.exports=t}(dr,dr.exports),function(e,t){var n=dr.exports,r=ze.exports,i=Ge.exports,o=qt.exports,a=Pt.exports,s=be.exports,u=Ae.exports;function d(e){for(var t="div",n="",r=[],o=[],a="",s=0,u=e.length;s<u;s++){var d=e[s];"#"===d||"."===d?(o.push(a),a=d):a+=d}o.push(a);for(var l=0,c=o.length;l<c;l++)(a=o[l])&&(i(a,"#")?n=a.slice(1):i(a,".")?r.push(a.slice(1)):t=a);return{tagName:t,id:n,classes:r}}t=function(e,t){for(var l=arguments.length,c=new Array(l>2?l-2:0),h=2;h<l;h++)c[h-2]=arguments[h];(n(t)||r(t))&&(c.unshift(t),t=null),t||(t={});var p=d(e),f=p.tagName,g=p.id,v=p.classes,m=document.createElement(f);return g&&m.setAttribute("id",g),o.add(m,v),s(c,(function(e){r(e)?m.appendChild(document.createTextNode(e)):n(e)&&m.appendChild(e)})),s(t,(function(e,t){r(e)?m.setAttribute(t,e):u(e)&&i(t,"on")?m.addEventListener(t.slice(2),e,!1):"style"===t&&a(m,e)})),m},e.exports=t}(ur,ur.exports),function(e,t){var n=sr.exports,r=ur.exports,i=Ht.exports,o=Pt.exports,a=Ve.exports,s=ct.exports,u=Xt.exports;t=u.ResizeObserver?n.extend({initialize:function(e){var t=this;if(e._resizeSensor)return e._resizeSensor;this.callSuper(n,"initialize");var r=new u.ResizeObserver((function(){return t.emit()}));r.observe(e),e._resizeSensor=this,this._resizeObserver=r,this._el=e},destroy:function(){var e=this._el;e._resizeSensor&&(this.rmAllListeners(),delete e._resizeSensor,this._resizeObserver.unobserve(e))}}):n.extend({initialize:function(e){if(e._resizeSensor)return e._resizeSensor;this.callSuper(n,"initialize"),this._el=e,e._resizeSensor=this,a(["absolute","relative","fixed","sticky"],o(e,"position"))||o(e,"position","relative"),this._appendResizeSensor(),this._bindEvent()},destroy:function(){var e=this._el;e._resizeSensor&&(this.rmAllListeners(),delete e._resizeSensor,e.removeChild(this._resizeSensorEl))},_appendResizeSensor:function(){var e=this._el,t={pointerEvents:"none",position:"absolute",left:"0px",top:"0px",right:"0px",bottom:"0px",overflow:"hidden",zIndex:"-1",visibility:"hidden",maxWidth:"100%"},n={position:"absolute",left:"0px",top:"0px",transition:"0s"},i=r("div",{style:n}),o=r("div.resize-sensor-expand",{style:t},i),a=r("div.resize-sensor-shrink",{style:t},r("div",{style:s({width:"200%",height:"200%"},n)})),u=r("div.resize-sensor",{dir:"ltr",style:t},o,a);this._expandEl=o,this._expandChildEl=i,this._shrinkEl=a,this._resizeSensorEl=u,e.appendChild(u),this._resetExpandShrink()},_bindEvent:function(){var e=this;i.on(this._expandEl,"scroll",(function(){return e._onScroll()})),i.on(this._shrinkEl,"scroll",(function(){return e._onScroll()}))},_onScroll:function(){this.emit(),this._resetExpandShrink()},_resetExpandShrink:function(){var e=this._el,t=e.offsetWidth,n=e.offsetHeight;o(this._expandChildEl,{width:t+10,height:n+10}),s(this._expandEl,{scrollLeft:t+10,scrollTop:n+10}),s(this._shrinkEl,{scrollLeft:t+10,scrollTop:n+10})}}),e.exports=t}(ar,ar.exports);var lr={exports:{}},cr={exports:{}};!function(e,t){t=function(e,t,n){var r;return function(){var i=this,o=arguments,a=function(){r=null,e.apply(i,o)};n||clearTimeout(r),n&&r||(r=setTimeout(a,t))}},e.exports=t}(cr,cr.exports),function(e,t){var n=cr.exports;t=function(e,t){return n(e,t,!0)},e.exports=t}(lr,lr.exports);var hr={exports:{}},pr={exports:{}};!function(e,t){var n=Ie.exports;t=function(e,t,r){return n(r)&&(r=t,t=void 0),!n(t)&&e<t?t:e>r?r:e},e.exports=t}(pr,pr.exports);var fr={exports:{}};!function(e,t){t=function(e){var t,o,a=e[0]/255,s=e[1]/255,u=e[2]/255,d=n(a,s,u),l=r(a,s,u),c=l-d;(t=n(60*(t=l===d?0:a===l?(s-u)/c:s===l?2+(u-a)/c:4+(a-s)/c),360))<0&&(t+=360);var h=(d+l)/2;o=l===d?0:h<=.5?c/(l+d):c/(2-l-d);var p=[i(t),i(100*o),i(100*h)];return e[3]&&(p[3]=e[3]),p};var n=Math.min,r=Math.max,i=Math.round;e.exports=t}(fr,fr.exports);var gr={exports:{}};!function(e,t){t=function(e){var t,r,i,o=e[0]/360,a=e[1]/100,s=e[2]/100,u=[];if(e[3]&&(u[3]=e[3]),0===a)return i=n(255*s),u[0]=u[1]=u[2]=i,u;for(var d=2*s-(t=s<.5?s*(1+a):s+a-s*a),l=0;l<3;l++)(r=o+1/3*-(l-1))<0&&r++,r>1&&r--,i=6*r<1?d+6*(t-d)*r:2*r<1?t:3*r<2?d+(t-d)*(2/3-r)*6:d,u[l]=n(255*i);return u};var n=Math.round;e.exports=t}(gr,gr.exports);var vr={exports:{}},mr={exports:{}},yr={exports:{}};!function(e,t){var n=xe.exports;t=function(e){return n(e)&&e%1==0},e.exports=t}(yr,yr.exports),function(e,t){var n=yr.exports;t=function(e){return!!n(e)&&e%2!=0},e.exports=t}(mr,mr.exports),function(e,t){var n=mr.exports;t={encode:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t.push((i>>>4).toString(16)),t.push((15&i).toString(16))}return t.join("")},decode:function(e){var t=[],r=e.length;n(r)&&r--;for(var i=0;i<r;i+=2)t.push(parseInt(e.substr(i,2),16));return t}},e.exports=t}(vr,vr.exports),function(e,t){var n=ze.exports,r=pr.exports,i=fr.exports,o=gr.exports,a=vr.exports;t=(0,lt.exports)({initialize:function(e){n(e)&&(e=t.parse(e)),this.model=e.model,this.val=e.val},toRgb:function(){var e=this.val;"hsl"===this.model&&(e=o(e));var t="rgba";return 1===e[3]&&(t="rgb",e=e.slice(0,3)),t+"("+e.join(", ")+")"},toHex:function(){var e=this.val;"hsl"===this.model&&(e=o(e));var t=a.encode(e.slice(0,3));return t[0]===t[1]&&t[2]===t[3]&&t[4]===t[5]&&(t=t[0]+t[2]+t[5]),"#"+t},toHsl:function(){var e=this.val;"rgb"===this.model&&(e=i(e));var t="hsla";return 1===e[3]&&(t="hsl",e=e.slice(0,3)),e[1]=e[1]+"%",e[2]=e[2]+"%",t+"("+e.join(", ")+")"}},{parse:function(e){var t,n,i=[0,0,0,1],o="rgb";if(n=e.match(s))for(n=n[1],t=0;t<3;t++)i[t]=parseInt(n[t]+n[t],16);else if(n=e.match(u))for(n=n[1],t=0;t<3;t++){var a=2*t;i[t]=parseInt(n.slice(a,a+2),16)}else if(n=e.match(d)){for(t=0;t<3;t++)i[t]=parseInt(n[t+1],0);n[4]&&(i[3]=parseFloat(n[4]))}else if(n=e.match(l)){for(t=0;t<3;t++)i[t]=Math.round(2.55*parseFloat(n[t+1]));n[4]&&(i[3]=parseFloat(n[4]))}else(n=e.match(c))&&(o="hsl",i=[(parseFloat(n[1])%360+360)%360,r(parseFloat(n[2]),0,100),r(parseFloat(n[3]),0,100),r(parseFloat(n[4]),0,1)]);return{val:i,model:o}}});var s=/^#([a-fA-F0-9]{3})$/,u=/^#([a-fA-F0-9]{6})$/,d=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d.]+)\s*)?\)$/,l=/^rgba?\(\s*([+-]?[\d.]+)%\s*,\s*([+-]?[\d.]+)%\s*,\s*([+-]?[\d.]+)%\s*(?:,\s*([+-]?[\d.]+)\s*)?\)$/,c=/^hsla?\(\s*([+-]?\d*[.]?\d+)(?:deg)?\s*,\s*([+-]?[\d.]+)%\s*,\s*([+-]?[\d.]+)%\s*(?:,\s*([+-]?[\d.]+)\s*)?\)$/;e.exports=t}(hr,hr.exports);var _r={exports:{}};!function(e,t){var n=rn.exports;t=function(e){return n(e).toLocaleUpperCase()},e.exports=t}(_r,_r.exports);var br={};Object.defineProperty(br,"__esModule",{value:!0});br.default=[["menuitem","command"],["rel","roletype"],["article","article"],["header","banner"],["input","button",[["type","checkbox"]]],["summary","button",[["aria-expanded","false"]]],["summary","button",[["aria-expanded","true"]]],["input","button",[["type","button"]]],["input","button",[["type","image"]]],["input","button",[["type","reset"]]],["input","button",[["type","submit"]]],["button","button"],["td","cell"],["input","checkbox",[["type","checkbox"]]],["th","columnheader"],["input","combobox",[["type","email"]]],["input","combobox",[["type","search"]]],["input","combobox",[["type","tel"]]],["input","combobox",[["type","text"]]],["input","combobox",[["type","url"]]],["input","combobox",[["type","url"]]],["select","combobox"],["select","combobox",[["size",1]]],["aside","complementary"],["footer","contentinfo"],["dd","definition"],["dialog","dialog"],["body","document"],["figure","figure"],["form","form"],["form","form"],["form","form"],["span","generic"],["div","generic"],["table","grid",[["role","grid"]]],["td","gridcell",[["role","gridcell"]]],["details","group"],["fieldset","group"],["optgroup","group"],["h1","heading"],["h2","heading"],["h3","heading"],["h4","heading"],["h5","heading"],["h6","heading"],["img","img"],["img","img"],["a","link"],["area","link"],["link","link"],["menu","list"],["ol","list"],["ul","list"],["select","listbox"],["select","listbox"],["select","listbox"],["datalist","listbox"],["li","listitem"],["main","main"],["math","math"],["menuitem","command"],["nav","navigation"],["option","option"],["progress","progressbar"],["input","radio",[["type","radio"]]],["section","region"],["section","region"],["frame","region"],["tr","row"],["tbody","rowgroup"],["tfoot","rowgroup"],["thead","rowgroup"],["th","rowheader",[["scope","row"]]],["input","searchbox",[["type","search"]]],["hr","separator"],["input","slider",[["type","range"]]],["input","spinbutton",[["type","number"]]],["output","status"],["table","table"],["dfn","term"],["input","textbox"],["input","textbox",[["type","email"]]],["input","textbox",[["type","tel"]]],["input","textbox",[["type","text"]]],["input","textbox",[["type","url"]]],["textarea","textbox"]],function(e,t){var n=pe&&pe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(ut),o=Nn,a=Jt,s=n(ar.exports),u=n(lr.exports),d=n(nn.exports),l=n(be.exports),c=n(hr.exports),h=n(vr.exports),p=n(_r.exports),f=n(ct.exports),g=n(jt.exports),v=n(Ve.exports),m=n(Ye.exports),y=n(br),_=n(ze.exports);class b extends r.default{constructor(e,{showRulers:t=!1,showExtensionLines:n=!1,showInfo:r=!0,showStyles:i=!0,showAccessibilityInfo:a=!0,colorFormat:s="hex",contentColor:d="rgba(111, 168, 220, .66)",paddingColor:l="rgba(147, 196, 125, .55)",borderColor:c="rgba(255, 229, 153, .66)",marginColor:h="rgba(246, 178, 107, .66)",monitorResize:p=!0}={}){super(e,{compName:"dom-highlighter"}),this.overlay=new o.HighlightOverlay(window),this.reset=()=>{var e=document.documentElement.clientWidth,t=document.documentElement.clientHeight;this.overlay.reset({viewportSize:{width:e,height:t},deviceScaleFactor:1,pageScaleFactor:1,pageZoomFactor:1,emulationScaleFactor:1,scrollX:window.scrollX,scrollY:window.scrollY})},this.options={showRulers:t,showExtensionLines:n,showInfo:r,showStyles:i,showAccessibilityInfo:a,colorFormat:s,contentColor:d,paddingColor:l,borderColor:c,marginColor:h,monitorResize:p},this.overlay.setContainer(e),this.overlay.setPlatform("mac"),this.redraw=u.default((()=>{this.reset(),this.draw()}),16),this.redraw(),this.bindEvent()}highlight(e,t){t&&f.default(this.options,t),this.target=e,e instanceof HTMLElement&&this.options.monitorResize&&(this.resizeSensor&&this.resizeSensor.destroy(),this.resizeSensor=new s.default(e),this.resizeSensor.addListener(this.redraw)),this.redraw()}hide(){this.target=null,this.redraw()}intercept(e){this.interceptor=e}destroy(){window.removeEventListener("resize",this.redraw),window.removeEventListener("scroll",this.redraw),this.resizeSensor&&this.resizeSensor.destroy(),super.destroy()}draw(){var{target:e}=this;e&&(e instanceof Text?this.drawText(e):this.drawElement(e))}drawText(e){var{options:t}=this,n=document.createRange();n.selectNode(e);var{left:r,top:i,width:o,height:a}=n.getBoundingClientRect();n.detach();var s={paths:[{path:this.rectToPath({left:r,top:i,width:o,height:a}),fillColor:T(t.contentColor),name:"content"}],showExtensionLines:t.showExtensionLines,showRulers:t.showRulers};t.showInfo&&(s.elementInfo={tagName:"#text",nodeWidth:o,nodeHeight:a}),this.overlay.drawHighlight(s)}drawElement(e){var t={paths:this.getPaths(e),showExtensionLines:this.options.showExtensionLines,showRulers:this.options.showRulers,colorFormat:this.options.colorFormat};if(this.options.showInfo&&(t.elementInfo=this.getElementInfo(e)),this.interceptor){var n=this.interceptor(t);n&&(t=n)}this.overlay.drawHighlight(t)}getPaths(e){var{options:t}=this,n=window.getComputedStyle(e),{left:r,top:i,width:o,height:s}=e.getBoundingClientRect(),u=e=>a.pxToNum(n.getPropertyValue(e)),d=u("margin-left"),l=u("margin-right"),c=u("margin-top"),h=u("margin-bottom"),p=u("border-left-width"),f=u("border-right-width"),g=u("border-top-width"),v=u("border-bottom-width"),m=u("padding-left"),y=u("padding-right"),_=u("padding-top"),b=u("padding-bottom");return[{path:this.rectToPath({left:r+p+m,top:i+g+_,width:o-p-m-f-y,height:s-g-_-v-b}),fillColor:T(t.contentColor),name:"content"},{path:this.rectToPath({left:r+p,top:i+g,width:o-p-f,height:s-g-v}),fillColor:T(t.paddingColor),name:"padding"},{path:this.rectToPath({left:r,top:i,width:o,height:s}),fillColor:T(t.borderColor),name:"border"},{path:this.rectToPath({left:r-d,top:i-c,width:o+d+l,height:s+c+h}),fillColor:T(t.marginColor),name:"margin"}]}getElementInfo(e){var{width:t,height:n}=e.getBoundingClientRect(),r=e.getAttribute("class")||"";r=r.split(/\s+/).map((e=>"."+e)).join("");var i={tagName:d.default(e.tagName),className:r,idValue:e.id,nodeWidth:t,nodeHeight:n};return this.options.showStyles&&(i.style=this.getStyles(e)),this.options.showAccessibilityInfo&&f.default(i,this.getAccessibilityInfo(e)),i}getStyles(e){for(var t=window.getComputedStyle(e),n=!1,r=e.childNodes,i=0,o=r.length;i<o;i++)3===r[i].nodeType&&(n=!0);var a=[];return n&&a.push("color","font-family","font-size","line-height"),a.push("padding","margin","background-color"),A(t,a)}getAccessibilityInfo(e){var t=window.getComputedStyle(e);return i()({showAccessibilityInfo:!0,contrast:i()({contrastAlgorithm:"aa",textOpacity:.1},A(t,["font-size","font-weight","background-color","text-opacity"],!0)),isKeyboardFocusable:this.isFocusable(e)},this.getAccessibleNameAndRole(e))}isFocusable(e){var t=d.default(e.tagName);if(v.default(["a","button","input","textarea","select","details"],t))return!0;var n=e.getAttribute("tabindex");return!!(n&&m.default(n)>-1)}getAccessibleNameAndRole(e){var t=e.getAttribute("labelledby")||e.getAttribute("aria-label"),n=e.getAttribute("role"),r=d.default(e.tagName);return y.default.forEach((t=>{if(!n){var i=t[0],o=t[2];if(i===r){if(o)for(var a of o)if(e.getAttribute(a[0])!==a[1])return;n=t[1]}}})),{accessibleName:t||e.getAttribute("title")||"",accessibleRole:n||"generic"}}bindEvent(){window.addEventListener("resize",this.redraw),window.addEventListener("scroll",this.redraw),this.on("optionChange",(()=>this.redraw()))}rectToPath({left:e,top:t,width:n,height:r}){var i=[];return i.push("M",e,t),i.push("L",e+n,t),i.push("L",e+n,t+r),i.push("L",e,t+r),i.push("Z"),i}}t.default=b,e.exports=b,e.exports.default=b;var w=/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,x=/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*(\d*(?:\.\d+)?)\)$/;function T(e){return _.default(e)?e:(e=e).a?`rgba(${e.r}, ${e.g}, ${e.b}, ${e.a})`:`rgb(${e.r}, ${e.g}, ${e.b})`}function A(e,t,n=!1){var r={};return l.default(t,(t=>{var i,o=e["text-opacity"===t?"color":t];o&&(i=o,(w.test(i)||x.test(i))&&(o=function(e){var t=c.default.parse(e),n=t.val[3]||1;return t.val=t.val.slice(0,3),t.val.push(Math.round(255*n)),"#"+p.default(h.default.encode(t.val))}(o),"text-opacity"===t&&(o=o.slice(7),o=h.default.decode(o)[0]/255)),n&&(t=g.default(t)),r[t]=o)})),r}}(st,st.exports);var wr,xr=(wr=st.exports)&&wr.__esModule&&Object.prototype.hasOwnProperty.call(wr,"default")?wr.default:wr,Tr={exports:{}};!function(e,t){t=function(e){var t=document.createElement("style");return t.textContent=e,t.type="text/css",document.head.appendChild(t),t},e.exports=t}(Tr,Tr.exports);var Ar=Tr.exports,Er={exports:{}};!function(e,t){t=(0,Be.exports)(ht.exports,!0),e.exports=t}(Er,Er.exports);var Sr=Er.exports,Nr={showInfo:!0,showAccessibilityInfo:!0,showStyles:!0,contentColor:{r:111,g:168,b:220,a:.66},paddingColor:{r:147,g:196,b:125,a:.55},borderColor:{r:255,g:229,b:153,a:.66},marginColor:{r:246,g:178,b:107,a:.5},eventTargetColor:{r:255,g:196,b:196,a:.66},shapeColor:{r:96,g:82,b:177,a:.8},shapeMarginColor:{r:96,g:82,b:127,a:.6}};var Ir=new class extends V{constructor(){super(),this.container=document.createElement("div"),this.isInit=!1}init(){Ar('.luna-dom-highlighter{position:fixed;left:0;top:0;width:100%;height:100%;z-index:100000;pointer-events:none;font-size:13px}.luna-dom-highlighter-fill{position:absolute;top:0;right:0;bottom:0;left:0}.luna-dom-highlighter-platform-linux{font-family:Roboto,Ubuntu,Arial,sans-serif}.luna-dom-highlighter-platform-mac{color:#303942;font-family:\'.SFNSDisplay-Regular\',\'Helvetica Neue\',\'Lucida Grande\',sans-serif}.luna-dom-highlighter-platform-windows{font-family:\'Segoe UI\',Tahoma,sans-serif}.luna-dom-highlighter-px{color:gray}#luna-dom-highlighter-element-title{position:absolute;z-index:10}.luna-dom-highlighter-tooltip-content{position:absolute;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:#fff;padding:5px 8px;border:1px solid #fff;border-radius:3px;box-sizing:border-box;min-width:100px;max-width:min(300px,100% - 4px);z-index:2;background-clip:padding-box;will-change:transform;text-rendering:optimizeLegibility;pointer-events:none;filter:drop-shadow(0 2px 4px rgba(0,0,0,.35))}.luna-dom-highlighter-tooltip-content .luna-dom-highlighter-tooltip-arrow{background:#fff;width:15px;height:8px;position:absolute}.luna-dom-highlighter-element-info-section{margin-top:12px;margin-bottom:6px}.luna-dom-highlighter-section-name{color:#333;font-weight:500;font-size:10px;text-transform:uppercase;letter-spacing:.05em;line-height:12px}.luna-dom-highlighter-element-info{display:flex;flex-direction:column}.luna-dom-highlighter-element-info-header{display:flex;align-items:center}.luna-dom-highlighter-element-info-body{display:flex;flex-direction:column;padding-top:2px;margin-top:2px}.luna-dom-highlighter-element-info-row{display:flex;line-height:19px}.luna-dom-highlighter-separator-container{display:flex;align-items:center;flex:auto;margin-left:7px}.luna-dom-highlighter-separator{border-top:1px solid #ddd;width:100%}.luna-dom-highlighter-element-info-name{flex-shrink:0;color:#666}.luna-dom-highlighter-element-info-gap{flex:auto}.luna-dom-highlighter-element-info-value-color{display:flex;color:#303942;margin-left:10px;align-items:baseline}.luna-dom-highlighter-a11y-icon{width:16px;height:16px;background-repeat:no-repeat;display:inline-block}.luna-dom-highlighter-element-info-value-contrast{display:flex;align-items:center;text-align:right;color:#303942;margin-left:10px}.luna-dom-highlighter-element-info-value-contrast .luna-dom-highlighter-a11y-icon{margin-left:8px}.luna-dom-highlighter-element-info-value-icon{display:flex;align-items:center}.luna-dom-highlighter-element-info-value-text{text-align:right;color:#303942;margin-left:10px;align-items:baseline;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.luna-dom-highlighter-color-swatch{display:flex;margin-right:2px;width:10px;height:10px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAIAAADZF8uwAAAAGUlEQVQYV2M4gwH+YwCGIasIUwhT25BVBADtzYNYrHvv4gAAAABJRU5ErkJggg==);line-height:10px}.luna-dom-highlighter-color-swatch-inner{flex:auto;border:1px solid #808002}.luna-dom-highlighter-element-layout-type{margin-right:10px;width:16px;height:16px}.luna-dom-highlighter-element-layout-type.luna-dom-highlighter-grid{background-image:url(\'data:image/svg+xml,<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="2.5" y="2.5" width="4" height="4" stroke="%231A73E8"/><rect x="9.5" y="2.5" width="4" height="4" stroke="%231A73E8"/><rect x="9.5" y="9.5" width="4" height="4" stroke="%231A73E8"/><rect x="2.5" y="9.5" width="4" height="4" stroke="%231A73E8"/></svg>\')}.luna-dom-highlighter-element-layout-type.luna-dom-highlighter-flex{background-image:url(\'data:image/svg+xml,<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 3.5h8v3H1v-3zm-1 0a1 1 0 011-1h8a1 1 0 011 1v3a1 1 0 01-1 1H1a1 1 0 01-1-1v-3zm12 0h3v3h-3v-3zm-1 0a1 1 0 011-1h3a1 1 0 011 1v3a1 1 0 01-1 1h-3a1 1 0 01-1-1v-3zm-7 6H1v3h3v-3zm-3-1a1 1 0 00-1 1v3a1 1 0 001 1h3a1 1 0 001-1v-3a1 1 0 00-1-1H1zm6 4v-3h8v3H7zm-1-3a1 1 0 011-1h8a1 1 0 011 1v3a1 1 0 01-1 1H7a1 1 0 01-1-1v-3z" fill="%231A73E8"/></svg>\')}.luna-dom-highlighter-element-description{flex:1 1;font-weight:700;word-wrap:break-word;word-break:break-all}.luna-dom-highlighter-dimensions{color:#737373;text-align:right;margin-left:10px}.luna-dom-highlighter-material-node-width{margin-right:2px}.luna-dom-highlighter-material-node-height{margin-left:2px}.luna-dom-highlighter-material-tag-name{color:#881280}.luna-dom-highlighter-material-class-name,.luna-dom-highlighter-material-node-id{color:#1a1aa6}.luna-dom-highlighter-contrast-text{width:16px;height:16px;text-align:center;line-height:16px;margin-right:8px;border:1px solid #000;padding:0 1px}.luna-dom-highlighter-a11y-icon-not-ok{background-image:url(\'data:image/svg+xml,<svg fill="none" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><path d="m9 1.5c-4.14 0-7.5 3.36-7.5 7.5s3.36 7.5 7.5 7.5 7.5-3.36 7.5-7.5-3.36-7.5-7.5-7.5zm0 13.5c-3.315 0-6-2.685-6-6 0-1.3875.4725-2.6625 1.2675-3.675l8.4075 8.4075c-1.0125.795-2.2875 1.2675-3.675 1.2675zm4.7325-2.325-8.4075-8.4075c1.0125-.795 2.2875-1.2675 3.675-1.2675 3.315 0 6 2.685 6 6 0 1.3875-.4725 2.6625-1.2675 3.675z" fill="%239e9e9e"/></svg>\')}.luna-dom-highlighter-a11y-icon-warning{background-image:url(\'data:image/svg+xml,<svg fill="none" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><path d="m8.25 11.25h1.5v1.5h-1.5zm0-6h1.5v4.5h-1.5zm.7425-3.75c-4.14 0-7.4925 3.36-7.4925 7.5s3.3525 7.5 7.4925 7.5c4.1475 0 7.5075-3.36 7.5075-7.5s-3.36-7.5-7.5075-7.5zm.0075 13.5c-3.315 0-6-2.685-6-6s2.685-6 6-6 6 2.685 6 6-2.685 6-6 6z" fill="%23e37400"/></svg>\')}.luna-dom-highlighter-a11y-icon-ok{background-image:url(\'data:image/svg+xml,<svg fill="none" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><path d="m9 1.5c-4.14 0-7.5 3.36-7.5 7.5s3.36 7.5 7.5 7.5 7.5-3.36 7.5-7.5-3.36-7.5-7.5-7.5zm0 13.5c-3.3075 0-6-2.6925-6-6s2.6925-6 6-6 6 2.6925 6 6-2.6925 6-6 6zm-1.5-4.35-1.95-1.95-1.05 1.05 3 3 6-6-1.05-1.05z" fill="%230ca40c"/></svg>\')}@media (forced-colors:active){:root,body{background-color:transparent;forced-color-adjust:none}.luna-dom-highlighter-tooltip-content{border-color:Highlight;background-color:canvas;color:text;forced-color-adjust:none}.luna-dom-highlighter-tooltip-content::after{background-color:Highlight}.luna-dom-highlighter-color-swatch-inner,.luna-dom-highlighter-contrast-text,.luna-dom-highlighter-separator{border-color:Highlight}.luna-dom-highlighter-section-name{color:Highlight}.luna-dom-highlighter-dimensions,.luna-dom-highlighter-element-info-name,.luna-dom-highlighter-element-info-value-color,.luna-dom-highlighter-element-info-value-contrast,.luna-dom-highlighter-element-info-value-icon,.luna-dom-highlighter-element-info-value-text,.luna-dom-highlighter-material-class-name,.luna-dom-highlighter-material-node-id,.luna-dom-highlighter-material-tag-name{color:canvastext}}\n\n/*# sourceMappingURL=luna-dom-highlighter.css.map*/'),Ar(".luna-dom-highlighter {\n    z-index: 2147483647;\n}"),this.domHighlighter=new xr(this.container),this.domHighlighter.intercept((function(e){e.elementInfo&&(e.elementInfo.tagName=e.elementInfo.tagName.replace(/^wx-/,""))})),this.isInit=!0}show(e,t=Nr){this.isInit||this.init(),Sr(t,{contentColor:"transparent",paddingColor:"transparent",borderColor:"transparent",marginColor:"transparent"}),document.body.appendChild(this.container),this.domHighlighter.highlight(e.$$,t)}hide(){Wt(this.container),this.domHighlighter&&this.domHighlighter.hide()}dom(){return this.container}contain(e){return this.container===e||this.container.contains(e)}},Cr=class extends ae{constructor(){super(...arguments),this.highlight=Ir}enable(){return d(this,void 0,void 0,(function*(){if(!this.tree){var e=this.container.get(g.Props);this.tree=new at(Object.assign({},e))}this.enabled=!0}))}scrollIntoViewIfNeeded(e){var t;return d(this,void 0,void 0,(function*(){var{nodeId:n,backendNodeId:r,objectId:i,rect:o}=e,a=yield this.getExparserNodeFromParams({nodeId:n,backendNodeId:r,objectId:i});null===(t=a.$$)||void 0===t||t.scrollIntoView()}))}getNodeForLocation(e){return d(this,void 0,void 0,(function*(){var{x:t,y:n}=e;if(!(null===document||void 0===document?void 0:document.elementFromPoint))throw new Error("Method not implemented.");var r=document.elementFromPoint(t,n).__wxElement;if(!r)throw new Error("");var i=this.tree.requestIdForNode(r);return{nodeId:i,backendNodeId:i,frameId:"n/a"}}))}querySelector(e){return d(this,void 0,void 0,(function*(){var{nodeId:t,selector:n}=e,r=yield this.getExparserNodeFromParams({nodeId:t}),i=-1;return r.querySelector(n)&&(i=this.tree.requestIdForNode(r)),{nodeId:i}}))}querySelectorAll(e){return d(this,void 0,void 0,(function*(){var{nodeId:t,selector:n}=e,r=(yield this.getExparserNodeFromParams({nodeId:t})).querySelectorAll(n),i=[];return(null==r?void 0:r.length)&&(i=r.map((e=>this.tree.requestIdForNode(e)))),{nodeIds:i}}))}};Cr=a([(0,o.b2)()],Cr);class Mr extends oe{constructor({exparser:e,root:t,customTabbar:n,getSkylineEngine:r,getWebviewEngine:i,hideVirtual:o=!0}){super({exparser:e,root:t,customTabbar:n,hideVirtual:o}),this.getNodeName=(e,t="")=>{var n,r,i=(null===(r=null===(n=null==e?void 0:e.$$)||void 0===n?void 0:n.GetTagName)||void 0===r?void 0:r.call(n))||e.is||t;return this.isWxComponent(e)?i.slice(3):i},this.getAttributes=e=>{var t,n,r,i,o;this.spreadScopeData();var a=[];if(e.__attributes)for(var s in e.__attributes)this.skippedDOMAttrs.has(s)||null==a||a.push(s,null!==(t=e.__attributes[s])&&void 0!==t?t:"");return!e.__attributes.style&&(null===(n=e.__styleSegments)||void 0===n?void 0:n.length)&&a.push("style",e.__styleSegments.join("")),e.__id&&a.push("id",e.__id),(null===(i=null===(r=e.classList)||void 0===r?void 0:r._rawNames)||void 0===i?void 0:i.length)&&a.push("class",((null===(o=e.classList)||void 0===o?void 0:o._rawNames)||[]).join(" ")||""),e.__component__&&a.push("is",e.is),a},this.removeAttributes=(e,t)=>{"class"===t?e.classList.setClassNames(""):"id"===t?e.id="":"style"===t?e.setNodeStyle(""):e.removeAttribute(t)},this.setAttributeValue=(e,t,n)=>{"class"===t?e.classList.setClassNames(n):"id"===t?e.id=n:"style"===t&&e.setNodeStyle?e.setNodeStyle(n):e.setAttribute(t,n)},this._webviewEngine=i,this._skylineEngine=r}getRoot(){return d(this,void 0,void 0,(function*(){var e=yield this.getPageContextId();return __virtualDOM__.getDomTreeByPageId(e)}))}getPageContext(){return d(this,void 0,void 0,(function*(){var e=yield this.getPageContextId();return this.skylineEngine.getRuntime().allContexts[e]||{}}))}getPageContextId(){return d(this,void 0,void 0,(function*(){return new Promise(((e,t)=>{wx.getCurrentWebviewId({success(t){e(t.webviewId)},fail(){t()}})}))}))}removeNode(e){var t=Object.create(null,{removeNode:{get:()=>super.removeNode}});return d(this,void 0,void 0,(function*(){yield t.removeNode.call(this,e),(yield this.getPageContext()).startRender()}))}getAttributeValue(e,t){for(var n=this.getAttributes(e),r={},i=0;i<n.length;i+=2)r[n[i]]=n[i+1];return r[t]}}var Or=class extends ae{constructor(){super(...arguments),this.highlight=ne}enable(){return d(this,void 0,void 0,(function*(){if(!this.tree){var e=this.container.get(g.Props);this.tree=new Mr(Object.assign({},e))}this.enabled=!0}))}scrollIntoViewIfNeeded(e){var t;return d(this,void 0,void 0,(function*(){var{nodeId:n,backendNodeId:r,objectId:i,rect:o}=e,a=yield this.getExparserNodeFromParams({nodeId:n,backendNodeId:r,objectId:i});null===(t=a.$$)||void 0===t||t.setScrollPosition({scrollLeft:0,scrollTop:10})}))}getNodeForLocation(e){return d(this,void 0,void 0,(function*(){var{x:t,y:n}=e,r=yield this.tree.getPageContext();if(!(null==r?void 0:r.getNodeFromPoint))throw new Error("Method getNodeFromPoint not implemented.");var i=(yield L(r.getNodeFromPoint)([t,n])).__wxElement;if(!i)throw new Error("");var o=this.tree.requestIdForNode(i);return{nodeId:o,backendNodeId:o,frameId:"n/a"}}))}querySelector(e){return d(this,void 0,void 0,(function*(){var{nodeId:t,selector:n}=e;return yield this.getExparserNodeFromParams({nodeId:t}),{nodeId:1e3}}))}querySelectorAll(e){return d(this,void 0,void 0,(function*(){return{nodeIds:[]}}))}};Or=a([(0,o.b2)()],Or);var Pr=class{constructor(){this.getNodeById=e=>{var t;return null===(t=this.DOMAdapter)||void 0===t?void 0:t.tree.getNodeById(e)}}get enabled(){var e,t;return null!==(t=null===(e=this.DOMAdapter)||void 0===e?void 0:e.enabled)&&void 0!==t&&t}logRemoteObject(e){return d(this,void 0,void 0,(function*(){return console.log(x(e.objectId))}))}setInspectedNode(e){var t;return d(this,void 0,void 0,(function*(){var n=null===(t=this.DOMAdapter)||void 0===t?void 0:t.tree.setInspectedNodeForExparser(e.nodeId);if(n)return{variableName:n};throw new Error("Failed to set inspected node")}))}getNodeData(e){var t;return d(this,void 0,void 0,(function*(){var{nodeId:n}=e,r=this.getNodeById(n);return{data:/^wx-/.test(null!==(t=r.is)&&void 0!==t?t:"")?{}:r.data}}))}getNodeDetails(e){var t,n,r;return d(this,void 0,void 0,(function*(){var{nodeId:i}=e,o=this.getNodeById(i),a={},s={},u={};if(!/^wx-/.test(null!==(t=o.is)&&void 0!==t?t:""))for(var[d,l]of Object.entries(o.data))a[d]=w(l);for(var c of null===(n=this.DOMAdapter)||void 0===n?void 0:n.tree.exparser.Component.listPublicProperties(o))Reflect.has(a,c)||(s[c]=w(o.__dataProxy._data[c]));for(var[h,p]of Object.entries(null!==(r=o.__wxEvents)&&void 0!==r?r:{}))u[h]=w(p);return{data:a,events:u,props:s}}))}disable(){var e;return d(this,void 0,void 0,(function*(){null===(e=this.DOMAdapter)||void 0===e||e.disable()}))}enable(){var e;return d(this,void 0,void 0,(function*(){null===(e=this.DOMAdapter)||void 0===e||e.enable()}))}};a([I("DOM"),(0,o.jt)(),u("design:type",Cr)],Pr.prototype,"DOMAdapter",void 0),Pr=a([(0,o.b2)()],Pr);var Rr=class{get enabled(){return this.DOMAdapter.enabled&&this._enabled}disable(){return d(this,void 0,void 0,(function*(){this._enabled=!1}))}enable(){return d(this,void 0,void 0,(function*(){if(!this.DOMAdapter.enabled)throw new Error("Enable DOM first.");this._enabled=!0}))}findExparserNode(e){return d(this,void 0,void 0,(function*(){for(;e&&!e.__wxElement;)e=e.parentNode;if(e){var t,n=e.__wxElement;return exparser.ElementIterator.create(n,"composed-ancestors",exparser.Element).forEach((e=>{var n;if("//"===(null===(n=exparser.Component.getComponentOptions(e))||void 0===n?void 0:n.domain))return t=e,!1})),t}}))}emitInspectNodeRequested(e){return d(this,void 0,void 0,(function*(){if(e){var{tree:t}=this.DOMAdapter,n=t.requestIdForNode(e);this.bridge.emit({method:"Overlay.inspectNodeRequested",params:{backendNodeId:n}})}}))}getHighlightObjectForTest(e){throw new Error("Method not implemented.")}getGridHighlightObjectsForTest(e){throw new Error("Method not implemented.")}getSourceOrderHighlightObjectForTest(e){throw new Error("Method not implemented.")}hideHighlight(){throw new Error("Method not implemented.")}highlightFrame(e){throw new Error("Method not implemented.")}highlightNode(e){throw new Error("Method not implemented.")}highlightQuad(e){throw new Error("Method not implemented.")}highlightRect(e){throw new Error("Method not implemented.")}highlightSourceOrder(e){throw new Error("Method not implemented.")}setInspectMode(e){return d(this,void 0,void 0,(function*(){var{mode:t,highlightConfig:n}=e;switch(t){case"searchForNode":this.startInspect(n);break;case"none":this.stopInspect();break;default:throw new Error("Method not implemented.")}}))}setShowAdHighlights(e){throw new Error("Method not implemented.")}setPausedInDebuggerMessage(e){throw new Error("Method not implemented.")}setShowDebugBorders(e){throw new Error("Method not implemented.")}setShowFPSCounter(e){throw new Error("Method not implemented.")}setShowGridOverlays(e){throw new Error("Method not implemented.")}setShowFlexOverlays(e){throw new Error("Method not implemented.")}setShowScrollSnapOverlays(e){throw new Error("Method not implemented.")}setShowContainerQueryOverlays(e){throw new Error("Method not implemented.")}setShowPaintRects(e){throw new Error("Method not implemented.")}setShowLayoutShiftRegions(e){throw new Error("Method not implemented.")}setShowScrollBottleneckRects(e){throw new Error("Method not implemented.")}setShowHitTestBorders(e){throw new Error("Method not implemented.")}setShowWebVitals(e){throw new Error("Method not implemented.")}setShowViewportSizeOnResize(e){throw new Error("Method not implemented.")}setShowHinge(e){throw new Error("Method not implemented.")}on(e,t){throw new Error("Method not implemented.")}};a([I("DOM"),u("design:type",ae)],Rr.prototype,"DOMAdapter",void 0),a([(0,o.f3)(p),u("design:type",m)],Rr.prototype,"bridge",void 0),Rr=a([(0,o.b2)()],Rr);var Dr=class extends Rr{constructor(){super(...arguments),this.highlight=Ir,this.handleClickEvents=e=>d(this,void 0,void 0,(function*(){e.preventDefault(),e.stopPropagation();var{x:t,y:n}=e,r=yield this.hitTest(t,n);if(r)return this.emitInspectNodeRequested(r),!1})),this.handleMouseDownEvents=e=>{document.body.dispatchEvent(new CustomEvent("touchcancel"))},this.handleMouseMoveEvents=j((e=>d(this,void 0,void 0,(function*(){var{x:t,y:n}=e,r=yield this.hitTest(t,n);if(r){var i=this.DOMAdapter.tree.requestIdForNode(r);this.bridge.emit({method:"Overlay.nodeHighlightRequested",params:{nodeId:i}}),this.highlight.show(r,this.highlightConfig)}}))),100),this.handleMouseOutEvents=j((e=>d(this,void 0,void 0,(function*(){this.highlight.hide()}))),100)}hitTest(e,t){return d(this,void 0,void 0,(function*(){document.body.style.pointerEvents="";var n=document.elementFromPoint(e,t),r=n?yield this.findExparserNode(n):null;return document.body.style.pointerEvents="none",r}))}startInspect(e){document.body.style.pointerEvents="none",this.highlightConfig=e,document.addEventListener("click",this.handleClickEvents),document.addEventListener("mousedown",this.handleMouseDownEvents),document.addEventListener("mousemove",this.handleMouseMoveEvents),document.addEventListener("mouseout",this.handleMouseOutEvents)}stopInspect(){document.body.style.pointerEvents="",this.highlightConfig=void 0,document.removeEventListener("click",this.handleClickEvents),document.removeEventListener("mousedown",this.handleMouseDownEvents),document.removeEventListener("mousemove",this.handleMouseMoveEvents),document.removeEventListener("mouseout",this.handleMouseOutEvents),this.bridge.emit({method:"Overlay.inspectModeCanceled",params:void 0})}};Dr=a([(0,o.b2)()],Dr);var kr=class extends Rr{constructor(){super(...arguments),this.highlight=ne,this.handleClickEvents=e=>d(this,void 0,void 0,(function*(){if(e&&!Y(e))return this.emitInspectNodeRequested(e),!1})),this.handleMouseOverEvents=j((e=>d(this,void 0,void 0,(function*(){if(e&&!Y(e)){var t=this.DOMAdapter.tree.requestIdForNode(e);this.bridge.emit({method:"Overlay.nodeHighlightRequested",params:{nodeId:t}}),yield this.highlight.show(e,this.highlightConfig)}}))),100)}hitTest(e,t){return new Promise((n=>d(this,void 0,void 0,(function*(){(yield this.DOMAdapter.tree.getPageContext()).getNodeFromPoint(e,t,(e=>d(this,void 0,void 0,(function*(){var t=e?yield this.findExparserNode(e):null;t=Y(t)?null:t,n(t)}))))}))))}startInspect(e){return d(this,void 0,void 0,(function*(){this.highlightConfig=e,this.DOMAdapter.tree.skylineEngine.getRuntime().startTouchEventInterception((e=>{var t=e.target;if(t){var n=t.__wxElement;"tap"===e.type?this.handleClickEvents(n):"mouseover"===e.type&&this.handleMouseOverEvents(n)}}))}))}stopInspect(){return d(this,void 0,void 0,(function*(){this.highlightConfig=void 0;var e=yield this.DOMAdapter.tree.getPageContextId();this.DOMAdapter.tree.skylineEngine.getRuntime().stopTouchEventInterception(e),this.bridge.emit({method:"Overlay.inspectModeCanceled",params:void 0})}))}};kr=a([(0,o.b2)()],kr);var Br=class{constructor(e){this.fallbackAdapter=new B,this.handler=this.handleCommand.bind(this),this.bridge=e,this.bridge.on("command",this.handler)}destroy(){this.bridge.off("command",this.handler)}handleCommand(e){var t,n;return d(this,void 0,void 0,(function*(){var r,{id:i,method:o,params:a}=e,[s,u]=o.split("."),d=`${s}Adapter`,l=null!==(t=Reflect.get(this,d))&&void 0!==t?t:this.fallbackAdapter;if(l.enabled||"enable"===u)try{r=null!==(n=yield l[u](a))&&void 0!==n?n:{}}catch(e){console.error(`inspectee ${o} error:`,e),r={message:"N/A"}}else r={message:"disabled, enable it first"};this.bridge.reply(i,r)}))}};a([I("CSS"),(0,o.jt)(),u("design:type",ue)],Br.prototype,"CSSAdapter",void 0),a([I("DOM"),(0,o.jt)(),u("design:type",Cr)],Br.prototype,"DOMAdapter",void 0),a([I("Misc"),(0,o.jt)(),u("design:type",D)],Br.prototype,"MiscAdapter",void 0),a([I("Runtime"),(0,o.jt)(),u("design:type",E)],Br.prototype,"RuntimeAdapter",void 0),a([I("Overlay"),(0,o.jt)(),u("design:type",Rr)],Br.prototype,"OverlayAdapter",void 0),a([I("Exparser"),(0,o.jt)(),u("design:type",Pr)],Br.prototype,"ExparserAdapter",void 0),a([I(),(0,o.jt)(),u("design:type",Object)],Br.prototype,"fallbackAdapter",void 0),Br=a([(0,o.b2)(),s(0,(0,o.f3)(p)),u("design:paramtypes",[m])],Br);var jr=!1;var Lr=n(7528),Fr=n(5982);class Ur{init(){return e=(e,{bindAdapter:t,bindBridge:n,bindVirtualTreeProps:r})=>{n(new Fr.DZ(Lr.Lm.RendererInspectee)),window.__skylineEngine__?(r({exparser:()=>window.exparser||window.__skylineEngine__.getRuntime().getExparser(),root:()=>window.__DOMTree__,customTabbar:()=>window.__TAB_BAR__,getSkylineEngine:()=>window.__skylineEngine__,getWebviewEngine:()=>window.__webviewEngine__}),t(ot,"CSS"),t(Or,"DOM"),t(kr,"Overlay")):(r({exparser:()=>window.exparser,root:()=>window.__DOMTree__,customTabbar:()=>window.__TAB_BAR__}),t(nt,"CSS"),t(Cr,"DOM"),t(Dr,"Overlay"))},n=()=>{var e=N.get(f);return Reflect.set(globalThis,"wxInspectee",e),e},jr?t?n:n():(jr=!0,N.bind(v).toConstantValue(N),N.bind(f).to(Br).inSingletonScope(),N.bind(h).to(B).whenTargetNamed("default"),O(N,B),e(N,{bindAdapter:R(N,O),getAdapter:R(N,P),bindBridge:R(N,M),bindVirtualTreeProps:R(N,C)}),t?(t(n),n):n());var e,t,n}waitReady(){var e=null;return new Promise((t=>{e=setInterval((()=>{window.__DOMTree__&&(window.exparser||window.__skylineEngine__.getRuntime().getExparser())&&(clearInterval(e),t())}),100)}))}}},2174:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Inspector:()=>x});var r=n(4927),i=n.n(r),o=(n(7933),n(7528)),a=n(5982),s=n(5185);function u(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}var d,l=()=>{};class c{constructor(e={}){this.resolve=l,this.reject=l,this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n;var{timeout:r}=e;r&&setTimeout((()=>n("timeout")),r)}))}}class h extends Map{get(e){var t=super.get(e);return t&&super.delete(e),t}}!function(e){e[e.Inspector=0]="Inspector",e[e.RendererInspectee=1]="RendererInspectee",e[e.ServiceInspectee=2]="ServiceInspectee",e[e.AllInspectee=3]="AllInspectee"}(d||(d={}));var p,f=class{constructor(e=d.AllInspectee){this.callbacks=new Map,this.type=e}get inited(){return this._inited}init(){this.initSubscription(this.handleCDPMessage.bind(this)),this._inited=!0}emit(e){this.send(e)}reply(e,t){this.send({id:e,result:t})}on(e,t){this.callbacks.has(e)||this.callbacks.set(e,[]),this.callbacks.get(e).push(t)}off(e,t){if(this.callbacks.has(e)){var n=this.callbacks.get(e);n=[...n.filter((e=>e!==t))]}}handleCDPMessage(e,t,n){var r,i,o,a,s;((a=this.type)===(s=t)||a&s)&&("id"in e?null===(r=this.callbacks.get("command"))||void 0===r||r.forEach((t=>t(e,n))):null===(i=this.callbacks.get("event"))||void 0===i||i.forEach((t=>t(e,n))),null===(o=this.callbacks.get("all"))||void 0===o||o.forEach((t=>t(e,n))))}};f=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}([(0,s.b2)(),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Number])],f);class g{constructor(e,t,n){this.cachedObject={},this.inspector=t,this.object=e,this.target=n}getProperties(e={}){return u(this,void 0,void 0,(function*(){var{objectId:t}=this.object;if(t){var{result:n}=yield this.inspector.request({method:"Runtime.getProperties",params:Object.assign({objectId:t},e)},this.target);return n}return[]}))}}var v,m,y=p=class{constructor(e){this.requestMap=new h,this.eventHandlersMap=new Map,this._handleEvent=this.handleEvent.bind(this),this._handleCommand=this.handleCommand.bind(this),this.bridge=e,this.init()}init(){console.debug(this.bridge),this.bridge.on("event",this._handleEvent),this.bridge.on("command",this._handleCommand)}destroy(){this.bridge.off("event",this._handleEvent),this.bridge.off("command",this._handleCommand)}enable(e,t=d.AllInspectee){return this.request({method:`${e}.enable`,params:{}},t)}request(e,t=d.AllInspectee){return u(this,void 0,void 0,(function*(){var{id:n}=p.idAssigner,r=new c;return this.requestMap.set(n,r),this.bridge.send(Object.assign({id:n},e),t),r.promise}))}handleCommand(e){var{id:t,result:n}=e,r=this.requestMap.get(t);r&&(n?r.resolve(n):r.reject("protocol error"))}handleEvent(e,t){var{method:n}=e,r=this.eventHandlersMap.get(n);r&&r.forEach((n=>n(e,t)))}addListener(e,t,n){var r;this.eventHandlersMap.has(e)||this.eventHandlersMap.set(e,[]);var i=void 0===n?t:(e,r)=>r===n&&t(e,r);null===(r=this.eventHandlersMap.get(e))||void 0===r||r.push(i)}removeListener(e,t){var n=this.eventHandlersMap.get(e);n&&this.eventHandlersMap.set(e,t?n.filter((e=>e!==t)):[])}listenUntil(e,t,n){var r;this.eventHandlersMap.has(e)||this.eventHandlersMap.set(e,[]);null===(r=this.eventHandlersMap.get(e))||void 0===r||r.push(((r,i)=>{n&&i!==n||t(r,i)&&this.removeListener(e,t)}))}parseRemoteObject(e,t){return new g(e,this,t)}logToInspectee(e=d.AllInspectee,...t){var n=JSON.stringify(t);this.request({method:"Runtime.evaluate",params:{expression:`(console.log(...${n}))`}},e)}};y.idAssigner=new class{constructor(e=0){this._id=e}get id(){return this._id++}reset(){this._id=0}},y=p=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}([(0,s.b2)(),(v=0,m=(0,s.f3)("Bridge"),function(e,t){m(e,t,v)}),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[f])],y);var _={Adapter:"Adapter",Bridge:"Bridge",Inspectee:"Inspectee",Inspector:"Inspector",VirtualTree:{Props:"VirtualTreeProps"},HighLight:"HighLight",Container:"Container"};Map;Map;var b=n(5820),w={Container:Symbol("Container")};class x{constructor({inspectee:e}){this._ready=!1,this._lastActiveId=null,this._inspectee=e,this._inspector=null}get debuggee(){return{targetId:window.__webviewId__}}init(){var e=this;return i()((function*(){e._inspector=e.initWxInspector(),e.addEventListeners(),e.bindHandlers(),e.initMessager(),e._ready=!0,yield e.enableDomains(),b.makeReady(),console.log("remote-debug inited")}))()}initWxInspector(){var e=new s.W2({skipBaseClassChecks:!0}),t=new a.DZ(o.Lm.Inspector);e.bind(w.Container).toConstantValue(e),e.bind(_.Bridge).toConstantValue(t),e.bind(_.Inspector).to(y).inSingletonScope();var n=e.get(_.Inspector);return Reflect.set(globalThis,"wxInspector",n),n}bindHandlers(){this._customMethodMap={"DOM.getDocument":"getDocument"}}addEventListeners(){["DOM.attributeRemoved","DOM.attributeModified","DOM.characterDataModified","DOM.childNodeInserted","DOM.childNodeRemoved","DOM.documentUpdated","DOM.setChildNodes","Overlay.inspectNodeRequested","Overlay.nodeHighlightRequested","WxHost.setWxssFile","WxComponent.componentDataChanged"].forEach((e=>{this._inspector.addListener(e,(({method:t,params:n})=>{this._ready&&(e.startsWith("WxHost.")?this.triggerHostEvent(t,n):this.triggerDebugeeEvent(t,n))}))}))}initMessager(){b.subscribe("remoteDebugCommand",(e=>{this.exec(e)}))}triggerDebugeeEvent(e,t){b.send({command:"DEBUGGEE_EVENT",data:{debuggee:this.debuggee,method:e,params:t}})}triggerHostEvent(e,t){b.send({command:"HOST_EVENT",data:{debuggee:this.debuggee,method:e,params:t}})}enableDomains(){var e=this;return i()((function*(){for(var t of["DOM","CSS","Overlay"])yield e._inspector.enable(t,o.Lm.RendererInspectee)}))()}getDocument(e,t){var n=this;return i()((function*(){var{root:r}=yield n._inspector.request({method:e,params:t},o.Lm.RendererInspectee);return{baseURL:"https://servicewechat.com/page-frame.html",inspectee:"exparser",root:r}}))()}commonCDPCall(e,t){var n=this;return i()((function*(){return yield n._inspector.request({method:e,params:t},o.Lm.RendererInspectee)}))()}exec(e){var t=this;return i()((function*(){if(t._ready){var n,r=t._customMethodMap[e.method];n="function"==typeof t[r]?yield t[r](e.method,e.commandParams):yield t.commonCDPCall(e.method,e.commandParams),e.callbackID&&n&&b.send({command:"DEBUGGEE_CALLBACK",callbackID:e.callbackID,data:n})}}))()}}},5820:e=>{e.exports=new class{constructor(){this.isReady=!1,this.bridge=window.wx||__global.WeixinJSBridge,this.handles=[]}makeReady(){this.isReady=!0,this.handles.forEach((e=>e())),this.handles=[]}send(e){this.bridge.invoke("remoteDebugInfo",e,(()=>{}))}invoke(e,t,n){this.bridge.invoke(e,t,n)}subscribe(e,t){this.bridge.on(e,((...e)=>{this.isReady?t&&t(...e):this.handles.push((()=>{t&&t(...e)}))}))}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e=n(4927).default,{Inspector:t}=n(2174),{Inspectee:r}=n(1767);(Reflect.has(globalThis,"__wxConfig")&&__wxConfig.onReady?__wxConfig.onReady:setTimeout)(e((function*(){var e=new r,n=new t({inspectee:e});n.initMessager(),yield e.waitReady(),e.init(),n.init()})))})()})();var WARemoteDebugVersion="2023.4.12 1:36";